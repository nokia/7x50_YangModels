submodule nokia-conf-test-oam {

    yang-version "1.1";

    belongs-to nokia-conf { prefix "conf"; }

    import nokia-sros-yang-extensions     { prefix "sros-ext"; }
    import nokia-types-oam                { prefix "types-oam"; }
    import nokia-types-qos                { prefix "types-qos"; }
    import nokia-types-sros               { prefix "types-sros"; }

    include nokia-conf-groups;
    include nokia-conf-testoam-service-activation-testhead;

    sros-ext:sros-major-release "rel23";
    organization "Nokia";
    contact
        "Nokia SR OS Support
         Web: <http://www.nokia.com>";
    description
        "Nokia YANG Data model to configure OAM test parameters configuration on SR OS based routers.

         Copyright 2016 Nokia. All rights reserved. Reproduction of this document
         is authorized on the condition that the foregoing copyright notice is included.

         This nokia-conf-test-oam YANG module embodies Nokia's proprietary
         intellectual property. Nokia retains all title and ownership in the
         specification, including any revisions.

         Nokia grants all interested parties a non-exclusive license to use
         and distribute an unmodified copy of this specification in connection with
         management of Nokia products, and without fee, provided this
         copyright notice and license appear on all copies.

         This specification is supplied `as is', and Nokia makes no warranty,
         either express or implied, as to the use, operation, condition, or performance
         of the specification.";
    revision "2023-02-28";

    grouping conf-test-oam {
        ///nokia-conf/configure/test-oam
        container test-oam {
            description "Enable the test-oam context";

            ///nokia-conf/configure/test-oam/apply-groups
            leaf-list apply-groups {
                type leafref {
                    path "../../groups/group/name";
                }
                max-elements 8;
                ordered-by user;
                description "Apply a configuration group at this level";
            }

            ///nokia-conf/configure/test-oam/apply-groups-exclude
            leaf-list apply-groups-exclude {
                type leafref {
                    path "../../groups/group/name";
                }
                max-elements 8;
                ordered-by user;
                description "Exclude a configuration group at this level";
            }

            ///nokia-conf/configure/test-oam/link-measurement
            container link-measurement {
                description "Enter the link-measurement context";

                ///nokia-conf/configure/test-oam/link-measurement/measurement-template
                list measurement-template {
                    key "template-name";
                    description "Enter the measurement-template list instance";

                    ///nokia-conf/configure/test-oam/link-measurement/measurement-template/template-name
                    leaf template-name {
                        type types-sros:named-item-64;
                        description "Measurement template name";
                    }

                    ///nokia-conf/configure/test-oam/link-measurement/measurement-template/admin-state
                    leaf admin-state {
                        type types-sros:admin-state;
                        default "disable";
                        description "Administrative state of the measurement template";
                    }

                    ///nokia-conf/configure/test-oam/link-measurement/measurement-template/description
                    leaf description {
                        type types-sros:description;
                        description "Text description";
                    }

                    ///nokia-conf/configure/test-oam/link-measurement/measurement-template/unidirectional-measurement
                    leaf unidirectional-measurement {
                        type enumeration {
                            enum derived                        { value 1; }
                            enum actual                         { value 2; }
                        }
                        default "derived";
                        description "Method used to compute the unidirectional delay value";
                    }

                    ///nokia-conf/configure/test-oam/link-measurement/measurement-template/delay
                    leaf delay {
                        type enumeration {
                            enum min                            { value 1; }
                            enum max                            { value 2; }
                            enum avg                            { value 3; }
                        }
                        default "min";
                        description "Delay measurement statistic type";
                    }

                    ///nokia-conf/configure/test-oam/link-measurement/measurement-template/interval
                    leaf interval {
                        type uint32 {
                            range "1..10";
                        }
                        units "seconds";
                        default "1";
                        description "Interval between test packet transmissions";
                    }

                    ///nokia-conf/configure/test-oam/link-measurement/measurement-template/last-reported-delay-hold
                    leaf last-reported-delay-hold {
                        type uint32 {
                            range "0|1..86400";
                        }
                        units "seconds";
                        default "86400";
                        description "Time to wait to flush the last reported delay";
                    }

                    ///nokia-conf/configure/test-oam/link-measurement/measurement-template/reporting
                    leaf reporting {
                        type boolean;
                        default "true";
                        description "Report behavior for values for the configured threshold";
                    }

                    ///nokia-conf/configure/test-oam/link-measurement/measurement-template/apply-groups
                    leaf-list apply-groups {
                        type leafref {
                            path "../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        description "Apply a configuration group at this level";
                    }

                    ///nokia-conf/configure/test-oam/link-measurement/measurement-template/apply-groups-exclude
                    leaf-list apply-groups-exclude {
                        type leafref {
                            path "../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        description "Exclude a configuration group at this level";
                    }

                    ///nokia-conf/configure/test-oam/link-measurement/measurement-template/twamp-light
                    container twamp-light {
                        description "Enter the twamp-light context";

                        ///nokia-conf/configure/test-oam/link-measurement/measurement-template/twamp-light/allow-egress-remark-dscp
                        leaf allow-egress-remark-dscp {
                            type boolean;
                            default "false";
                            description "Allow overwrite of DSCP value by the egress QoS policy";
                        }

                        ///nokia-conf/configure/test-oam/link-measurement/measurement-template/twamp-light/allow-ipv6-udp-checksum-zero
                        leaf allow-ipv6-udp-checksum-zero {
                            type boolean;
                            default "false";
                            description "Process IPv6 packets with UDP check sum zero";
                        }

                        ///nokia-conf/configure/test-oam/link-measurement/measurement-template/twamp-light/dscp
                        leaf dscp {
                            type types-qos:dscp-name;
                            default "nc1";
                            description "DSCP copied to TWAMP Light echo request packet header";
                        }

                        ///nokia-conf/configure/test-oam/link-measurement/measurement-template/twamp-light/dest-udp-port
                        leaf dest-udp-port {
                            type types-sros:tcp-udp-port-non-zero;
                            default "862";
                            description "Destination UDP port used by link measurement tests";
                        }

                        ///nokia-conf/configure/test-oam/link-measurement/measurement-template/twamp-light/fc
                        leaf fc {
                            type types-sros:fc-name;
                            default "h1";
                            description "Forwarding class name for the TWAMP Light packets";
                        }

                        ///nokia-conf/configure/test-oam/link-measurement/measurement-template/twamp-light/profile
                        leaf profile {
                            type types-qos:profile-in-out;
                            default "in";
                            description "QoS profile for packet treatment in local node";
                        }

                        ///nokia-conf/configure/test-oam/link-measurement/measurement-template/twamp-light/timestamp-format
                        leaf timestamp-format {
                            type enumeration {
                                enum ntp                            { value 1; }
                                enum ptp                            { value 2; }
                            }
                            default "ntp";
                            description "Format of the timestamp used in TWAMP Light PDU";
                        }

                        ///nokia-conf/configure/test-oam/link-measurement/measurement-template/twamp-light/ttl
                        leaf ttl {
                            type uint32 {
                                range "1..255";
                            }
                            default "1";
                            description "Time to live value used in the TWAMP Light test packet";
                        }

                        ///nokia-conf/configure/test-oam/link-measurement/measurement-template/twamp-light/src-udp-port
                        leaf src-udp-port {
                            type types-sros:tcp-udp-port-non-zero {
                                range "64374..64383";
                            }
                            description "Fixed source UDP port for link measurement tests";
                        }

                        ///nokia-conf/configure/test-oam/link-measurement/measurement-template/twamp-light/pad-tlv-size
                        leaf pad-tlv-size {
                            type uint32 {
                                range "4..9714";
                            }
                            units "bytes";
                            description "Optional PAD TLV size";
                        }

                        ///nokia-conf/configure/test-oam/link-measurement/measurement-template/twamp-light/ipv6-destination-discovery
                        container ipv6-destination-discovery {
                            description "Enter the ipv6-destination-discovery context";

                            ///nokia-conf/configure/test-oam/link-measurement/measurement-template/twamp-light/ipv6-destination-discovery/discovery-timer
                            leaf discovery-timer {
                                type uint32 {
                                    range "1..1800";
                                }
                                units "seconds";
                                default "60";
                                description "Maximum time to remain in the discovery phase";
                            }

                            ///nokia-conf/configure/test-oam/link-measurement/measurement-template/twamp-light/ipv6-destination-discovery/update-interval
                            leaf update-interval {
                                type uint32 {
                                    range "0|1..3600";
                                }
                                units "seconds";
                                default "600";
                                description "Transmission frequency to maintain the peer address";
                            }

                            ///nokia-conf/configure/test-oam/link-measurement/measurement-template/twamp-light/ipv6-destination-discovery/discovery-interval
                            leaf discovery-interval {
                                type uint32 {
                                    range "1..10";
                                }
                                units "seconds";
                                default "10";
                                description "Transmission frequency for discovery packets";
                            }

                            ///nokia-conf/configure/test-oam/link-measurement/measurement-template/twamp-light/ipv6-destination-discovery/admin-state
                            leaf admin-state {
                                type types-sros:admin-state;
                                default "disable";
                                description "Administrative state of IPv6 auto destination discovery";
                            }

                        } // container ipv6-destination-discovery

                        ///nokia-conf/configure/test-oam/link-measurement/measurement-template/twamp-light/return-path
                        container return-path {
                            description "Enter the return-path context";

                            ///nokia-conf/configure/test-oam/link-measurement/measurement-template/twamp-light/return-path/tlv
                            choice tlv {
                                ///nokia-conf/configure/test-oam/link-measurement/measurement-template/twamp-light/return-path/tlv/link
                                case link {

                                    ///nokia-conf/configure/test-oam/link-measurement/measurement-template/twamp-light/return-path/tlv/link/link
                                    leaf link {
                                        type boolean;
                                        default "false";
                                        description "The Return Path sub-TLV specifying link";
                                    }

                                }
                            }
                        } // container return-path

                    } // container twamp-light

                    ///nokia-conf/configure/test-oam/link-measurement/measurement-template/aggregate-sample-window
                    container aggregate-sample-window {
                        description "Enter the aggregate-sample-window context";

                        ///nokia-conf/configure/test-oam/link-measurement/measurement-template/aggregate-sample-window/multiplier
                        leaf multiplier {
                            type uint32 {
                                range "1..12";
                            }
                            default "12";
                            description "Number of sample windows in the aggregate sample window";
                        }

                        ///nokia-conf/configure/test-oam/link-measurement/measurement-template/aggregate-sample-window/window-integrity
                        leaf window-integrity {
                            type uint32 {
                                range "1..100";
                            }
                            units "percent";
                            description "Sample percentage required for window integrity report";
                        }

                        ///nokia-conf/configure/test-oam/link-measurement/measurement-template/aggregate-sample-window/threshold
                        container threshold {
                            description "Enter the threshold context";

                            ///nokia-conf/configure/test-oam/link-measurement/measurement-template/aggregate-sample-window/threshold/relative
                            leaf relative {
                                type uint32 {
                                    range "1..100";
                                }
                                units "percent";
                                description "Relative delta for measurement reporting";
                            }

                            ///nokia-conf/configure/test-oam/link-measurement/measurement-template/aggregate-sample-window/threshold/absolute
                            leaf absolute {
                                type uint32 {
                                    range "1..100000";
                                }
                                units "microseconds";
                                description "Absolute delta for delay measurement reporting";
                            }

                        } // container threshold

                    } // container aggregate-sample-window

                    ///nokia-conf/configure/test-oam/link-measurement/measurement-template/sample-window
                    container sample-window {
                        description "Enter the sample-window context";

                        ///nokia-conf/configure/test-oam/link-measurement/measurement-template/sample-window/multiplier
                        leaf multiplier {
                            type uint32 {
                                range "1..900";
                            }
                            default "10";
                            description "Multiplier of interval used for sample window length";
                        }

                        ///nokia-conf/configure/test-oam/link-measurement/measurement-template/sample-window/window-integrity
                        leaf window-integrity {
                            type uint32 {
                                range "1..100";
                            }
                            units "percent";
                            description "Sample percentage required for window integrity report";
                        }

                        ///nokia-conf/configure/test-oam/link-measurement/measurement-template/sample-window/threshold
                        container threshold {
                            description "Enter the threshold context";

                            ///nokia-conf/configure/test-oam/link-measurement/measurement-template/sample-window/threshold/relative
                            leaf relative {
                                type uint32 {
                                    range "1..500";
                                }
                                units "percent";
                                description "Relative delta for delay measurement reporting";
                            }

                            ///nokia-conf/configure/test-oam/link-measurement/measurement-template/sample-window/threshold/absolute
                            leaf absolute {
                                type uint32 {
                                    range "1..100000";
                                }
                                units "microseconds";
                                description "Absolute delta for delay measurement reporting";
                            }

                        } // container threshold

                    } // container sample-window

                } // list measurement-template

            } // container link-measurement

            ///nokia-conf/configure/test-oam/mpls-dm
            container mpls-dm {
                description "Enter the mpls-dm context";

                ///nokia-conf/configure/test-oam/mpls-dm/admin-state
                leaf admin-state {
                    type types-sros:admin-state;
                    default "disable";
                    description "Administrative state of MPLS DM packet processing";
                }

                ///nokia-conf/configure/test-oam/mpls-dm/apply-groups
                leaf-list apply-groups {
                    type leafref {
                        path "../../../groups/group/name";
                    }
                    max-elements 8;
                    ordered-by user;
                    description "Apply a configuration group at this level";
                }

                ///nokia-conf/configure/test-oam/mpls-dm/apply-groups-exclude
                leaf-list apply-groups-exclude {
                    type leafref {
                        path "../../../groups/group/name";
                    }
                    max-elements 8;
                    ordered-by user;
                    description "Exclude a configuration group at this level";
                }

            } // container mpls-dm

            ///nokia-conf/configure/test-oam/twamp
            container twamp {
                description "Enter the twamp context";

                ///nokia-conf/configure/test-oam/twamp/apply-groups
                leaf-list apply-groups {
                    type leafref {
                        path "../../../groups/group/name";
                    }
                    max-elements 8;
                    ordered-by user;
                    description "Apply a configuration group at this level";
                }

                ///nokia-conf/configure/test-oam/twamp/apply-groups-exclude
                leaf-list apply-groups-exclude {
                    type leafref {
                        path "../../../groups/group/name";
                    }
                    max-elements 8;
                    ordered-by user;
                    description "Exclude a configuration group at this level";
                }

                ///nokia-conf/configure/test-oam/twamp/server
                container server {
                    description "Enable the server context";

                    ///nokia-conf/configure/test-oam/twamp/server/admin-state
                    leaf admin-state {
                        type types-sros:admin-state;
                        default "disable";
                        description "Administrative state of the TWAMP server";
                    }

                    ///nokia-conf/configure/test-oam/twamp/server/allow-ipv6-udp-checksum-zero
                    leaf allow-ipv6-udp-checksum-zero {
                        type boolean;
                        default "false";
                        description "Process IPv6 packets with a zero UDP checksum";
                    }

                    ///nokia-conf/configure/test-oam/twamp/server/enforce-test-session-start-time
                    leaf enforce-test-session-start-time {
                        type boolean;
                        default "true";
                        description "Discard TWAMP packets before test-session start time";
                    }

                    ///nokia-conf/configure/test-oam/twamp/server/inactivity-timeout
                    leaf inactivity-timeout {
                        type uint32 {
                            range "60..3600";
                        }
                        units "seconds";
                        sros-ext:auto-restart-to-modify;
                        default "900";
                        description "Inactivity timeout for TWAMP control connections";
                    }

                    ///nokia-conf/configure/test-oam/twamp/server/max-connections
                    leaf max-connections {
                        type types-oam:twamp-server-connection-count;
                        sros-ext:auto-restart-to-modify;
                        default "32";
                        description "Limit of concurrent TWAMP server control connections";
                    }

                    ///nokia-conf/configure/test-oam/twamp/server/max-sessions
                    leaf max-sessions {
                        type types-oam:twamp-server-session-count;
                        sros-ext:auto-restart-to-modify;
                        default "32";
                        description "Maximum number of concurrent TWAMP server test sessions";
                    }

                    ///nokia-conf/configure/test-oam/twamp/server/ref-inactivity-timeout
                    leaf ref-inactivity-timeout {
                        type uint32 {
                            range "60..3600";
                        }
                        units "seconds";
                        sros-ext:auto-restart-to-modify;
                        default "900";
                        description "System wide reflector inactivity timeout for TWAMP";
                    }

                    ///nokia-conf/configure/test-oam/twamp/server/apply-groups
                    leaf-list apply-groups {
                        type leafref {
                            path "../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        description "Apply a configuration group at this level";
                    }

                    ///nokia-conf/configure/test-oam/twamp/server/apply-groups-exclude
                    leaf-list apply-groups-exclude {
                        type leafref {
                            path "../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        description "Exclude a configuration group at this level";
                    }

                    ///nokia-conf/configure/test-oam/twamp/server/prefix
                    list prefix {
                        key "ip-prefix";
                        max-elements 100;
                        description "Enter the prefix list instance";

                        ///nokia-conf/configure/test-oam/twamp/server/prefix/ip-prefix
                        leaf ip-prefix {
                            type types-sros:ip-unicast-prefix;
                            description "Prefix to match against TWAMP client address";
                        }

                        ///nokia-conf/configure/test-oam/twamp/server/prefix/description
                        leaf description {
                            type types-sros:description;
                            description "Text description";
                        }

                        ///nokia-conf/configure/test-oam/twamp/server/prefix/max-connections
                        leaf max-connections {
                            type types-oam:twamp-server-connection-count;
                            default "32";
                            description "Maximum number of control connections for TWAMP prefix";
                        }

                        ///nokia-conf/configure/test-oam/twamp/server/prefix/max-sessions
                        leaf max-sessions {
                            type types-oam:twamp-server-session-count;
                            default "32";
                            description "Maximum concurrent TWAMP test sessions based on prefix";
                        }

                        ///nokia-conf/configure/test-oam/twamp/server/prefix/apply-groups
                        leaf-list apply-groups {
                            type leafref {
                                path "../../../../../groups/group/name";
                            }
                            max-elements 8;
                            ordered-by user;
                            description "Apply a configuration group at this level";
                        }

                        ///nokia-conf/configure/test-oam/twamp/server/prefix/apply-groups-exclude
                        leaf-list apply-groups-exclude {
                            type leafref {
                                path "../../../../../groups/group/name";
                            }
                            max-elements 8;
                            ordered-by user;
                            description "Exclude a configuration group at this level";
                        }

                    } // list prefix

                } // container server

                ///nokia-conf/configure/test-oam/twamp/twamp-light
                container twamp-light {
                    description "Enable the twamp-light context";

                    ///nokia-conf/configure/test-oam/twamp/twamp-light/inactivity-timeout
                    leaf inactivity-timeout {
                        type uint32 {
                            range "10..100";
                        }
                        units "seconds";
                        default "100";
                        description "Time to maintain stale state on the session reflector";
                    }

                    ///nokia-conf/configure/test-oam/twamp/twamp-light/apply-groups
                    leaf-list apply-groups {
                        type leafref {
                            path "../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        description "Apply a configuration group at this level";
                    }

                    ///nokia-conf/configure/test-oam/twamp/twamp-light/apply-groups-exclude
                    leaf-list apply-groups-exclude {
                        type leafref {
                            path "../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        description "Exclude a configuration group at this level";
                    }

                    ///nokia-conf/configure/test-oam/twamp/twamp-light/source-udp-port-pools
                    container source-udp-port-pools {
                        description "Enter the source-udp-port-pools context";

                        ///nokia-conf/configure/test-oam/twamp/twamp-light/source-udp-port-pools/port
                        list port {
                            key "port-number";
                            description "Enter the port list instance";

                            ///nokia-conf/configure/test-oam/twamp/twamp-light/source-udp-port-pools/port/port-number
                            leaf port-number {
                                type types-sros:tcp-udp-port {
                                    range "64374..64383";
                                }
                                description "Source UDP port pools port number";
                            }

                            ///nokia-conf/configure/test-oam/twamp/twamp-light/source-udp-port-pools/port/pool-type
                            leaf pool-type {
                                type enumeration {
                                    enum oam-pm                         { value 1; }
                                    enum link-measurement               { value 2; }
                                }
                                default "oam-pm";
                                description "Pool type of an application pool";
                            }

                            ///nokia-conf/configure/test-oam/twamp/twamp-light/source-udp-port-pools/port/apply-groups
                            leaf-list apply-groups {
                                type leafref {
                                    path "../../../../../../groups/group/name";
                                }
                                max-elements 8;
                                ordered-by user;
                                description "Apply a configuration group at this level";
                            }

                            ///nokia-conf/configure/test-oam/twamp/twamp-light/source-udp-port-pools/port/apply-groups-exclude
                            leaf-list apply-groups-exclude {
                                type leafref {
                                    path "../../../../../../groups/group/name";
                                }
                                max-elements 8;
                                ordered-by user;
                                description "Exclude a configuration group at this level";
                            }

                        } // list port

                    } // container source-udp-port-pools

                } // container twamp-light

                ///nokia-conf/configure/test-oam/twamp/twamp-test-pdu
                container twamp-test-pdu {
                    description "Enable the twamp-test-pdu context";

                    ///nokia-conf/configure/test-oam/twamp/twamp-test-pdu/ipv4-timestamping
                    leaf ipv4-timestamping {
                        type types-oam:twamp-timestamp-author;
                        default "central";
                        description "Device computed timestamp for transmitted TWAMP IPv4 PDU";
                    }

                    ///nokia-conf/configure/test-oam/twamp/twamp-test-pdu/ipv6-timestamping
                    leaf ipv6-timestamping {
                        type types-oam:twamp-timestamp-author;
                        default "central";
                        description "Device computed timestamp for transmitted TWAMP IPv6 PDU";
                    }

                    ///nokia-conf/configure/test-oam/twamp/twamp-test-pdu/apply-groups
                    leaf-list apply-groups {
                        type leafref {
                            path "../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        description "Apply a configuration group at this level";
                    }

                    ///nokia-conf/configure/test-oam/twamp/twamp-test-pdu/apply-groups-exclude
                    leaf-list apply-groups-exclude {
                        type leafref {
                            path "../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        description "Exclude a configuration group at this level";
                    }

                } // container twamp-test-pdu

            } // container twamp

            ///nokia-conf/configure/test-oam/icmp
            container icmp {
                description "Enter the icmp context";

                ///nokia-conf/configure/test-oam/icmp/ipv6
                container ipv6 {
                    description "Enter the ipv6 context";

                    ///nokia-conf/configure/test-oam/icmp/ipv6/length-field
                    leaf length-field {
                        type boolean;
                        default "false";
                        description "Use length field in ICMPv6 responses";
                    }

                    ///nokia-conf/configure/test-oam/icmp/ipv6/maximum-original-datagram
                    leaf maximum-original-datagram {
                        type boolean;
                        default "false";
                        description "ICMPv6 traceroute responses with largest datagram";
                    }

                    ///nokia-conf/configure/test-oam/icmp/ipv6/apply-groups
                    leaf-list apply-groups {
                        type leafref {
                            path "../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        description "Apply a configuration group at this level";
                    }

                    ///nokia-conf/configure/test-oam/icmp/ipv6/apply-groups-exclude
                    leaf-list apply-groups-exclude {
                        type leafref {
                            path "../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        description "Exclude a configuration group at this level";
                    }

                } // container ipv6

                ///nokia-conf/configure/test-oam/icmp/ping-template
                list ping-template {
                    key "name";
                    description "Enter the ping-template list instance";

                    ///nokia-conf/configure/test-oam/icmp/ping-template/name
                    leaf name {
                        type types-sros:named-item-64;
                        description "Ping template name";
                    }

                    ///nokia-conf/configure/test-oam/icmp/ping-template/description
                    leaf description {
                        type types-sros:description;
                        description "Text description";
                    }

                    ///nokia-conf/configure/test-oam/icmp/ping-template/dscp
                    leaf dscp {
                        type types-qos:dscp-name;
                        default "nc1";
                        description "DSCP value used in the outgoing ping packet";
                    }

                    ///nokia-conf/configure/test-oam/icmp/ping-template/dot1p
                    leaf dot1p {
                        type types-qos:dot1p-priority;
                        default "7";
                        description "Dot1p in Ethernet header of outgoing ping packets";
                    }

                    ///nokia-conf/configure/test-oam/icmp/ping-template/interval
                    leaf interval {
                        type uint32 {
                            range "1..60";
                        }
                        units "seconds";
                        default "60";
                        description "Packet transmit interval";
                    }

                    ///nokia-conf/configure/test-oam/icmp/ping-template/timeout
                    leaf timeout {
                        type uint32 {
                            range "1..60";
                        }
                        units "seconds";
                        default "5";
                        description "Wait time before ICMP echo request is declared lost";
                    }

                    ///nokia-conf/configure/test-oam/icmp/ping-template/failure-threshold
                    leaf failure-threshold {
                        type uint32 {
                            range "2..10";
                        }
                        default "3";
                        description "Failure threshold to declare inter-connectivity down";
                    }

                    ///nokia-conf/configure/test-oam/icmp/ping-template/reactivation-interval
                    leaf reactivation-interval {
                        type uint32 {
                            range "1..60";
                        }
                        units "seconds";
                        default "1";
                        description "Ping reactivation interval";
                    }

                    ///nokia-conf/configure/test-oam/icmp/ping-template/reactivation-failure-threshold
                    leaf reactivation-failure-threshold {
                        type uint32 {
                            range "1..10";
                        }
                        default "4";
                        description "Threshold of consecutive failures at reactivation";
                    }

                    ///nokia-conf/configure/test-oam/icmp/ping-template/reactivation-timeout
                    leaf reactivation-timeout {
                        type uint32 {
                            range "1..60";
                        }
                        units "seconds";
                        default "1";
                        description "Reactivation wait time before packet is declared lost";
                    }

                    ///nokia-conf/configure/test-oam/icmp/ping-template/reactivation-threshold
                    leaf reactivation-threshold {
                        type uint32 {
                            range "1..10";
                        }
                        default "3";
                        description "Success threshold to declare inter-connectivity up";
                    }

                    ///nokia-conf/configure/test-oam/icmp/ping-template/size
                    leaf size {
                        type uint32 {
                            range "12..9786";
                        }
                        units "octets";
                        default "56";
                        description "Data field size of the outgoing ICMP echo packet";
                    }

                    ///nokia-conf/configure/test-oam/icmp/ping-template/ttl
                    leaf ttl {
                        type uint32 {
                            range "1..255";
                        }
                        default "1";
                        description "TTL value for the outgoing ping packet";
                    }

                    ///nokia-conf/configure/test-oam/icmp/ping-template/apply-groups
                    leaf-list apply-groups {
                        type leafref {
                            path "../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        description "Apply a configuration group at this level";
                    }

                    ///nokia-conf/configure/test-oam/icmp/ping-template/apply-groups-exclude
                    leaf-list apply-groups-exclude {
                        type leafref {
                            path "../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        description "Exclude a configuration group at this level";
                    }

                } // list ping-template

            } // container icmp

            ///nokia-conf/configure/test-oam/mpls
            container mpls {
                description "Enter the mpls context";

                ///nokia-conf/configure/test-oam/mpls/echo-request-downstream-map
                leaf echo-request-downstream-map {
                    type enumeration {
                        enum dsmap                          { value 1; }
                        enum ddmap                          { value 2; }
                    }
                    default "dsmap";
                    description "Format of the downstream mapping TLV";
                }

                ///nokia-conf/configure/test-oam/mpls/timestamp-format
                leaf timestamp-format {
                    type enumeration {
                        enum rfc4379                        { value 0; }
                        enum unix                           { value 1; }
                    }
                    default "unix";
                    description "Timestamp format for MPLS ping request and reply PDUs";
                }

                ///nokia-conf/configure/test-oam/mpls/apply-groups
                leaf-list apply-groups {
                    type leafref {
                        path "../../../groups/group/name";
                    }
                    max-elements 8;
                    ordered-by user;
                    description "Apply a configuration group at this level";
                }

                ///nokia-conf/configure/test-oam/mpls/apply-groups-exclude
                leaf-list apply-groups-exclude {
                    type leafref {
                        path "../../../groups/group/name";
                    }
                    max-elements 8;
                    ordered-by user;
                    description "Exclude a configuration group at this level";
                }

            } // container mpls

            uses conf-testoam-service-activation-testhead;
        } // container test-oam

    } // grouping conf-test-oam

}
