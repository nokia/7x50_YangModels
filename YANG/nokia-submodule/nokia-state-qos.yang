submodule nokia-state-qos {

    yang-version "1.1";

    belongs-to nokia-state { prefix "state"; }

    import ietf-yang-types                { prefix "yang"; }
    import nokia-sros-yang-extensions     { prefix "sros-ext"; }
    import nokia-types-card               { prefix "types-card"; }
    import nokia-types-qos                { prefix "types-qos"; }
    import nokia-types-sros               { prefix "types-sros"; }

    sros-ext:sros-major-release "rel23";
    organization "Nokia";
    contact
        "Nokia SR OS Support
         Web: <http://www.nokia.com>";
    description
        "Nokia YANG Data model with operational state for QoS policies on SR OS based routers.

         Copyright 2016 Nokia. All rights reserved. Reproduction of this document
         is authorized on the condition that the foregoing copyright notice is included.

         This nokia-state-qos YANG module embodies Nokia's proprietary
         intellectual property. Nokia retains all title and ownership in the
         specification, including any revisions.

         Nokia grants all interested parties a non-exclusive license to use
         and distribute an unmodified copy of this specification in connection with
         management of Nokia products, and without fee, provided this
         copyright notice and license appear on all copies.

         This specification is supplied `as is', and Nokia makes no warranty,
         either express or implied, as to the use, operation, condition, or performance
         of the specification.";
    revision "2023-05-31";

    grouping state-qos {
        ///nokia-state/state/qos
        container qos {
            description "Enter the qos context";

            ///nokia-state/state/qos/overload
            container overload {
                description "Enter the overload context";

                ///nokia-state/state/qos/overload/card
                list card {
                    key "slot-number";
                    description "Enter the card list instance";

                    ///nokia-state/state/qos/overload/card/slot-number
                    leaf slot-number {
                        type types-card:iom-card-slot;
                        description "The unique value which identifies the IOM slot within a chassis in the system.";
                    }

                    ///nokia-state/state/qos/overload/card/fp
                    list fp {
                        key "fp-number";
                        description "Enter the fp list instance";

                        ///nokia-state/state/qos/overload/card/fp/fp-number
                        leaf fp-number {
                            type types-card:fp-id;
                            description
                                "The unique value which uniquely identifies the forwarding plane within
                                 a specific IOM card in the system.";
                        }

                        ///nokia-state/state/qos/overload/card/fp/ingress-ip-mac
                        leaf ingress-ip-mac {
                            type types-sros:cam-state;
                            description "Ingress IPv4-MAC Qos CAM state";
                        }

                        ///nokia-state/state/qos/overload/card/fp/egress-ip-mac
                        leaf egress-ip-mac {
                            type types-sros:cam-state;
                            description "Egress IPv4-MAC Qos CAM state";
                        }

                        ///nokia-state/state/qos/overload/card/fp/ingress-ipv6
                        leaf ingress-ipv6 {
                            type types-sros:cam-state;
                            description "Ingress IPv6 Qos CAM state";
                        }

                        ///nokia-state/state/qos/overload/card/fp/egress-ipv6
                        leaf egress-ipv6 {
                            type types-sros:cam-state;
                            description "Egress IPv6 Qos CAM state";
                        }

                    } // list fp

                } // list card

            } // container overload

            ///nokia-state/state/qos/sap-ingress
            list sap-ingress {
                key "sap-ingress-policy-name";
                description "Enter the sap-ingress list instance";

                ///nokia-state/state/qos/sap-ingress/sap-ingress-policy-name
                leaf sap-ingress-policy-name {
                    type types-qos:qos-policy-name;
                    description "Policy name";
                }

                ///nokia-state/state/qos/sap-ingress/oper-policy-id
                leaf oper-policy-id {
                    type types-qos:qos-any-policy-id;
                    description "The sap-ingress QoS policy identifier.";
                }

                ///nokia-state/state/qos/sap-ingress/subscriber-mgmt
                container subscriber-mgmt {
                    description "Enter the subscriber-mgmt context";

                    ///nokia-state/state/qos/sap-ingress/subscriber-mgmt/num-policies
                    leaf num-policies {
                        type uint32;
                        description
                            "Specifies the number of pcc-rule shared policies that are currently created based on
                             this policy.";
                    }

                    ///nokia-state/state/qos/sap-ingress/subscriber-mgmt/pcc-rule-entry
                    container pcc-rule-entry {
                        description "Enter the pcc-rule-entry context";

                        ///nokia-state/state/qos/sap-ingress/subscriber-mgmt/pcc-rule-entry/num-inserted
                        leaf num-inserted {
                            type uint32;
                            description
                                "Specifies the number of pcc-rule IP criteria entries received from
                                 DIAMETER that have been inserted in this policy.";
                        }

                    } // container pcc-rule-entry

                    ///nokia-state/state/qos/sap-ingress/subscriber-mgmt/dynamic-policer
                    container dynamic-policer {
                        description "Enter the dynamic-policer context";

                        ///nokia-state/state/qos/sap-ingress/subscriber-mgmt/dynamic-policer/num-inserted
                        leaf num-inserted {
                            type uint32;
                            description
                                "Specifies the number of dynamic policers required for pcc-rule IP criteria entries
                                 received from Diameter that have been inserted in this policy.";
                        }

                    } // container dynamic-policer

                } // container subscriber-mgmt

            } // list sap-ingress

            ///nokia-state/state/qos/queue-group-templates
            container queue-group-templates {
                description "Enable the queue-group-templates context";

                ///nokia-state/state/qos/queue-group-templates/ingress
                container ingress {
                    description "Enter the ingress context";

                    ///nokia-state/state/qos/queue-group-templates/ingress/queue-group
                    list queue-group {
                        key "ingress-queue-group-name";
                        description "Enter the queue-group list instance";

                        ///nokia-state/state/qos/queue-group-templates/ingress/queue-group/ingress-queue-group-name
                        leaf ingress-queue-group-name {
                            type types-sros:named-item;
                            description "Ingress queue group template name";
                        }

                        ///nokia-state/state/qos/queue-group-templates/ingress/queue-group/queue
                        list queue {
                            key "queue-id";
                            description "Enter the queue list instance";

                            ///nokia-state/state/qos/queue-group-templates/ingress/queue-group/queue/queue-id
                            leaf queue-id {
                                type types-qos:ingress-queue-id;
                                description "Ingress Queue-Group Queue identifier";
                            }

                        } // list queue

                        ///nokia-state/state/qos/queue-group-templates/ingress/queue-group/policer
                        list policer {
                            key "policer-id";
                            description "Enter the policer list instance";

                            ///nokia-state/state/qos/queue-group-templates/ingress/queue-group/policer/policer-id
                            leaf policer-id {
                                type types-qos:ingress-policer-id {
                                    range "1..32";
                                }
                                description "Ingress Queue-Group Policer identifier";
                            }

                        } // list policer

                    } // list queue-group

                } // container ingress

                ///nokia-state/state/qos/queue-group-templates/egress
                container egress {
                    description "Enter the egress context";

                    ///nokia-state/state/qos/queue-group-templates/egress/queue-group
                    list queue-group {
                        key "egress-queue-group-name";
                        description "Enter the queue-group list instance";

                        ///nokia-state/state/qos/queue-group-templates/egress/queue-group/egress-queue-group-name
                        leaf egress-queue-group-name {
                            type types-sros:named-item;
                            description "Egress queue group template name";
                        }

                        ///nokia-state/state/qos/queue-group-templates/egress/queue-group/queue
                        list queue {
                            key "queue-id";
                            description "Enter the queue list instance";

                            ///nokia-state/state/qos/queue-group-templates/egress/queue-group/queue/queue-id
                            leaf queue-id {
                                type types-qos:egress-queue-id;
                                description "Egress Queue-Group queue identifier";
                            }

                        } // list queue

                    } // list queue-group

                } // container egress

            } // container queue-group-templates

            ///nokia-state/state/qos/network
            list network {
                key "network-policy-name";
                description "Enter the network list instance";

                ///nokia-state/state/qos/network/network-policy-name
                leaf network-policy-name {
                    type types-qos:network-policy-name;
                    description "QoS network policy name";
                }

                ///nokia-state/state/qos/network/oper-policy-id
                leaf oper-policy-id {
                    type types-qos:qos-any-policy-id;
                    description "Network QoS policy identifier.";
                }

            } // list network

            ///nokia-state/state/qos/vlan-qos-policy
            list vlan-qos-policy {
                key "vlan-qos-policy-name";
                description "Enter the vlan-qos-policy list instance";

                ///nokia-state/state/qos/vlan-qos-policy/vlan-qos-policy-name
                leaf vlan-qos-policy-name {
                    type types-sros:named-item-64;
                    description "VLAN QoS policy name";
                }

            } // list vlan-qos-policy

            ///nokia-state/state/qos/sap-egress
            list sap-egress {
                key "sap-egress-policy-name";
                description "Enter the sap-egress list instance";

                ///nokia-state/state/qos/sap-egress/sap-egress-policy-name
                leaf sap-egress-policy-name {
                    type types-qos:qos-policy-name;
                    description "Policy name";
                }

                ///nokia-state/state/qos/sap-egress/oper-policy-id
                leaf oper-policy-id {
                    type types-qos:qos-any-policy-id;
                    description "The sap-egress QoS policy identifier.";
                }

                ///nokia-state/state/qos/sap-egress/subscriber-mgmt
                container subscriber-mgmt {
                    description "Enter the subscriber-mgmt context";

                    ///nokia-state/state/qos/sap-egress/subscriber-mgmt/num-policies
                    leaf num-policies {
                        type uint32;
                        description
                            "Specifies the number of pcc-rule shared policies that are currently created based on
                             this policy.";
                    }

                    ///nokia-state/state/qos/sap-egress/subscriber-mgmt/pcc-rule-entry
                    container pcc-rule-entry {
                        description "Enter the pcc-rule-entry context";

                        ///nokia-state/state/qos/sap-egress/subscriber-mgmt/pcc-rule-entry/num-inserted
                        leaf num-inserted {
                            type uint32;
                            description
                                "Specifies the number of pcc-rule IP criteria entries received from
                                 DIAMETER that have been inserted in this policy.";
                        }

                    } // container pcc-rule-entry

                    ///nokia-state/state/qos/sap-egress/subscriber-mgmt/dynamic-policer
                    container dynamic-policer {
                        description "Enter the dynamic-policer context";

                        ///nokia-state/state/qos/sap-egress/subscriber-mgmt/dynamic-policer/num-inserted
                        leaf num-inserted {
                            type uint32;
                            description
                                "Specifies the number of dynamic policers required for pcc-rule IP criteria entries
                                 received from Diameter that have been inserted in this policy.";
                        }

                    } // container dynamic-policer

                    ///nokia-state/state/qos/sap-egress/subscriber-mgmt/dynamic-queue
                    container dynamic-queue {
                        description "Enter the dynamic-queue context";

                        ///nokia-state/state/qos/sap-egress/subscriber-mgmt/dynamic-queue/num-inserted
                        leaf num-inserted {
                            type uint32;
                            description
                                "Specifies the number of dynamic queues required for pcc-rule IP criteria entries
                                 received from Diamter that have been inserted in this policy.";
                        }

                    } // container dynamic-queue

                } // container subscriber-mgmt

            } // list sap-egress

            ///nokia-state/state/qos/shared-policers
            container shared-policers {
                description "Enter the shared-policers context";

                ///nokia-state/state/qos/shared-policers/policer
                list policer {
                    key "shared-policer-name";
                    description "Enter the policer list instance";

                    ///nokia-state/state/qos/shared-policers/policer/shared-policer-name
                    leaf shared-policer-name {
                        type types-sros:named-item;
                        description "Name of the shared policer";
                    }

                    ///nokia-state/state/qos/shared-policers/policer/statistics
                    container statistics {
                        description "Enter the statistics context";

                        ///nokia-state/state/qos/shared-policers/policer/statistics/stat-mode
                        choice stat-mode {
                            ///nokia-state/state/qos/shared-policers/policer/statistics/stat-mode/offered-profile-with-discards
                            case offered-profile-with-discards {

                                ///nokia-state/state/qos/shared-policers/policer/statistics/stat-mode/offered-profile-with-discards/offered-profile-with-discards
                                container offered-profile-with-discards {
                                    description "Enter the offered-profile-with-discards context";

                                    ///nokia-state/state/qos/shared-policers/policer/statistics/stat-mode/offered-profile-with-discards/offered-profile-with-discards/in-profile-forwarded-packets
                                    leaf in-profile-forwarded-packets {
                                        type yang:counter64;
                                        description "The number of in-profile packets forwarded.";
                                    }

                                    ///nokia-state/state/qos/shared-policers/policer/statistics/stat-mode/offered-profile-with-discards/offered-profile-with-discards/in-profile-forwarded-octets
                                    leaf in-profile-forwarded-octets {
                                        type yang:counter64;
                                        description "The number of in-profile octets forwarded.";
                                    }

                                    ///nokia-state/state/qos/shared-policers/policer/statistics/stat-mode/offered-profile-with-discards/offered-profile-with-discards/out-profile-forwarded-packets
                                    leaf out-profile-forwarded-packets {
                                        type yang:counter64;
                                        description "The number of out-of-profile packets forwarded.";
                                    }

                                    ///nokia-state/state/qos/shared-policers/policer/statistics/stat-mode/offered-profile-with-discards/offered-profile-with-discards/out-profile-forwarded-octets
                                    leaf out-profile-forwarded-octets {
                                        type yang:counter64;
                                        description "The number of out-of-profile octets forwarded.";
                                    }

                                    ///nokia-state/state/qos/shared-policers/policer/statistics/stat-mode/offered-profile-with-discards/offered-profile-with-discards/dropped-exceed-profile-packets
                                    leaf dropped-exceed-profile-packets {
                                        type yang:counter64;
                                        description "The number of dropped-exceed-profile packets.";
                                    }

                                    ///nokia-state/state/qos/shared-policers/policer/statistics/stat-mode/offered-profile-with-discards/offered-profile-with-discards/dropped-exceed-profile-octets
                                    leaf dropped-exceed-profile-octets {
                                        type yang:counter64;
                                        description "The number of dropped-exceed-profile octets.";
                                    }

                                } // container offered-profile-with-discards

                            }
                        }
                    } // container statistics

                } // list policer

            } // container shared-policers

        } // container qos

    } // grouping state-qos

}
