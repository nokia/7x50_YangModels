submodule nokia-conf-card {

    yang-version "1.1";

    belongs-to nokia-conf { prefix "conf"; }

    import nokia-sros-yang-extensions     { prefix "sros-ext"; }
    import nokia-types-card               { prefix "types-card"; }
    import nokia-types-chassis            { prefix "types-chassis"; }
    import nokia-types-qos                { prefix "types-qos"; }
    import nokia-types-sros               { prefix "types-sros"; }

    include nokia-conf-card-fp;
    include nokia-conf-groups;
    include nokia-conf-port;
    include nokia-conf-qos;

    sros-ext:sros-major-release "rel23";
    organization "Nokia";
    contact
        "Nokia SR OS Support
         Web: <http://www.nokia.com>";
    description
        "Nokia YANG Data model to configure cards on SR OS based routers.

         Copyright 2016 Nokia. All rights reserved. Reproduction of this document
         is authorized on the condition that the foregoing copyright notice is included.

         This nokia-conf-card YANG module embodies Nokia's proprietary
         intellectual property. Nokia retains all title and ownership in the
         specification, including any revisions.

         Nokia grants all interested parties a non-exclusive license to use
         and distribute an unmodified copy of this specification in connection with
         management of Nokia products, and without fee, provided this
         copyright notice and license appear on all copies.

         This specification is supplied `as is', and Nokia makes no warranty,
         either express or implied, as to the use, operation, condition, or performance
         of the specification.";
    revision "2023-05-02";

    grouping conf-card {
        ///nokia-conf/configure/card
        list card {
            key "slot-number";
            description "Enter the card list instance";

            ///nokia-conf/configure/card/slot-number
            leaf slot-number {
                type types-card:iom-card-slot;
                description "Slot number within the chassis";
            }

            ///nokia-conf/configure/card/admin-state
            leaf admin-state {
                type types-sros:admin-state;
                default "enable";
                description "Administrative state of the card";
            }

            ///nokia-conf/configure/card/card-type
            leaf card-type {
                type types-card:sros-iom-type;
                sros-ext:immutable;
                description "Card type";
            }

            ///nokia-conf/configure/card/fail-on-error
            leaf fail-on-error {
                type boolean;
                default "false";
                description "Set operational state of the card to Failed upon error";
            }

            ///nokia-conf/configure/card/reset-on-recoverable-error
            leaf reset-on-recoverable-error {
                type boolean;
                default "false";
                description "Reset card for fatal memory parity error on a Q-chip";
            }

            ///nokia-conf/configure/card/level
            leaf level {
                type types-card:sros-iom-level;
                sros-ext:immutable;
                description "License level of the card";
            }

            ///nokia-conf/configure/card/power-save
            leaf power-save {
                type boolean;
                default "false";
                description "Place card in power-save mode when not in use";
            }

            ///nokia-conf/configure/card/filter-profile
            leaf filter-profile {
                type types-card:filter-profile;
                sros-ext:auto-restart-to-modify;
                default "none";
                description "Filter profile for the card";
            }

            ///nokia-conf/configure/card/hash-seed-shift
            leaf hash-seed-shift {
                type uint32 {
                    range "1..16";
                }
                default "2";
                description "Number of bits to shift the hash seed result";
            }

            ///nokia-conf/configure/card/apply-groups
            leaf-list apply-groups {
                type leafref {
                    path "../../groups/group/name";
                }
                max-elements 8;
                ordered-by user;
                description "Apply a configuration group at this level";
            }

            ///nokia-conf/configure/card/apply-groups-exclude
            leaf-list apply-groups-exclude {
                type leafref {
                    path "../../groups/group/name";
                }
                max-elements 8;
                ordered-by user;
                description "Exclude a configuration group at this level";
            }

            ///nokia-conf/configure/card/upgrade
            list upgrade {
                key "upgrade-index";
                description "Enter the upgrade list instance";

                ///nokia-conf/configure/card/upgrade/upgrade-index
                leaf upgrade-index {
                    type uint32 {
                        range "1..6";
                    }
                    description "Order of the upgrade value";
                }

                ///nokia-conf/configure/card/upgrade/path
                leaf path {
                    type types-card:sros-iom-level-upgrade-path;
                    sros-ext:immutable;
                    mandatory true;
                    description "Upgrade path of the target module for the slot";
                }

                ///nokia-conf/configure/card/upgrade/apply-groups
                leaf-list apply-groups {
                    type leafref {
                        path "../../../groups/group/name";
                    }
                    max-elements 8;
                    ordered-by user;
                    description "Apply a configuration group at this level";
                }

                ///nokia-conf/configure/card/upgrade/apply-groups-exclude
                leaf-list apply-groups-exclude {
                    type leafref {
                        path "../../../groups/group/name";
                    }
                    max-elements 8;
                    ordered-by user;
                    description "Exclude a configuration group at this level";
                }

            } // list upgrade

            ///nokia-conf/configure/card/event
            list event {
                key "type";
                description "Enter the event list instance";

                ///nokia-conf/configure/card/event/type
                leaf type {
                    type enumeration {
                        enum soft-error                     { value 1; }
                    }
                    description "Card event type to monitor";
                }

                ///nokia-conf/configure/card/event/action
                leaf action {
                    type types-chassis:hw-event-action;
                    description "Action taken when an event is detected on the card";
                }

                ///nokia-conf/configure/card/event/apply-groups
                leaf-list apply-groups {
                    type leafref {
                        path "../../../groups/group/name";
                    }
                    max-elements 8;
                    ordered-by user;
                    description "Apply a configuration group at this level";
                }

                ///nokia-conf/configure/card/event/apply-groups-exclude
                leaf-list apply-groups-exclude {
                    type leafref {
                        path "../../../groups/group/name";
                    }
                    max-elements 8;
                    ordered-by user;
                    description "Exclude a configuration group at this level";
                }

            } // list event

            ///nokia-conf/configure/card/virtual-scheduler-adjustment
            container virtual-scheduler-adjustment {
                description "Enable the virtual-scheduler-adjustment context";

                ///nokia-conf/configure/card/virtual-scheduler-adjustment/internal-scheduler-weight-mode
                leaf internal-scheduler-weight-mode {
                    type types-qos:internal-scheduler-weight-mode;
                    default "auto";
                    description "Internal scheduler weight mode";
                }

                ///nokia-conf/configure/card/virtual-scheduler-adjustment/slow-queue-threshold-rate
                leaf slow-queue-threshold-rate {
                    type uint32 {
                        range "0..1000000";
                    }
                    units "kilobps";
                    default "1000";
                    description "Slow queue threshold rate";
                }

                ///nokia-conf/configure/card/virtual-scheduler-adjustment/apply-groups
                leaf-list apply-groups {
                    type leafref {
                        path "../../../groups/group/name";
                    }
                    max-elements 8;
                    ordered-by user;
                    description "Apply a configuration group at this level";
                }

                ///nokia-conf/configure/card/virtual-scheduler-adjustment/apply-groups-exclude
                leaf-list apply-groups-exclude {
                    type leafref {
                        path "../../../groups/group/name";
                    }
                    max-elements 8;
                    ordered-by user;
                    description "Exclude a configuration group at this level";
                }

                ///nokia-conf/configure/card/virtual-scheduler-adjustment/interval
                container interval {
                    description "Enter the interval context";

                    ///nokia-conf/configure/card/virtual-scheduler-adjustment/interval/scheduler-run-minimum
                    leaf scheduler-run-minimum {
                        type decimal64 {
                            range "0.01..1000.00";
                            fraction-digits 2;
                        }
                        units "percent";
                        default "100.00";
                        description "Minimum time of the scheduler run";
                    }

                    ///nokia-conf/configure/card/virtual-scheduler-adjustment/interval/task-scheduling
                    leaf task-scheduling {
                        type decimal64 {
                            range "0.01..1000.00";
                            fraction-digits 2;
                        }
                        units "percent";
                        default "100.00";
                        description "Task scheduling interval";
                    }

                    ///nokia-conf/configure/card/virtual-scheduler-adjustment/interval/rate-calculation-minimum
                    container rate-calculation-minimum {
                        description "Enter the rate-calculation-minimum context";

                        ///nokia-conf/configure/card/virtual-scheduler-adjustment/interval/rate-calculation-minimum/fast-queue
                        leaf fast-queue {
                            type decimal64 {
                                range "0.01..1000.00";
                                fraction-digits 2;
                            }
                            units "percent";
                            default "100.00";
                            description "Minimum rate calculation time for fast queues";
                        }

                        ///nokia-conf/configure/card/virtual-scheduler-adjustment/interval/rate-calculation-minimum/slow-queue
                        leaf slow-queue {
                            type decimal64 {
                                range "0.01..1000.00";
                                fraction-digits 2;
                            }
                            units "percent";
                            default "100.00";
                            description "Minimum rate calculation time for slow queues";
                        }

                    } // container rate-calculation-minimum

                } // container interval

            } // container virtual-scheduler-adjustment

            ///nokia-conf/configure/card/mda
            list mda {
                key "mda-slot";
                description "Enter the mda list instance";

                ///nokia-conf/configure/card/mda/mda-slot
                leaf mda-slot {
                    type uint32 {
                        range "1..6";
                    }
                    description "MDA or XMA slot";
                }

                ///nokia-conf/configure/card/mda/admin-state
                leaf admin-state {
                    type types-sros:admin-state;
                    default "enable";
                    description "Administrative state of the MDA";
                }

                ///nokia-conf/configure/card/mda/fail-on-error
                leaf fail-on-error {
                    type boolean;
                    default "false";
                    description "Set operational state to Failed if an error is detected";
                }

                ///nokia-conf/configure/card/mda/mda-type
                leaf mda-type {
                    type types-card:sros-mda-type;
                    sros-ext:immutable;
                    description "MDA type for the slot";
                }

                ///nokia-conf/configure/card/mda/power-priority-level
                leaf power-priority-level {
                    type uint32 {
                        range "1..200";
                    }
                    default "150";
                    description "Power priority level for the MDA";
                }

                ///nokia-conf/configure/card/mda/reset-on-recoverable-error
                leaf reset-on-recoverable-error {
                    type boolean;
                    default "false";
                    description "Reset MDA for fatal memory parity error on a Q-chip";
                }

                ///nokia-conf/configure/card/mda/sync-e
                leaf sync-e {
                    type enumeration {
                        enum true                           { value 1; }
                        enum false                          { value 2; }
                    }
                    description "Synchronous Ethernet capability";
                }

                ///nokia-conf/configure/card/mda/level
                leaf level {
                    type types-card:sros-mda-level;
                    sros-ext:immutable;
                    description "MDA card level";
                }

                ///nokia-conf/configure/card/mda/apply-groups
                leaf-list apply-groups {
                    type leafref {
                        path "../../../groups/group/name";
                    }
                    max-elements 8;
                    ordered-by user;
                    description "Apply a configuration group at this level";
                }

                ///nokia-conf/configure/card/mda/apply-groups-exclude
                leaf-list apply-groups-exclude {
                    type leafref {
                        path "../../../groups/group/name";
                    }
                    max-elements 8;
                    ordered-by user;
                    description "Exclude a configuration group at this level";
                }

                ///nokia-conf/configure/card/mda/clock-mode
                container clock-mode {
                    description "Enter the clock-mode context";

                    ///nokia-conf/configure/card/mda/clock-mode/mode
                    leaf mode {
                        type enumeration {
                            enum adaptive                       { value 1; }
                            enum differential                   { value 2; }
                        }
                        description "Clock mode";
                    }

                    ///nokia-conf/configure/card/mda/clock-mode/timestamp-freq
                    leaf timestamp-freq {
                        type uint32 {
                            range "19440|77760|103680";
                        }
                        description "Differential timestamp frequency";
                    }

                } // container clock-mode

                ///nokia-conf/configure/card/mda/upgrade
                list upgrade {
                    key "upgrade-index";
                    description "Enter the upgrade list instance";

                    ///nokia-conf/configure/card/mda/upgrade/upgrade-index
                    leaf upgrade-index {
                        type uint32 {
                            range "1..6";
                        }
                        description "Order of the upgrade instance";
                    }

                    ///nokia-conf/configure/card/mda/upgrade/path
                    leaf path {
                        type types-card:sros-mda-level-upgrade-path;
                        sros-ext:immutable;
                        mandatory true;
                        description "Upgrade path of the MDA for the slot";
                    }

                    ///nokia-conf/configure/card/mda/upgrade/apply-groups
                    leaf-list apply-groups {
                        type leafref {
                            path "../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        description "Apply a configuration group at this level";
                    }

                    ///nokia-conf/configure/card/mda/upgrade/apply-groups-exclude
                    leaf-list apply-groups-exclude {
                        type leafref {
                            path "../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        description "Exclude a configuration group at this level";
                    }

                } // list upgrade

                ///nokia-conf/configure/card/mda/access
                container access {
                    description "Enable the access context";

                    ///nokia-conf/configure/card/mda/access/apply-groups
                    leaf-list apply-groups {
                        type leafref {
                            path "../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        description "Apply a configuration group at this level";
                    }

                    ///nokia-conf/configure/card/mda/access/apply-groups-exclude
                    leaf-list apply-groups-exclude {
                        type leafref {
                            path "../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        description "Exclude a configuration group at this level";
                    }

                    ///nokia-conf/configure/card/mda/access/egress
                    container egress {
                        description "Enable the egress context";

                        ///nokia-conf/configure/card/mda/access/egress/apply-groups
                        leaf-list apply-groups {
                            type leafref {
                                path "../../../../../groups/group/name";
                            }
                            max-elements 8;
                            ordered-by user;
                            description "Apply a configuration group at this level";
                        }

                        ///nokia-conf/configure/card/mda/access/egress/apply-groups-exclude
                        leaf-list apply-groups-exclude {
                            type leafref {
                                path "../../../../../groups/group/name";
                            }
                            max-elements 8;
                            ordered-by user;
                            description "Exclude a configuration group at this level";
                        }

                        ///nokia-conf/configure/card/mda/access/egress/pool
                        list pool {
                            status obsolete;
                            key "name";
                            description "Enter the pool list instance";

                            ///nokia-conf/configure/card/mda/access/egress/pool/name
                            leaf name {
                                status obsolete;
                                type types-sros:named-item;
                                description "MDA pool name";
                            }

                            ///nokia-conf/configure/card/mda/access/egress/pool/amber-alarm-threshold
                            leaf amber-alarm-threshold {
                                status obsolete;
                                type uint32 {
                                    range "1..1000";
                                }
                                units "percent";
                                description "Amber alarm threshold allowed on oversubscription";
                            }

                            ///nokia-conf/configure/card/mda/access/egress/pool/red-alarm-threshold
                            leaf red-alarm-threshold {
                                status obsolete;
                                type uint32 {
                                    range "1..1000";
                                }
                                units "percent";
                                description "Red alarm threshold allowed on oversubscription";
                            }

                            ///nokia-conf/configure/card/mda/access/egress/pool/slope-policy
                            leaf slope-policy {
                                status obsolete;
                                type leafref {
                                    path "../../../../../../qos/slope-policy/slope-policy-name";
                                }
                                description "Slope policy";
                            }

                            ///nokia-conf/configure/card/mda/access/egress/pool/apply-groups
                            leaf-list apply-groups {
                                status obsolete;
                                type leafref {
                                    path "../../../../../../groups/group/name";
                                }
                                max-elements 8;
                                ordered-by user;
                                description "Apply a configuration group at this level";
                            }

                            ///nokia-conf/configure/card/mda/access/egress/pool/apply-groups-exclude
                            leaf-list apply-groups-exclude {
                                status obsolete;
                                type leafref {
                                    path "../../../../../../groups/group/name";
                                }
                                max-elements 8;
                                ordered-by user;
                                description "Exclude a configuration group at this level";
                            }

                            ///nokia-conf/configure/card/mda/access/egress/pool/resv-cbs
                            container resv-cbs {
                                status obsolete;
                                description "Enter the resv-cbs context";

                                ///nokia-conf/configure/card/mda/access/egress/pool/resv-cbs/cbs
                                leaf cbs {
                                    status obsolete;
                                    type int32 {
                                        range "0..100";
                                    }
                                    units "percent";
                                    description "Pool size reserved for CBS";
                                }

                                ///nokia-conf/configure/card/mda/access/egress/pool/resv-cbs/amber-alarm-action
                                container amber-alarm-action {
                                    status obsolete;
                                    description "Enter the amber-alarm-action context";

                                    ///nokia-conf/configure/card/mda/access/egress/pool/resv-cbs/amber-alarm-action/step
                                    leaf step {
                                        status obsolete;
                                        type uint32 {
                                            range "1..100";
                                        }
                                        units "percent";
                                        description "Step-size percentage for reserved CBS value of the pool";
                                    }

                                    ///nokia-conf/configure/card/mda/access/egress/pool/resv-cbs/amber-alarm-action/max
                                    leaf max {
                                        status obsolete;
                                        type uint32 {
                                            range "1..100";
                                        }
                                        units "percent";
                                        description "Maximum reserved CBS size of the pool";
                                    }

                                } // container amber-alarm-action

                            } // container resv-cbs

                        } // list pool

                    } // container egress

                    ///nokia-conf/configure/card/mda/access/ingress
                    container ingress {
                        description "Enter the ingress context";

                        ///nokia-conf/configure/card/mda/access/ingress/apply-groups
                        leaf-list apply-groups {
                            type leafref {
                                path "../../../../../groups/group/name";
                            }
                            max-elements 8;
                            ordered-by user;
                            description "Apply a configuration group at this level";
                        }

                        ///nokia-conf/configure/card/mda/access/ingress/apply-groups-exclude
                        leaf-list apply-groups-exclude {
                            type leafref {
                                path "../../../../../groups/group/name";
                            }
                            max-elements 8;
                            ordered-by user;
                            description "Exclude a configuration group at this level";
                        }

                        ///nokia-conf/configure/card/mda/access/ingress/pool
                        list pool {
                            status obsolete;
                            key "name";
                            description "Enter the pool list instance";

                            ///nokia-conf/configure/card/mda/access/ingress/pool/name
                            leaf name {
                                status obsolete;
                                type types-sros:named-item;
                                description "MDA pool name";
                            }

                            ///nokia-conf/configure/card/mda/access/ingress/pool/amber-alarm-threshold
                            leaf amber-alarm-threshold {
                                status obsolete;
                                type uint32 {
                                    range "1..1000";
                                }
                                units "percent";
                                description "Amber alarm threshold allowed on oversubscription";
                            }

                            ///nokia-conf/configure/card/mda/access/ingress/pool/red-alarm-threshold
                            leaf red-alarm-threshold {
                                status obsolete;
                                type uint32 {
                                    range "1..1000";
                                }
                                units "percent";
                                description "Red alarm threshold allowed on oversubscription";
                            }

                            ///nokia-conf/configure/card/mda/access/ingress/pool/slope-policy
                            leaf slope-policy {
                                status obsolete;
                                type leafref {
                                    path "../../../../../../qos/slope-policy/slope-policy-name";
                                }
                                description "Slope policy";
                            }

                            ///nokia-conf/configure/card/mda/access/ingress/pool/apply-groups
                            leaf-list apply-groups {
                                status obsolete;
                                type leafref {
                                    path "../../../../../../groups/group/name";
                                }
                                max-elements 8;
                                ordered-by user;
                                description "Apply a configuration group at this level";
                            }

                            ///nokia-conf/configure/card/mda/access/ingress/pool/apply-groups-exclude
                            leaf-list apply-groups-exclude {
                                status obsolete;
                                type leafref {
                                    path "../../../../../../groups/group/name";
                                }
                                max-elements 8;
                                ordered-by user;
                                description "Exclude a configuration group at this level";
                            }

                            ///nokia-conf/configure/card/mda/access/ingress/pool/resv-cbs
                            container resv-cbs {
                                status obsolete;
                                description "Enter the resv-cbs context";

                                ///nokia-conf/configure/card/mda/access/ingress/pool/resv-cbs/cbs
                                leaf cbs {
                                    status obsolete;
                                    type int32 {
                                        range "0..100";
                                    }
                                    units "percent";
                                    description "Pool size reserved for CBS";
                                }

                                ///nokia-conf/configure/card/mda/access/ingress/pool/resv-cbs/amber-alarm-action
                                container amber-alarm-action {
                                    status obsolete;
                                    description "Enter the amber-alarm-action context";

                                    ///nokia-conf/configure/card/mda/access/ingress/pool/resv-cbs/amber-alarm-action/step
                                    leaf step {
                                        status obsolete;
                                        type uint32 {
                                            range "1..100";
                                        }
                                        units "percent";
                                        description "Step-size percentage for reserved CBS size of the pool";
                                    }

                                    ///nokia-conf/configure/card/mda/access/ingress/pool/resv-cbs/amber-alarm-action/max
                                    leaf max {
                                        status obsolete;
                                        type uint32 {
                                            range "1..100";
                                        }
                                        units "percent";
                                        description "Maximum reserved CBS size of the pool";
                                    }

                                } // container amber-alarm-action

                            } // container resv-cbs

                        } // list pool

                    } // container ingress

                } // container access

                ///nokia-conf/configure/card/mda/egress-xpl
                container egress-xpl {
                    description "Enter the egress-xpl context";

                    ///nokia-conf/configure/card/mda/egress-xpl/threshold
                    leaf threshold {
                        type uint32 {
                            range "1..1000000";
                        }
                        units "xpl errors";
                        default "1000";
                        description "Threshold value for XPL errors";
                    }

                    ///nokia-conf/configure/card/mda/egress-xpl/window
                    leaf window {
                        type uint32 {
                            range "1..1440";
                        }
                        units "minutes";
                        default "60";
                        description "Time interval to measure XPL error frequency";
                    }

                } // container egress-xpl

                ///nokia-conf/configure/card/mda/event
                list event {
                    key "type";
                    description "Enter the event list instance";

                    ///nokia-conf/configure/card/mda/event/type
                    leaf type {
                        type enumeration {
                            enum soft-error                     { value 1; }
                            enum internal-frame-loss            { value 2; }
                            enum memory-error                   { value 3; }
                            enum datapath-link-error            { value 4; }
                        }
                        description "MDA event type being monitored";
                    }

                    ///nokia-conf/configure/card/mda/event/action
                    leaf action {
                        type types-chassis:hw-event-action;
                        description "Action when a specific hardware error event is raised";
                    }

                    ///nokia-conf/configure/card/mda/event/apply-groups
                    leaf-list apply-groups {
                        type leafref {
                            path "../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        description "Apply a configuration group at this level";
                    }

                    ///nokia-conf/configure/card/mda/event/apply-groups-exclude
                    leaf-list apply-groups-exclude {
                        type leafref {
                            path "../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        description "Exclude a configuration group at this level";
                    }

                } // list event

                ///nokia-conf/configure/card/mda/ingress-xpl
                container ingress-xpl {
                    description "Enter the ingress-xpl context";

                    ///nokia-conf/configure/card/mda/ingress-xpl/threshold
                    leaf threshold {
                        type uint32 {
                            range "1..1000000";
                        }
                        units "xpl errors";
                        default "1000";
                        description "Threshold value for XPL errors";
                    }

                    ///nokia-conf/configure/card/mda/ingress-xpl/window
                    leaf window {
                        type uint32 {
                            range "1..1440";
                        }
                        units "minutes";
                        default "60";
                        description "Time interval to measure XPL error frequency";
                    }

                } // container ingress-xpl

                ///nokia-conf/configure/card/mda/network
                container network {
                    description "Enable the network context";

                    ///nokia-conf/configure/card/mda/network/apply-groups
                    leaf-list apply-groups {
                        type leafref {
                            path "../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        description "Apply a configuration group at this level";
                    }

                    ///nokia-conf/configure/card/mda/network/apply-groups-exclude
                    leaf-list apply-groups-exclude {
                        type leafref {
                            path "../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        description "Exclude a configuration group at this level";
                    }

                    ///nokia-conf/configure/card/mda/network/egress
                    container egress {
                        description "Enable the egress context";

                        ///nokia-conf/configure/card/mda/network/egress/apply-groups
                        leaf-list apply-groups {
                            type leafref {
                                path "../../../../../groups/group/name";
                            }
                            max-elements 8;
                            ordered-by user;
                            description "Apply a configuration group at this level";
                        }

                        ///nokia-conf/configure/card/mda/network/egress/apply-groups-exclude
                        leaf-list apply-groups-exclude {
                            type leafref {
                                path "../../../../../groups/group/name";
                            }
                            max-elements 8;
                            ordered-by user;
                            description "Exclude a configuration group at this level";
                        }

                        ///nokia-conf/configure/card/mda/network/egress/pool
                        list pool {
                            status obsolete;
                            key "name";
                            description "Enter the pool list instance";

                            ///nokia-conf/configure/card/mda/network/egress/pool/name
                            leaf name {
                                status obsolete;
                                type types-sros:named-item;
                                description "MDA pool name";
                            }

                            ///nokia-conf/configure/card/mda/network/egress/pool/amber-alarm-threshold
                            leaf amber-alarm-threshold {
                                status obsolete;
                                type uint32 {
                                    range "1..1000";
                                }
                                units "percent";
                                description "Amber alarm threshold allowed on oversubscription";
                            }

                            ///nokia-conf/configure/card/mda/network/egress/pool/red-alarm-threshold
                            leaf red-alarm-threshold {
                                status obsolete;
                                type uint32 {
                                    range "1..1000";
                                }
                                units "percent";
                                description "Red alarm threshold allowed on oversubscription";
                            }

                            ///nokia-conf/configure/card/mda/network/egress/pool/slope-policy
                            leaf slope-policy {
                                status obsolete;
                                type leafref {
                                    path "../../../../../../qos/slope-policy/slope-policy-name";
                                }
                                description "Slope policy";
                            }

                            ///nokia-conf/configure/card/mda/network/egress/pool/apply-groups
                            leaf-list apply-groups {
                                status obsolete;
                                type leafref {
                                    path "../../../../../../groups/group/name";
                                }
                                max-elements 8;
                                ordered-by user;
                                description "Apply a configuration group at this level";
                            }

                            ///nokia-conf/configure/card/mda/network/egress/pool/apply-groups-exclude
                            leaf-list apply-groups-exclude {
                                status obsolete;
                                type leafref {
                                    path "../../../../../../groups/group/name";
                                }
                                max-elements 8;
                                ordered-by user;
                                description "Exclude a configuration group at this level";
                            }

                            ///nokia-conf/configure/card/mda/network/egress/pool/resv-cbs
                            container resv-cbs {
                                status obsolete;
                                description "Enter the resv-cbs context";

                                ///nokia-conf/configure/card/mda/network/egress/pool/resv-cbs/cbs
                                leaf cbs {
                                    status obsolete;
                                    type int32 {
                                        range "0..100";
                                    }
                                    units "percent";
                                    description "Pool size reserved for CBS";
                                }

                                ///nokia-conf/configure/card/mda/network/egress/pool/resv-cbs/amber-alarm-action
                                container amber-alarm-action {
                                    status obsolete;
                                    description "Enter the amber-alarm-action context";

                                    ///nokia-conf/configure/card/mda/network/egress/pool/resv-cbs/amber-alarm-action/step
                                    leaf step {
                                        status obsolete;
                                        type uint32 {
                                            range "1..100";
                                        }
                                        units "percent";
                                        description "Step-size percentage for reserved CBS value of the pool";
                                    }

                                    ///nokia-conf/configure/card/mda/network/egress/pool/resv-cbs/amber-alarm-action/max
                                    leaf max {
                                        status obsolete;
                                        type uint32 {
                                            range "1..100";
                                        }
                                        units "percent";
                                        description "Maximum reserved CBS size of the pool";
                                    }

                                } // container amber-alarm-action

                            } // container resv-cbs

                        } // list pool

                    } // container egress

                    ///nokia-conf/configure/card/mda/network/ingress
                    container ingress {
                        description "Enable the ingress context";

                        ///nokia-conf/configure/card/mda/network/ingress/queue-policy
                        leaf queue-policy {
                            status obsolete;
                            type leafref {
                                path "../../../../../qos/network-queue/network-queue-policy";
                            }
                            description "Network-queue policy";
                        }

                        ///nokia-conf/configure/card/mda/network/ingress/apply-groups
                        leaf-list apply-groups {
                            type leafref {
                                path "../../../../../groups/group/name";
                            }
                            max-elements 8;
                            ordered-by user;
                            description "Apply a configuration group at this level";
                        }

                        ///nokia-conf/configure/card/mda/network/ingress/apply-groups-exclude
                        leaf-list apply-groups-exclude {
                            type leafref {
                                path "../../../../../groups/group/name";
                            }
                            max-elements 8;
                            ordered-by user;
                            description "Exclude a configuration group at this level";
                        }

                        ///nokia-conf/configure/card/mda/network/ingress/pool
                        list pool {
                            status obsolete;
                            key "name";
                            description "Enter the pool list instance";

                            ///nokia-conf/configure/card/mda/network/ingress/pool/name
                            leaf name {
                                status obsolete;
                                type types-sros:named-item;
                                description "MDA pool name";
                            }

                            ///nokia-conf/configure/card/mda/network/ingress/pool/amber-alarm-threshold
                            leaf amber-alarm-threshold {
                                status obsolete;
                                type uint32 {
                                    range "1..1000";
                                }
                                units "percent";
                                description "Amber alarm threshold allowed on oversubscription";
                            }

                            ///nokia-conf/configure/card/mda/network/ingress/pool/red-alarm-threshold
                            leaf red-alarm-threshold {
                                status obsolete;
                                type uint32 {
                                    range "1..1000";
                                }
                                units "percent";
                                description "Red alarm threshold allowed on oversubscription";
                            }

                            ///nokia-conf/configure/card/mda/network/ingress/pool/slope-policy
                            leaf slope-policy {
                                status obsolete;
                                type leafref {
                                    path "../../../../../../qos/slope-policy/slope-policy-name";
                                }
                                description "Slope policy";
                            }

                            ///nokia-conf/configure/card/mda/network/ingress/pool/apply-groups
                            leaf-list apply-groups {
                                status obsolete;
                                type leafref {
                                    path "../../../../../../groups/group/name";
                                }
                                max-elements 8;
                                ordered-by user;
                                description "Apply a configuration group at this level";
                            }

                            ///nokia-conf/configure/card/mda/network/ingress/pool/apply-groups-exclude
                            leaf-list apply-groups-exclude {
                                status obsolete;
                                type leafref {
                                    path "../../../../../../groups/group/name";
                                }
                                max-elements 8;
                                ordered-by user;
                                description "Exclude a configuration group at this level";
                            }

                            ///nokia-conf/configure/card/mda/network/ingress/pool/resv-cbs
                            container resv-cbs {
                                status obsolete;
                                description "Enter the resv-cbs context";

                                ///nokia-conf/configure/card/mda/network/ingress/pool/resv-cbs/cbs
                                leaf cbs {
                                    status obsolete;
                                    type int32 {
                                        range "0..100";
                                    }
                                    units "percent";
                                    description "Pool size reserved for CBS";
                                }

                                ///nokia-conf/configure/card/mda/network/ingress/pool/resv-cbs/amber-alarm-action
                                container amber-alarm-action {
                                    status obsolete;
                                    description "Enter the amber-alarm-action context";

                                    ///nokia-conf/configure/card/mda/network/ingress/pool/resv-cbs/amber-alarm-action/step
                                    leaf step {
                                        status obsolete;
                                        type uint32 {
                                            range "1..100";
                                        }
                                        units "percent";
                                        description "Step-size percentage for reserved CBS size of the pool";
                                    }

                                    ///nokia-conf/configure/card/mda/network/ingress/pool/resv-cbs/amber-alarm-action/max
                                    leaf max {
                                        status obsolete;
                                        type uint32 {
                                            range "1..100";
                                        }
                                        units "percent";
                                        description "Maximum reserved CBS size of the pool";
                                    }

                                } // container amber-alarm-action

                            } // container resv-cbs

                        } // list pool

                    } // container ingress

                } // container network


                ///nokia-conf/configure/card/mda/xconnect
                container xconnect {
                    description "Enter the xconnect context";

                    ///nokia-conf/configure/card/mda/xconnect/mac
                    list mac {
                        key "mac-id";
                        description "Enter the mac list instance";

                        ///nokia-conf/configure/card/mda/xconnect/mac/mac-id
                        leaf mac-id {
                            type uint32 {
                                range "1..12";
                            }
                            description "MAC ID for the MDA cross-connect";
                        }

                        ///nokia-conf/configure/card/mda/xconnect/mac/description
                        leaf description {
                            type types-sros:very-long-description-or-empty;
                            description "Text description";
                        }

                        ///nokia-conf/configure/card/mda/xconnect/mac/apply-groups
                        leaf-list apply-groups {
                            type leafref {
                                path "../../../../../groups/group/name";
                            }
                            max-elements 8;
                            ordered-by user;
                            description "Apply a configuration group at this level";
                        }

                        ///nokia-conf/configure/card/mda/xconnect/mac/apply-groups-exclude
                        leaf-list apply-groups-exclude {
                            type leafref {
                                path "../../../../../groups/group/name";
                            }
                            max-elements 8;
                            ordered-by user;
                            description "Exclude a configuration group at this level";
                        }

                        ///nokia-conf/configure/card/mda/xconnect/mac/loopback
                        list loopback {
                            key "loopback-id";
                            description "Enter the loopback list instance";

                            ///nokia-conf/configure/card/mda/xconnect/mac/loopback/loopback-id
                            leaf loopback-id {
                                type uint32 {
                                    range "1..2";
                                }
                                description "Loopback ID for the MDA cross-connect";
                            }

                            ///nokia-conf/configure/card/mda/xconnect/mac/loopback/bandwidth
                            leaf bandwidth {
                                type uint32 {
                                    range "10|25|40|100|400|800";
                                }
                                units "gigabps";
                                sros-ext:immutable;
                                default "100";
                                description "Maximum bandwidth for a Layer 2 rate for MAC loopback";
                            }

                            ///nokia-conf/configure/card/mda/xconnect/mac/loopback/description
                            leaf description {
                                type types-sros:very-long-description-or-empty;
                                description "Text description";
                            }

                            ///nokia-conf/configure/card/mda/xconnect/mac/loopback/apply-groups
                            leaf-list apply-groups {
                                type leafref {
                                    path "../../../../../../groups/group/name";
                                }
                                max-elements 8;
                                ordered-by user;
                                description "Apply a configuration group at this level";
                            }

                            ///nokia-conf/configure/card/mda/xconnect/mac/loopback/apply-groups-exclude
                            leaf-list apply-groups-exclude {
                                type leafref {
                                    path "../../../../../../groups/group/name";
                                }
                                max-elements 8;
                                ordered-by user;
                                description "Exclude a configuration group at this level";
                            }

                        } // list loopback

                    } // list mac

                } // container xconnect

            } // list mda

            ///nokia-conf/configure/card/xiom
            list xiom {
                key "xiom-slot";
                description "Enter the xiom list instance";

                ///nokia-conf/configure/card/xiom/xiom-slot
                leaf xiom-slot {
                    type string {
                        length "2";
                        pattern "x[1-2]" {
                            error-message "Invalid xiom-slot.";
                        }
                    }
                    description "XIOM slot ID";
                }

                ///nokia-conf/configure/card/xiom/admin-state
                leaf admin-state {
                    type types-sros:admin-state;
                    default "enable";
                    description "Administrative state of the XIOM";
                }

                ///nokia-conf/configure/card/xiom/fail-on-error
                leaf fail-on-error {
                    type boolean;
                    default "false";
                    description "Set operational state of the card to failed on error";
                }

                ///nokia-conf/configure/card/xiom/level
                leaf level {
                    type types-card:sros-xiom-level;
                    sros-ext:immutable;
                    description "License level of the XIOM";
                }

                ///nokia-conf/configure/card/xiom/reset-on-recoverable-error
                leaf reset-on-recoverable-error {
                    type boolean;
                    default "false";
                    description "Reset XIOM for fatal memory parity error on a Q-chip";
                }

                ///nokia-conf/configure/card/xiom/xiom-type
                leaf xiom-type {
                    type types-card:sros-xiom-type;
                    sros-ext:immutable;
                    description "XIOM type";
                }

                ///nokia-conf/configure/card/xiom/apply-groups
                leaf-list apply-groups {
                    type leafref {
                        path "../../../groups/group/name";
                    }
                    max-elements 8;
                    ordered-by user;
                    description "Apply a configuration group at this level";
                }

                ///nokia-conf/configure/card/xiom/apply-groups-exclude
                leaf-list apply-groups-exclude {
                    type leafref {
                        path "../../../groups/group/name";
                    }
                    max-elements 8;
                    ordered-by user;
                    description "Exclude a configuration group at this level";
                }


                ///nokia-conf/configure/card/xiom/mda
                list mda {
                    key "mda-slot";
                    description "Enter the mda list instance";

                    ///nokia-conf/configure/card/xiom/mda/mda-slot
                    leaf mda-slot {
                        type uint32 {
                            range "1..2";
                        }
                        description "MDA slot number";
                    }

                    ///nokia-conf/configure/card/xiom/mda/mda-type
                    leaf mda-type {
                        type types-card:sros-xiom-mda-type;
                        sros-ext:immutable;
                        description "MDA-s type provisioned for the XIOM slot";
                    }

                    ///nokia-conf/configure/card/xiom/mda/power-priority-level
                    leaf power-priority-level {
                        type uint32 {
                            range "1..200";
                        }
                        default "150";
                        description "Power priority level for the XIOM MDA-s";
                    }

                    ///nokia-conf/configure/card/xiom/mda/sync-e
                    leaf sync-e {
                        type enumeration {
                            enum true                           { value 1; }
                            enum false                          { value 2; }
                        }
                        description "Synchronous Ethernet capability";
                    }

                    ///nokia-conf/configure/card/xiom/mda/admin-state
                    leaf admin-state {
                        type types-sros:admin-state;
                        default "enable";
                        description "Administrative state of the MDA";
                    }

                    ///nokia-conf/configure/card/xiom/mda/apply-groups
                    leaf-list apply-groups {
                        type leafref {
                            path "../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        description "Apply a configuration group at this level";
                    }

                    ///nokia-conf/configure/card/xiom/mda/apply-groups-exclude
                    leaf-list apply-groups-exclude {
                        type leafref {
                            path "../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        description "Exclude a configuration group at this level";
                    }


                    ///nokia-conf/configure/card/xiom/mda/xconnect
                    container xconnect {
                        description "Enter the xconnect context";

                        ///nokia-conf/configure/card/xiom/mda/xconnect/mac
                        list mac {
                            key "mac-id";
                            description "Enter the mac list instance";

                            ///nokia-conf/configure/card/xiom/mda/xconnect/mac/mac-id
                            leaf mac-id {
                                type uint32 {
                                    range "1..12";
                                }
                                description "MAC ID for the MDA cross-connect";
                            }

                            ///nokia-conf/configure/card/xiom/mda/xconnect/mac/description
                            leaf description {
                                type types-sros:very-long-description-or-empty;
                                description "Text description";
                            }

                            ///nokia-conf/configure/card/xiom/mda/xconnect/mac/apply-groups
                            leaf-list apply-groups {
                                type leafref {
                                    path "../../../../../../groups/group/name";
                                }
                                max-elements 8;
                                ordered-by user;
                                description "Apply a configuration group at this level";
                            }

                            ///nokia-conf/configure/card/xiom/mda/xconnect/mac/apply-groups-exclude
                            leaf-list apply-groups-exclude {
                                type leafref {
                                    path "../../../../../../groups/group/name";
                                }
                                max-elements 8;
                                ordered-by user;
                                description "Exclude a configuration group at this level";
                            }

                            ///nokia-conf/configure/card/xiom/mda/xconnect/mac/loopback
                            list loopback {
                                key "loopback-id";
                                description "Enter the loopback list instance";

                                ///nokia-conf/configure/card/xiom/mda/xconnect/mac/loopback/loopback-id
                                leaf loopback-id {
                                    type uint32 {
                                        range "1..2";
                                    }
                                    description "Loopback ID for the MDA cross-connect";
                                }

                                ///nokia-conf/configure/card/xiom/mda/xconnect/mac/loopback/bandwidth
                                leaf bandwidth {
                                    type uint32 {
                                        range "10|25|40|100|400|800";
                                    }
                                    units "gigabps";
                                    sros-ext:immutable;
                                    default "100";
                                    description "Maximum bandwidth for a Layer 2 rate for MAC loopback";
                                }

                                ///nokia-conf/configure/card/xiom/mda/xconnect/mac/loopback/description
                                leaf description {
                                    type types-sros:very-long-description-or-empty;
                                    description "Text description";
                                }

                                ///nokia-conf/configure/card/xiom/mda/xconnect/mac/loopback/apply-groups
                                leaf-list apply-groups {
                                    type leafref {
                                        path "../../../../../../../groups/group/name";
                                    }
                                    max-elements 8;
                                    ordered-by user;
                                    description "Apply a configuration group at this level";
                                }

                                ///nokia-conf/configure/card/xiom/mda/xconnect/mac/loopback/apply-groups-exclude
                                leaf-list apply-groups-exclude {
                                    type leafref {
                                        path "../../../../../../../groups/group/name";
                                    }
                                    max-elements 8;
                                    ordered-by user;
                                    description "Exclude a configuration group at this level";
                                }

                            } // list loopback

                        } // list mac

                    } // container xconnect

                } // list mda

                ///nokia-conf/configure/card/xiom/upgrade
                list upgrade {
                    key "upgrade-index";
                    description "Enter the upgrade list instance";

                    ///nokia-conf/configure/card/xiom/upgrade/upgrade-index
                    leaf upgrade-index {
                        type uint32 {
                            range "1..6";
                        }
                        description "Order of the upgrade value";
                    }

                    ///nokia-conf/configure/card/xiom/upgrade/path
                    leaf path {
                        type types-card:sros-xiom-level-upgrade-path;
                        sros-ext:immutable;
                        mandatory true;
                        description "Upgrade name";
                    }

                    ///nokia-conf/configure/card/xiom/upgrade/apply-groups
                    leaf-list apply-groups {
                        type leafref {
                            path "../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        description "Apply a configuration group at this level";
                    }

                    ///nokia-conf/configure/card/xiom/upgrade/apply-groups-exclude
                    leaf-list apply-groups-exclude {
                        type leafref {
                            path "../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        description "Exclude a configuration group at this level";
                    }

                } // list upgrade

            } // list xiom

            uses conf-card-fp;
        } // list card

    } // grouping conf-card

}
