submodule nokia-conf-svc-nat {

    yang-version "1.1";

    belongs-to nokia-conf { prefix "conf"; }

    import nokia-sros-yang-extensions     { prefix "sros-ext"; }
    import nokia-types-nat                { prefix "types-nat"; }
    import nokia-types-sros               { prefix "types-sros"; }

    include nokia-conf-groups;
    include nokia-conf-isa;
    include nokia-conf-service;
    include nokia-conf-svc-ipfix;

    sros-ext:sros-major-release "rel23";
    organization "Nokia";
    contact
        "Nokia SR OS Support
         Web: <http://www.nokia.com>";
    description
        "Nokia YANG Data model to configure NAT configuration common to all router instances on SR OS based routers.

         Copyright 2016 Nokia. All rights reserved. Reproduction of this document
         is authorized on the condition that the foregoing copyright notice is included.

         This nokia-conf-svc-nat YANG module embodies Nokia's proprietary
         intellectual property. Nokia retains all title and ownership in the
         specification, including any revisions.

         Nokia grants all interested parties a non-exclusive license to use
         and distribute an unmodified copy of this specification in connection with
         management of Nokia products, and without fee, provided this
         copyright notice and license appear on all copies.

         This specification is supplied `as is', and Nokia makes no warranty,
         either express or implied, as to the use, operation, condition, or performance
         of the specification.";
    revision "2023-04-28";

    grouping conf-svc-nat {
        ///nokia-conf/configure/service/nat
        container nat {
            description "Enable the nat context";

            ///nokia-conf/configure/service/nat/apply-groups
            leaf-list apply-groups {
                type leafref {
                    path "../../../groups/group/name";
                }
                max-elements 8;
                ordered-by user;
                description "Apply a configuration group at this level";
            }

            ///nokia-conf/configure/service/nat/apply-groups-exclude
            leaf-list apply-groups-exclude {
                type leafref {
                    path "../../../groups/group/name";
                }
                max-elements 8;
                ordered-by user;
                description "Exclude a configuration group at this level";
            }

            ///nokia-conf/configure/service/nat/firewall-policy
            list firewall-policy {
                key "name";
                max-elements 2048;
                description "Enter the firewall-policy list instance";

                ///nokia-conf/configure/service/nat/firewall-policy/name
                leaf name {
                    type types-sros:external-named-item;
                    description "Firewall policy name";
                }

                ///nokia-conf/configure/service/nat/firewall-policy/description
                leaf description {
                    type types-sros:description;
                    description "Text description";
                }

                ///nokia-conf/configure/service/nat/firewall-policy/filtering
                leaf filtering {
                    type types-nat:filtering;
                    description "Filtering method for inbound traffic for the policy";
                }

                ///nokia-conf/configure/service/nat/firewall-policy/apply-groups
                leaf-list apply-groups {
                    type leafref {
                        path "../../../../groups/group/name";
                    }
                    max-elements 8;
                    ordered-by user;
                    description "Apply a configuration group at this level";
                }

                ///nokia-conf/configure/service/nat/firewall-policy/apply-groups-exclude
                leaf-list apply-groups-exclude {
                    type leafref {
                        path "../../../../groups/group/name";
                    }
                    max-elements 8;
                    ordered-by user;
                    description "Exclude a configuration group at this level";
                }

                ///nokia-conf/configure/service/nat/firewall-policy/address-location
                choice address-location {
                    ///nokia-conf/configure/service/nat/firewall-policy/address-location/l2-outside
                    case l2-outside {

                        ///nokia-conf/configure/service/nat/firewall-policy/address-location/l2-outside/l2-outside
                        leaf l2-outside {
                            type empty;
                            description "Use Layer 2 outside service address location";
                        }

                    }
                    ///nokia-conf/configure/service/nat/firewall-policy/address-location/domain
                    case domain {

                        ///nokia-conf/configure/service/nat/firewall-policy/address-location/domain/domain
                        container domain {
                            description "Enter the domain context";

                            ///nokia-conf/configure/service/nat/firewall-policy/address-location/domain/domain/router-instance
                            leaf router-instance {
                                type string;
                                description "Router or VPRN service name";
                            }

                            ///nokia-conf/configure/service/nat/firewall-policy/address-location/domain/domain/name
                            leaf name {
                                type types-sros:named-item;
                                description "Firewall domain name";
                            }

                        } // container domain

                    }
                }
                ///nokia-conf/configure/service/nat/firewall-policy/alg
                container alg {
                    description "Enter the alg context";

                    ///nokia-conf/configure/service/nat/firewall-policy/alg/ftp
                    leaf ftp {
                        type boolean;
                        default "true";
                        description "Use FTP ALG for the policy";
                    }

                    ///nokia-conf/configure/service/nat/firewall-policy/alg/rtsp
                    leaf rtsp {
                        type boolean;
                        default "false";
                        description "Use RTSP ALG for the policy";
                    }

                    ///nokia-conf/configure/service/nat/firewall-policy/alg/sip
                    leaf sip {
                        type boolean;
                        default "false";
                        description "Use SIP ALG for the policy";
                    }

                } // container alg

                ///nokia-conf/configure/service/nat/firewall-policy/port-limits
                container port-limits {
                    description "Enter the port-limits context";

                    ///nokia-conf/configure/service/nat/firewall-policy/port-limits/forwarding
                    leaf forwarding {
                        type uint16 {
                            range "1..64";
                        }
                        description "Maximum number of port forwarding entries";
                    }

                } // container port-limits

                ///nokia-conf/configure/service/nat/firewall-policy/priority-sessions
                container priority-sessions {
                    description "Enter the priority-sessions context";

                    ///nokia-conf/configure/service/nat/firewall-policy/priority-sessions/fc
                    container fc {
                        description "Enter the fc context";

                        ///nokia-conf/configure/service/nat/firewall-policy/priority-sessions/fc/be
                        leaf be {
                            type boolean;
                            default "false";
                            description "Prioritize traffic from BE forwarding classes";
                        }

                        ///nokia-conf/configure/service/nat/firewall-policy/priority-sessions/fc/l2
                        leaf l2 {
                            type boolean;
                            default "false";
                            description "Prioritize traffic from L2 forwarding classes";
                        }

                        ///nokia-conf/configure/service/nat/firewall-policy/priority-sessions/fc/af
                        leaf af {
                            type boolean;
                            default "false";
                            description "Prioritize traffic from AF forwarding classes";
                        }

                        ///nokia-conf/configure/service/nat/firewall-policy/priority-sessions/fc/l1
                        leaf l1 {
                            type boolean;
                            default "false";
                            description "Prioritize traffic from L1 forwarding classes";
                        }

                        ///nokia-conf/configure/service/nat/firewall-policy/priority-sessions/fc/h2
                        leaf h2 {
                            type boolean;
                            default "false";
                            description "Prioritize traffic from H2 forwarding classes";
                        }

                        ///nokia-conf/configure/service/nat/firewall-policy/priority-sessions/fc/ef
                        leaf ef {
                            type boolean;
                            default "false";
                            description "Prioritize traffic from EF forwarding classes";
                        }

                        ///nokia-conf/configure/service/nat/firewall-policy/priority-sessions/fc/h1
                        leaf h1 {
                            type boolean;
                            default "false";
                            description "Prioritize traffic from H1 forwarding classes";
                        }

                        ///nokia-conf/configure/service/nat/firewall-policy/priority-sessions/fc/nc
                        leaf nc {
                            type boolean;
                            default "false";
                            description "Prioritize traffic from NC forwarding classes";
                        }

                    } // container fc

                } // container priority-sessions

                ///nokia-conf/configure/service/nat/firewall-policy/session-limits
                container session-limits {
                    description "Enter the session-limits context";

                    ///nokia-conf/configure/service/nat/firewall-policy/session-limits/max
                    leaf max {
                        type uint16 {
                            range "1..65535";
                        }
                        default "65535";
                        description "Maximum number of sessions per subscriber";
                    }

                    ///nokia-conf/configure/service/nat/firewall-policy/session-limits/reserved
                    leaf reserved {
                        type uint16 {
                            range "1..65534";
                        }
                        description "Number of sessions reserved for prioritized sessions";
                    }

                    ///nokia-conf/configure/service/nat/firewall-policy/session-limits/watermarks
                    container watermarks {
                        presence "Enable the watermarks context";
                        description "Enable the watermarks context";

                        ///nokia-conf/configure/service/nat/firewall-policy/session-limits/watermarks/high
                        leaf high {
                            type types-sros:percent;
                            mandatory true;
                            description "High watermark percentage";
                        }

                        ///nokia-conf/configure/service/nat/firewall-policy/session-limits/watermarks/low
                        leaf low {
                            type types-sros:percent;
                            mandatory true;
                            description "Low watermark percentage";
                        }

                    } // container watermarks

                } // container session-limits

                ///nokia-conf/configure/service/nat/firewall-policy/tcp
                container tcp {
                    description "Enter the tcp context";

                    ///nokia-conf/configure/service/nat/firewall-policy/tcp/mss-adjust
                    leaf mss-adjust {
                        type uint32 {
                            range "160..10240";
                        }
                        description "TCP MSS adjustment value";
                    }

                } // container tcp

                ///nokia-conf/configure/service/nat/firewall-policy/timeouts
                container timeouts {
                    description "Enter the timeouts context";

                    ///nokia-conf/configure/service/nat/firewall-policy/timeouts/icmp6-query
                    leaf icmp6-query {
                        type types-sros:time-duration {
                            range "60..240";
                        }
                        default "60";
                        description "Timeout applied to an ICMPv6 Query session";
                    }

                    ///nokia-conf/configure/service/nat/firewall-policy/timeouts/sip
                    leaf sip {
                        type types-sros:time-duration {
                            range "10..7200";
                        }
                        default "120";
                        description "SIP inactive media timeout";
                    }

                    ///nokia-conf/configure/service/nat/firewall-policy/timeouts/unknown-protocol
                    leaf unknown-protocol {
                        type types-sros:time-duration {
                            range "60..86400";
                        }
                        sros-ext:isa-auto-clear-on-modify;
                        default "300";
                        description "Timeout for flows with an unknown protocol";
                    }

                    ///nokia-conf/configure/service/nat/firewall-policy/timeouts/tcp
                    container tcp {
                        description "Enter the tcp context";

                        ///nokia-conf/configure/service/nat/firewall-policy/timeouts/tcp/established
                        leaf established {
                            type types-sros:time-duration {
                                range "60..86400";
                            }
                            default "7440";
                            description "Idle timeout for TCP session in established state";
                        }

                        ///nokia-conf/configure/service/nat/firewall-policy/timeouts/tcp/rst
                        leaf rst {
                            type types-sros:time-duration {
                                range "0..240";
                            }
                            default "0";
                            description "Suspend time for TCP connection ports closed by RST";
                        }

                        ///nokia-conf/configure/service/nat/firewall-policy/timeouts/tcp/syn
                        leaf syn {
                            type types-sros:time-duration {
                                range "6..86400";
                            }
                            default "15";
                            description "TCP session timeout when synchronizing initial sequence";
                        }

                        ///nokia-conf/configure/service/nat/firewall-policy/timeouts/tcp/time-wait
                        leaf time-wait {
                            type types-sros:time-duration {
                                range "0..240";
                            }
                            default "0";
                            description "Timeout applied to a TCP session in the time-wait state";
                        }

                        ///nokia-conf/configure/service/nat/firewall-policy/timeouts/tcp/transitory
                        leaf transitory {
                            type types-sros:time-duration {
                                range "60..86400";
                            }
                            default "240";
                            description "Idle timeout for TCP session in transitory state";
                        }

                    } // container tcp

                    ///nokia-conf/configure/service/nat/firewall-policy/timeouts/udp
                    container udp {
                        description "Enter the udp context";

                        ///nokia-conf/configure/service/nat/firewall-policy/timeouts/udp/normal
                        leaf normal {
                            type types-sros:time-duration {
                                range "60..86400";
                            }
                            default "300";
                            description "UDP mapping timeout";
                        }

                        ///nokia-conf/configure/service/nat/firewall-policy/timeouts/udp/dns
                        leaf dns {
                            type types-sros:time-duration {
                                range "15..86400";
                            }
                            default "15";
                            description "Timeout applied to UDP session with destination port 53";
                        }

                        ///nokia-conf/configure/service/nat/firewall-policy/timeouts/udp/initial
                        leaf initial {
                            type types-sros:time-duration {
                                range "10..300";
                            }
                            default "15";
                            description "UDP mapping timeout applied to new sessions";
                        }

                    } // container udp

                } // container timeouts

                ///nokia-conf/configure/service/nat/firewall-policy/udp
                container udp {
                    description "Enter the udp context";

                    ///nokia-conf/configure/service/nat/firewall-policy/udp/inbound-refresh
                    leaf inbound-refresh {
                        type boolean;
                        default "false";
                        description "Extend UDP session timeout on inbound traffic";
                    }

                } // container udp

                ///nokia-conf/configure/service/nat/firewall-policy/unknown-protocols
                container unknown-protocols {
                    description "Enter the unknown-protocols context";

                    ///nokia-conf/configure/service/nat/firewall-policy/unknown-protocols/unknown-protocols
                    choice unknown-protocols {
                        ///nokia-conf/configure/service/nat/firewall-policy/unknown-protocols/unknown-protocols/all
                        case all {

                            ///nokia-conf/configure/service/nat/firewall-policy/unknown-protocols/unknown-protocols/all/all
                            leaf all {
                                type empty;
                                description "Allow all protocols to create unknown flows";
                            }

                        }
                        ///nokia-conf/configure/service/nat/firewall-policy/unknown-protocols/unknown-protocols/protocol
                        case protocol {

                            ///nokia-conf/configure/service/nat/firewall-policy/unknown-protocols/unknown-protocols/protocol/protocol
                            leaf-list protocol {
                                type uint8 {
                                    range "0..255";
                                }
                                max-elements 8;
                                description "IANA number of protocol allowed to create unknown flow";
                            }

                        }
                    }
                } // container unknown-protocols

            } // list firewall-policy

            ///nokia-conf/configure/service/nat/prefix-list
            list prefix-list {
                key "name";
                description "Enter the prefix-list list instance";

                ///nokia-conf/configure/service/nat/prefix-list/name
                leaf name {
                    type types-sros:named-item;
                    description "NAT prefix list name";
                }

                ///nokia-conf/configure/service/nat/prefix-list/application
                leaf application {
                    type types-nat:prefix-list-application;
                    sros-ext:immutable;
                    sros-ext:isa-auto-clear-on-modify;
                    description "Prefix list for the application";
                }

                ///nokia-conf/configure/service/nat/prefix-list/apply-groups
                leaf-list apply-groups {
                    type leafref {
                        path "../../../../groups/group/name";
                    }
                    max-elements 8;
                    ordered-by user;
                    description "Apply a configuration group at this level";
                }

                ///nokia-conf/configure/service/nat/prefix-list/apply-groups-exclude
                leaf-list apply-groups-exclude {
                    type leafref {
                        path "../../../../groups/group/name";
                    }
                    max-elements 8;
                    ordered-by user;
                    description "Exclude a configuration group at this level";
                }

                ///nokia-conf/configure/service/nat/prefix-list/prefix
                list prefix {
                    key "ip-prefix";
                    max-elements 1024;
                    description "Enter the prefix list instance";

                    ///nokia-conf/configure/service/nat/prefix-list/prefix/ip-prefix
                    leaf ip-prefix {
                        type types-sros:ipv4-prefix;
                        description "NAT prefix";
                    }

                    ///nokia-conf/configure/service/nat/prefix-list/prefix/nat-policy
                    leaf nat-policy {
                        type leafref {
                            path "../../../nat-policy/name";
                        }
                        sros-ext:immutable;
                        sros-ext:isa-auto-clear-on-modify;
                        description "NAT policy for LSN";
                    }

                    ///nokia-conf/configure/service/nat/prefix-list/prefix/apply-groups
                    leaf-list apply-groups {
                        type leafref {
                            path "../../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        description "Apply a configuration group at this level";
                    }

                    ///nokia-conf/configure/service/nat/prefix-list/prefix/apply-groups-exclude
                    leaf-list apply-groups-exclude {
                        type leafref {
                            path "../../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        description "Exclude a configuration group at this level";
                    }

                } // list prefix

            } // list prefix-list

            ///nokia-conf/configure/service/nat/pcp-server-policy
            list pcp-server-policy {
                key "name";
                description "Enter the pcp-server-policy list instance";

                ///nokia-conf/configure/service/nat/pcp-server-policy/name
                leaf name {
                    type types-sros:named-item;
                    description "PCP server policy name";
                }

                ///nokia-conf/configure/service/nat/pcp-server-policy/description
                leaf description {
                    type types-sros:description;
                    description "Text description";
                }

                ///nokia-conf/configure/service/nat/pcp-server-policy/max-description-size
                leaf max-description-size {
                    type uint32 {
                        range "1..64";
                    }
                    default "64";
                    description "Maximum length of mapping descriptions made by the PCP servers";
                }

                ///nokia-conf/configure/service/nat/pcp-server-policy/reuse-external-ip-address
                leaf reuse-external-ip-address {
                    type boolean;
                    default "false";
                    description "Reuse external IP address for NAT subscriber";
                }

                ///nokia-conf/configure/service/nat/pcp-server-policy/apply-groups
                leaf-list apply-groups {
                    type leafref {
                        path "../../../../groups/group/name";
                    }
                    max-elements 8;
                    ordered-by user;
                    description "Apply a configuration group at this level";
                }

                ///nokia-conf/configure/service/nat/pcp-server-policy/apply-groups-exclude
                leaf-list apply-groups-exclude {
                    type leafref {
                        path "../../../../groups/group/name";
                    }
                    max-elements 8;
                    ordered-by user;
                    description "Exclude a configuration group at this level";
                }

                ///nokia-conf/configure/service/nat/pcp-server-policy/lifetime
                container lifetime {
                    description "Enter the lifetime context";

                    ///nokia-conf/configure/service/nat/pcp-server-policy/lifetime/minimum
                    leaf minimum {
                        type uint32 {
                            range "60..86399";
                        }
                        default "120";
                        description "Minimum lifetime of explicit mappings made by the PCP servers";
                    }

                    ///nokia-conf/configure/service/nat/pcp-server-policy/lifetime/maximum
                    leaf maximum {
                        type uint32 {
                            range "61..86400";
                        }
                        default "86400";
                        description "Maximum lifetime of explicit mappings made by the PCP servers";
                    }

                } // container lifetime

                ///nokia-conf/configure/service/nat/pcp-server-policy/version
                container version {
                    description "Enter the version context";

                    ///nokia-conf/configure/service/nat/pcp-server-policy/version/minimum
                    leaf minimum {
                        type uint16 {
                            range "1..255";
                        }
                        default "1";
                        description "Minimum protocol version supported by the PCP servers";
                    }

                    ///nokia-conf/configure/service/nat/pcp-server-policy/version/maximum
                    leaf maximum {
                        type uint16 {
                            range "1..255";
                        }
                        default "1";
                        description "Maximum protocol version supported by the PCP servers";
                    }

                } // container version

                ///nokia-conf/configure/service/nat/pcp-server-policy/opcode
                container opcode {
                    description "Enter the opcode context";

                    ///nokia-conf/configure/service/nat/pcp-server-policy/opcode/announce
                    leaf announce {
                        type boolean;
                        default "false";
                        description "Process the announce PCP requests";
                    }

                    ///nokia-conf/configure/service/nat/pcp-server-policy/opcode/get
                    leaf get {
                        type boolean;
                        default "false";
                        description "Process the get PCP requests";
                    }

                    ///nokia-conf/configure/service/nat/pcp-server-policy/opcode/map
                    leaf map {
                        type boolean;
                        default "false";
                        description "Process the map PCP requests";
                    }

                } // container opcode

                ///nokia-conf/configure/service/nat/pcp-server-policy/option
                container option {
                    description "Enter the option context";

                    ///nokia-conf/configure/service/nat/pcp-server-policy/option/description
                    leaf description {
                        type boolean;
                        default "false";
                        description "Text description";
                    }

                    ///nokia-conf/configure/service/nat/pcp-server-policy/option/next
                    leaf next {
                        type boolean;
                        default "false";
                        description "Process the PCP requests that contain the next option";
                    }

                    ///nokia-conf/configure/service/nat/pcp-server-policy/option/port-reservation
                    leaf port-reservation {
                        type boolean;
                        default "false";
                        description "Process the PCP requests that contain the prefer failure option";
                    }

                    ///nokia-conf/configure/service/nat/pcp-server-policy/option/port-set
                    leaf port-set {
                        type boolean;
                        default "false";
                        description "Support the PORT_SET option in PCP MAP requests";
                    }

                    ///nokia-conf/configure/service/nat/pcp-server-policy/option/prefer-failure
                    leaf prefer-failure {
                        type boolean;
                        default "false";
                        description "Process the PCP requests that contain the port reservation option";
                    }

                    ///nokia-conf/configure/service/nat/pcp-server-policy/option/third-party
                    leaf third-party {
                        type boolean;
                        default "false";
                        description "Process the PCP requests that contain the third party option";
                    }

                } // container option

            } // list pcp-server-policy

            ///nokia-conf/configure/service/nat/syslog
            container syslog {
                description "Enter the syslog context";

                ///nokia-conf/configure/service/nat/syslog/export-policy
                list export-policy {
                    key "name";
                    max-elements 8;
                    description "Enter the export-policy list instance";

                    ///nokia-conf/configure/service/nat/syslog/export-policy/name
                    leaf name {
                        type types-sros:named-item;
                        description "Syslog export policy name";
                    }

                    ///nokia-conf/configure/service/nat/syslog/export-policy/description
                    leaf description {
                        type types-sros:description;
                        description "Text description";
                    }

                    ///nokia-conf/configure/service/nat/syslog/export-policy/facility
                    leaf facility {
                        type types-nat:syslog-facility;
                        default "local0";
                        description "Facility number in the PRI part of the NAT SYSLOG messages";
                    }

                    ///nokia-conf/configure/service/nat/syslog/export-policy/log-prefix
                    leaf log-prefix {
                        type types-sros:named-item;
                        default "TMNX";
                        description "Optional prefix text in the MSG part of the NAT syslog messages";
                    }

                    ///nokia-conf/configure/service/nat/syslog/export-policy/max-tx-delay
                    leaf max-tx-delay {
                        type uint32 {
                            range "0..100";
                        }
                        units "deciseconds";
                        default "3";
                        description "Maximum time a syslog message delays in the output buffer to aggregate multiple events";
                    }

                    ///nokia-conf/configure/service/nat/syslog/export-policy/mtu
                    leaf mtu {
                        type uint32 {
                            range "512..9000";
                        }
                        default "1500";
                        description "Maximum transmission unit";
                    }

                    ///nokia-conf/configure/service/nat/syslog/export-policy/rate-limit
                    leaf rate-limit {
                        type uint32 {
                            range "10..2147483647";
                        }
                        units "packets per second";
                        description "Frame limit";
                    }

                    ///nokia-conf/configure/service/nat/syslog/export-policy/severity-level
                    leaf severity-level {
                        type types-nat:syslog-severity-level;
                        default "info";
                        description "Severity level in the PRI part of the syslog messages";
                    }

                    ///nokia-conf/configure/service/nat/syslog/export-policy/apply-groups
                    leaf-list apply-groups {
                        type leafref {
                            path "../../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        description "Apply a configuration group at this level";
                    }

                    ///nokia-conf/configure/service/nat/syslog/export-policy/apply-groups-exclude
                    leaf-list apply-groups-exclude {
                        type leafref {
                            path "../../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        description "Exclude a configuration group at this level";
                    }

                    ///nokia-conf/configure/service/nat/syslog/export-policy/include
                    container include {
                        description "Enter the include context";

                        ///nokia-conf/configure/service/nat/syslog/export-policy/include/destination-ip
                        leaf destination-ip {
                            type boolean;
                            default "false";
                            description "Include the translated destination IP address";
                        }

                        ///nokia-conf/configure/service/nat/syslog/export-policy/include/foreign-ip
                        leaf foreign-ip {
                            type boolean;
                            default "false";
                            description "Include the original destination IPv4 address";
                        }

                        ///nokia-conf/configure/service/nat/syslog/export-policy/include/foreign-port
                        leaf foreign-port {
                            type boolean;
                            default "false";
                            description "Include the original destination port";
                        }

                        ///nokia-conf/configure/service/nat/syslog/export-policy/include/nat-policy-name
                        leaf nat-policy-name {
                            type boolean;
                            default "false";
                            description "Include the NAT policy name in the flow log";
                        }

                        ///nokia-conf/configure/service/nat/syslog/export-policy/include/sub-id
                        leaf sub-id {
                            type boolean;
                            default "false";
                            description "Subscriber ID in subscriber aware NAT";
                        }

                    } // container include

                    ///nokia-conf/configure/service/nat/syslog/export-policy/collector
                    list collector {
                        key "router-instance ip-address";
                        max-elements 2;
                        description "Enter the collector list instance";

                        ///nokia-conf/configure/service/nat/syslog/export-policy/collector/router-instance
                        leaf router-instance {
                            type string;
                            description "Router instance";
                        }

                        ///nokia-conf/configure/service/nat/syslog/export-policy/collector/ip-address
                        leaf ip-address {
                            type types-sros:ipv4-unicast-address;
                            description "IPv4 address of the external collector node";
                        }

                        ///nokia-conf/configure/service/nat/syslog/export-policy/collector/admin-state
                        leaf admin-state {
                            type types-sros:admin-state;
                            default "disable";
                            description "Administrative state of the collector node";
                        }

                        ///nokia-conf/configure/service/nat/syslog/export-policy/collector/destination-port
                        leaf destination-port {
                            type types-sros:tcp-udp-port-non-zero;
                            sros-ext:auto-restart-to-modify;
                            default "514";
                            description "Destination port";
                        }

                        ///nokia-conf/configure/service/nat/syslog/export-policy/collector/ipv4-source-address
                        leaf ipv4-source-address {
                            type types-sros:ipv4-unicast-address;
                            sros-ext:auto-restart-to-modify;
                            description "IPv4 source address";
                        }

                        ///nokia-conf/configure/service/nat/syslog/export-policy/collector/apply-groups
                        leaf-list apply-groups {
                            type leafref {
                                path "../../../../../../groups/group/name";
                            }
                            max-elements 8;
                            ordered-by user;
                            sros-ext:auto-restart-to-modify;
                            description "Apply a configuration group at this level";
                        }

                        ///nokia-conf/configure/service/nat/syslog/export-policy/collector/apply-groups-exclude
                        leaf-list apply-groups-exclude {
                            type leafref {
                                path "../../../../../../groups/group/name";
                            }
                            max-elements 8;
                            ordered-by user;
                            sros-ext:auto-restart-to-modify;
                            description "Exclude a configuration group at this level";
                        }

                    } // list collector

                } // list export-policy

            } // container syslog

            ///nokia-conf/configure/service/nat/classifier
            list classifier {
                key "name";
                max-elements 8;
                description "Enter the classifier list instance";

                ///nokia-conf/configure/service/nat/classifier/name
                leaf name {
                    type types-sros:named-item;
                    description "NAT classifier name";
                }

                ///nokia-conf/configure/service/nat/classifier/description
                leaf description {
                    type types-sros:description;
                    description "Text description";
                }

                ///nokia-conf/configure/service/nat/classifier/apply-groups
                leaf-list apply-groups {
                    type leafref {
                        path "../../../../groups/group/name";
                    }
                    max-elements 8;
                    ordered-by user;
                    description "Apply a configuration group at this level";
                }

                ///nokia-conf/configure/service/nat/classifier/apply-groups-exclude
                leaf-list apply-groups-exclude {
                    type leafref {
                        path "../../../../groups/group/name";
                    }
                    max-elements 8;
                    ordered-by user;
                    description "Exclude a configuration group at this level";
                }

                ///nokia-conf/configure/service/nat/classifier/default
                container default {
                    description "Enter the default context";

                    ///nokia-conf/configure/service/nat/classifier/default/dnat-ip-address
                    leaf dnat-ip-address {
                        type types-sros:ipv4-unicast-address;
                        sros-ext:isa-auto-clear-on-modify;
                        description "Default destination IP address for matching entries with dNAT action";
                    }

                    ///nokia-conf/configure/service/nat/classifier/default/action
                    container action {
                        description "Enter the action context";

                        ///nokia-conf/configure/service/nat/classifier/default/action/action-choice
                        choice action-choice {
                            default "forward-option";
                            ///nokia-conf/configure/service/nat/classifier/default/action/action-choice/dnat-option
                            case dnat-option {

                                ///nokia-conf/configure/service/nat/classifier/default/action/action-choice/dnat-option/dnat
                                leaf dnat {
                                    status obsolete;
                                    type empty;
                                    sros-ext:isa-auto-clear-on-modify;
                                    description "Default destination IP address for DNAT action";
                                }

                                ///nokia-conf/configure/service/nat/classifier/default/action/action-choice/dnat-option/dnat-ip-address
                                leaf dnat-ip-address {
                                    status obsolete;
                                    type types-sros:ipv4-unicast-address;
                                    sros-ext:isa-auto-clear-on-modify;
                                    description "Substitute IP address for the destination IP address of the packets matching this classifier";
                                }

                                ///nokia-conf/configure/service/nat/classifier/default/action/action-choice/dnat-option/destination-nat
                                container destination-nat {
                                    presence "Enable the destination-nat context";
                                    description "Enable the destination-nat context";

                                    ///nokia-conf/configure/service/nat/classifier/default/action/action-choice/dnat-option/destination-nat/ip-address
                                    leaf ip-address {
                                        type types-sros:ipv4-unicast-address;
                                        description "Substitute destination IP address of matching packets";
                                    }

                                } // container destination-nat

                            }
                            ///nokia-conf/configure/service/nat/classifier/default/action/action-choice/forward-option
                            case forward-option {

                                ///nokia-conf/configure/service/nat/classifier/default/action/action-choice/forward-option/forward
                                leaf forward {
                                    type empty;
                                    sros-ext:isa-auto-clear-on-modify;
                                    description "Forward mode of operation";
                                }

                            }
                        }
                    } // container action

                } // container default

                ///nokia-conf/configure/service/nat/classifier/entry
                list entry {
                    key "id";
                    max-elements 32;
                    description "Enter the entry list instance";

                    ///nokia-conf/configure/service/nat/classifier/entry/id
                    leaf id {
                        type uint32 {
                            range "1..1000";
                        }
                        description "Classifier rule entry ID";
                    }

                    ///nokia-conf/configure/service/nat/classifier/entry/description
                    leaf description {
                        type types-sros:description;
                        description "Text description";
                    }

                    ///nokia-conf/configure/service/nat/classifier/entry/apply-groups
                    leaf-list apply-groups {
                        type leafref {
                            path "../../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        description "Apply a configuration group at this level";
                    }

                    ///nokia-conf/configure/service/nat/classifier/entry/apply-groups-exclude
                    leaf-list apply-groups-exclude {
                        type leafref {
                            path "../../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        description "Exclude a configuration group at this level";
                    }

                    ///nokia-conf/configure/service/nat/classifier/entry/action
                    container action {
                        description "Enter the action context";

                        ///nokia-conf/configure/service/nat/classifier/entry/action/action-choice
                        choice action-choice {
                            ///nokia-conf/configure/service/nat/classifier/entry/action/action-choice/dnat-option
                            case dnat-option {

                                ///nokia-conf/configure/service/nat/classifier/entry/action/action-choice/dnat-option/dnat
                                leaf dnat {
                                    status obsolete;
                                    type empty;
                                    sros-ext:isa-auto-clear-on-modify;
                                    description "Destination-NAT mode of operation";
                                }

                                ///nokia-conf/configure/service/nat/classifier/entry/action/action-choice/dnat-option/dnat-ip-address
                                leaf dnat-ip-address {
                                    status obsolete;
                                    type types-sros:ipv4-unicast-address;
                                    sros-ext:isa-auto-clear-on-modify;
                                    description "Substitute IP address for the destination IP address of the packets matching this classifier";
                                }

                                ///nokia-conf/configure/service/nat/classifier/entry/action/action-choice/dnat-option/destination-nat
                                container destination-nat {
                                    presence "Enable the destination-nat context";
                                    description "Enable the destination-nat context";

                                    ///nokia-conf/configure/service/nat/classifier/entry/action/action-choice/dnat-option/destination-nat/ip-address
                                    leaf ip-address {
                                        type types-sros:ipv4-unicast-address;
                                        description "Replacement destination IP address for packets";
                                    }

                                } // container destination-nat

                            }
                            ///nokia-conf/configure/service/nat/classifier/entry/action/action-choice/forward-option
                            case forward-option {

                                ///nokia-conf/configure/service/nat/classifier/entry/action/action-choice/forward-option/forward
                                leaf forward {
                                    type empty;
                                    sros-ext:isa-auto-clear-on-modify;
                                    description "Forward mode of operation";
                                }

                            }
                        }
                    } // container action

                    ///nokia-conf/configure/service/nat/classifier/entry/match
                    container match {
                        description "Enter the match context";

                        ///nokia-conf/configure/service/nat/classifier/entry/match/protocol
                        leaf protocol {
                            type types-nat:ip-protocol-tcp-or-udp;
                            sros-ext:isa-auto-clear-on-modify;
                            description "IP protocol to match";
                        }

                        ///nokia-conf/configure/service/nat/classifier/entry/match/foreign-ip-address
                        leaf foreign-ip-address {
                            type types-sros:ipv4-unicast-address;
                            sros-ext:isa-auto-clear-on-modify;
                            description "Foreign IP address as the match criterion";
                        }

                        ///nokia-conf/configure/service/nat/classifier/entry/match/dst-port-range
                        container dst-port-range {
                            description "Enter the dst-port-range context";

                            ///nokia-conf/configure/service/nat/classifier/entry/match/dst-port-range/start
                            leaf start {
                                type types-sros:tcp-udp-port;
                                sros-ext:isa-auto-clear-on-modify;
                                default "0";
                                description "Lower bound of the port range";
                            }

                            ///nokia-conf/configure/service/nat/classifier/entry/match/dst-port-range/end
                            leaf end {
                                type types-sros:tcp-udp-port;
                                sros-ext:isa-auto-clear-on-modify;
                                default "65535";
                                description "Upper bound of the port range";
                            }

                        } // container dst-port-range

                    } // container match

                } // list entry

            } // list classifier

            ///nokia-conf/configure/service/nat/nat-policy
            list nat-policy {
                key "name";
                max-elements 4096;
                description "Enter the nat-policy list instance";

                ///nokia-conf/configure/service/nat/nat-policy/name
                leaf name {
                    type types-sros:external-named-item;
                    description "NAT policy name";
                }

                ///nokia-conf/configure/service/nat/nat-policy/description
                leaf description {
                    type types-sros:description;
                    description "Text description";
                }

                ///nokia-conf/configure/service/nat/nat-policy/block-limit
                leaf block-limit {
                    type uint16 {
                        range "1..40";
                    }
                    default "1";
                    description "Maximum number of port blocks per subscriber";
                }

                ///nokia-conf/configure/service/nat/nat-policy/filtering
                leaf filtering {
                    type types-nat:filtering;
                    description "Filtering method for inbound traffic for the policy";
                }

                ///nokia-conf/configure/service/nat/nat-policy/port-forwarding-range-end
                leaf port-forwarding-range-end {
                    type uint16 {
                        range "1023..65535";
                    }
                    default "1023";
                    description "End of the port forwarding range";
                }

                ///nokia-conf/configure/service/nat/nat-policy/apply-groups
                leaf-list apply-groups {
                    type leafref {
                        path "../../../../groups/group/name";
                    }
                    max-elements 8;
                    ordered-by user;
                    description "Apply a configuration group at this level";
                }

                ///nokia-conf/configure/service/nat/nat-policy/apply-groups-exclude
                leaf-list apply-groups-exclude {
                    type leafref {
                        path "../../../../groups/group/name";
                    }
                    max-elements 8;
                    ordered-by user;
                    description "Exclude a configuration group at this level";
                }

                ///nokia-conf/configure/service/nat/nat-policy/address-location
                choice address-location {
                    ///nokia-conf/configure/service/nat/nat-policy/address-location/pool
                    case pool {

                        ///nokia-conf/configure/service/nat/nat-policy/address-location/pool/pool
                        container pool {
                            description "Enter the pool context";

                            ///nokia-conf/configure/service/nat/nat-policy/address-location/pool/pool/router-instance
                            leaf router-instance {
                                type string;
                                sros-ext:isa-auto-clear-on-modify;
                                description "Router or VPRN service name";
                            }

                            ///nokia-conf/configure/service/nat/nat-policy/address-location/pool/pool/name
                            leaf name {
                                type types-sros:named-item;
                                sros-ext:isa-auto-clear-on-modify;
                                description "NAT pool name";
                            }

                        } // container pool

                    }
                    ///nokia-conf/configure/service/nat/nat-policy/address-location/dnat
                    case dnat {

                        ///nokia-conf/configure/service/nat/nat-policy/address-location/dnat/dnat-only
                        container dnat-only {
                            presence "Enable the dnat-only context";
                            description "Enable the dnat-only context";

                            ///nokia-conf/configure/service/nat/nat-policy/address-location/dnat/dnat-only/router-instance
                            leaf router-instance {
                                type string;
                                sros-ext:isa-auto-clear-on-modify;
                                mandatory true;
                                description "Router name or VPRN service name";
                            }

                            ///nokia-conf/configure/service/nat/nat-policy/address-location/dnat/dnat-only/isa
                            choice isa {
                                mandatory true;
                                ///nokia-conf/configure/service/nat/nat-policy/address-location/dnat/dnat-only/isa/nat
                                case nat {

                                    ///nokia-conf/configure/service/nat/nat-policy/address-location/dnat/dnat-only/isa/nat/nat-group
                                    leaf nat-group {
                                        type leafref {
                                            path "../../../../../isa/nat-group/id";
                                        }
                                        sros-ext:immutable;
                                        sros-ext:isa-auto-clear-on-modify;
                                        description "NAT group";
                                    }

                                }
                                ///nokia-conf/configure/service/nat/nat-policy/address-location/dnat/dnat-only/isa/wlan-gw
                                case wlan-gw {

                                    ///nokia-conf/configure/service/nat/nat-policy/address-location/dnat/dnat-only/isa/wlan-gw/wlan-gw-group
                                    leaf wlan-gw-group {
                                        type leafref {
                                            path "../../../../../isa/wlan-gw-group/id";
                                        }
                                        sros-ext:immutable;
                                        sros-ext:isa-auto-clear-on-modify;
                                        description "WLAN GW group used for NAT";
                                    }

                                }
                            }
                        } // container dnat-only

                    }
                    ///nokia-conf/configure/service/nat/nat-policy/address-location/l2-outside
                    case l2-outside {

                        ///nokia-conf/configure/service/nat/nat-policy/address-location/l2-outside/l2-outside
                        leaf l2-outside {
                            type empty;
                            description "Use Layer 2 outside service address location";
                        }

                    }
                }
                ///nokia-conf/configure/service/nat/nat-policy/alg
                container alg {
                    description "Enter the alg context";

                    ///nokia-conf/configure/service/nat/nat-policy/alg/ftp
                    leaf ftp {
                        type boolean;
                        default "true";
                        description "Use FTP ALG for the policy";
                    }

                    ///nokia-conf/configure/service/nat/nat-policy/alg/pptp
                    leaf pptp {
                        type boolean;
                        default "false";
                        description "Use PPTP ALG for the policy";
                    }

                    ///nokia-conf/configure/service/nat/nat-policy/alg/rtsp
                    leaf rtsp {
                        type boolean;
                        default "false";
                        description "Use RTSP ALG for the policy";
                    }

                    ///nokia-conf/configure/service/nat/nat-policy/alg/sip
                    leaf sip {
                        type boolean;
                        default "false";
                        description "Use SIP ALG for the policy";
                    }

                } // container alg

                ///nokia-conf/configure/service/nat/nat-policy/dnat
                container dnat {
                    description "Enter the dnat context";

                    ///nokia-conf/configure/service/nat/nat-policy/dnat/classifier
                    leaf classifier {
                        type leafref {
                            path "../../../classifier/name";
                        }
                        sros-ext:isa-auto-clear-on-modify;
                        description "NAT classifier";
                    }

                } // container dnat

                ///nokia-conf/configure/service/nat/nat-policy/flow-log-policy
                container flow-log-policy {
                    description "Enter the flow-log-policy context";

                    ///nokia-conf/configure/service/nat/nat-policy/flow-log-policy/ipfix
                    leaf ipfix {
                        type leafref {
                            path "../../../../ipfix/export-policy/name";
                        }
                        description "IPFIX export policy";
                    }

                    ///nokia-conf/configure/service/nat/nat-policy/flow-log-policy/syslog
                    leaf syslog {
                        type leafref {
                            path "../../../syslog/export-policy/name";
                        }
                        description "Syslog export policy name";
                    }

                } // container flow-log-policy

                ///nokia-conf/configure/service/nat/nat-policy/port-limits
                container port-limits {
                    description "Enter the port-limits context";

                    ///nokia-conf/configure/service/nat/nat-policy/port-limits/forwarding
                    leaf forwarding {
                        type uint16 {
                            range "1..64";
                        }
                        description "Maximum number of port forwarding entries";
                    }

                    ///nokia-conf/configure/service/nat/nat-policy/port-limits/reserved
                    leaf reserved {
                        type uint16 {
                            range "1..65534";
                        }
                        description "Number of ports reserved for prioritized sessions";
                    }

                    ///nokia-conf/configure/service/nat/nat-policy/port-limits/watermarks
                    container watermarks {
                        presence "Enable the watermarks context";
                        description "Enable the watermarks context";

                        ///nokia-conf/configure/service/nat/nat-policy/port-limits/watermarks/high
                        leaf high {
                            type types-sros:percent;
                            mandatory true;
                            description "High watermark percentage";
                        }

                        ///nokia-conf/configure/service/nat/nat-policy/port-limits/watermarks/low
                        leaf low {
                            type types-sros:percent;
                            mandatory true;
                            description "Low watermark percentage";
                        }

                    } // container watermarks

                } // container port-limits

                ///nokia-conf/configure/service/nat/nat-policy/priority-sessions
                container priority-sessions {
                    description "Enter the priority-sessions context";

                    ///nokia-conf/configure/service/nat/nat-policy/priority-sessions/fc
                    container fc {
                        description "Enter the fc context";

                        ///nokia-conf/configure/service/nat/nat-policy/priority-sessions/fc/be
                        leaf be {
                            type boolean;
                            default "false";
                            description "Prioritize traffic from BE forwarding classes";
                        }

                        ///nokia-conf/configure/service/nat/nat-policy/priority-sessions/fc/l2
                        leaf l2 {
                            type boolean;
                            default "false";
                            description "Prioritize traffic from L2 forwarding classes";
                        }

                        ///nokia-conf/configure/service/nat/nat-policy/priority-sessions/fc/af
                        leaf af {
                            type boolean;
                            default "false";
                            description "Prioritize traffic from AF forwarding classes";
                        }

                        ///nokia-conf/configure/service/nat/nat-policy/priority-sessions/fc/l1
                        leaf l1 {
                            type boolean;
                            default "false";
                            description "Prioritize traffic from L1 forwarding classes";
                        }

                        ///nokia-conf/configure/service/nat/nat-policy/priority-sessions/fc/h2
                        leaf h2 {
                            type boolean;
                            default "false";
                            description "Prioritize traffic from H2 forwarding classes";
                        }

                        ///nokia-conf/configure/service/nat/nat-policy/priority-sessions/fc/ef
                        leaf ef {
                            type boolean;
                            default "false";
                            description "Prioritize traffic from EF forwarding classes";
                        }

                        ///nokia-conf/configure/service/nat/nat-policy/priority-sessions/fc/h1
                        leaf h1 {
                            type boolean;
                            default "false";
                            description "Prioritize traffic from H1 forwarding classes";
                        }

                        ///nokia-conf/configure/service/nat/nat-policy/priority-sessions/fc/nc
                        leaf nc {
                            type boolean;
                            default "false";
                            description "Prioritize traffic from NC forwarding classes";
                        }

                    } // container fc

                } // container priority-sessions

                ///nokia-conf/configure/service/nat/nat-policy/session-limits
                container session-limits {
                    description "Enter the session-limits context";

                    ///nokia-conf/configure/service/nat/nat-policy/session-limits/max
                    leaf max {
                        type uint16 {
                            range "1..65535";
                        }
                        default "65535";
                        description "Maximum number of sessions per subscriber";
                    }

                    ///nokia-conf/configure/service/nat/nat-policy/session-limits/reserved
                    leaf reserved {
                        type uint16 {
                            range "1..65534";
                        }
                        description "Number of sessions reserved for prioritized sessions";
                    }

                    ///nokia-conf/configure/service/nat/nat-policy/session-limits/watermarks
                    container watermarks {
                        presence "Enable the watermarks context";
                        description "Enable the watermarks context";

                        ///nokia-conf/configure/service/nat/nat-policy/session-limits/watermarks/high
                        leaf high {
                            type types-sros:percent;
                            mandatory true;
                            description "High watermark percentage";
                        }

                        ///nokia-conf/configure/service/nat/nat-policy/session-limits/watermarks/low
                        leaf low {
                            type types-sros:percent;
                            mandatory true;
                            description "Low watermark percentage";
                        }

                    } // container watermarks

                } // container session-limits

                ///nokia-conf/configure/service/nat/nat-policy/tcp
                container tcp {
                    description "Enter the tcp context";

                    ///nokia-conf/configure/service/nat/nat-policy/tcp/reset-unknown
                    leaf reset-unknown {
                        type boolean;
                        default "false";
                        description "Generate TCP reset for packets from unknown flows";
                    }

                    ///nokia-conf/configure/service/nat/nat-policy/tcp/mss-adjust
                    leaf mss-adjust {
                        type uint32 {
                            range "160..10240";
                        }
                        description "TCP MSS adjustment value";
                    }

                } // container tcp

                ///nokia-conf/configure/service/nat/nat-policy/timeouts
                container timeouts {
                    description "Enter the timeouts context";

                    ///nokia-conf/configure/service/nat/nat-policy/timeouts/icmp-query
                    leaf icmp-query {
                        type types-sros:time-duration {
                            range "60..240";
                        }
                        default "60";
                        description "Timeout applied to an ICMP Query session";
                    }

                    ///nokia-conf/configure/service/nat/nat-policy/timeouts/sip
                    leaf sip {
                        type types-sros:time-duration {
                            range "10..7200";
                        }
                        default "120";
                        description "SIP inactive media timeout";
                    }

                    ///nokia-conf/configure/service/nat/nat-policy/timeouts/subscriber-retention
                    leaf subscriber-retention {
                        type types-sros:time-duration {
                            range "0..1440";
                        }
                        units "minutes";
                        default "0";
                        description "IP address hold time after host and port blocks expire";
                    }

                    ///nokia-conf/configure/service/nat/nat-policy/timeouts/tcp
                    container tcp {
                        description "Enter the tcp context";

                        ///nokia-conf/configure/service/nat/nat-policy/timeouts/tcp/established
                        leaf established {
                            type types-sros:time-duration {
                                range "60..86400";
                            }
                            default "7440";
                            description "Idle timeout for TCP session in established state";
                        }

                        ///nokia-conf/configure/service/nat/nat-policy/timeouts/tcp/rst
                        leaf rst {
                            type types-sros:time-duration {
                                range "0..240";
                            }
                            default "0";
                            description "Suspend time for TCP connection ports closed by RST";
                        }

                        ///nokia-conf/configure/service/nat/nat-policy/timeouts/tcp/syn
                        leaf syn {
                            type types-sros:time-duration {
                                range "6..86400";
                            }
                            default "15";
                            description "TCP session timeout when synchronizing initial sequence";
                        }

                        ///nokia-conf/configure/service/nat/nat-policy/timeouts/tcp/time-wait
                        leaf time-wait {
                            type types-sros:time-duration {
                                range "0..240";
                            }
                            default "0";
                            description "Timeout applied to a TCP session in the time-wait state";
                        }

                        ///nokia-conf/configure/service/nat/nat-policy/timeouts/tcp/transitory
                        leaf transitory {
                            type types-sros:time-duration {
                                range "60..86400";
                            }
                            default "240";
                            description "Idle timeout for TCP session in transitory state";
                        }

                    } // container tcp

                    ///nokia-conf/configure/service/nat/nat-policy/timeouts/udp
                    container udp {
                        description "Enter the udp context";

                        ///nokia-conf/configure/service/nat/nat-policy/timeouts/udp/normal
                        leaf normal {
                            type types-sros:time-duration {
                                range "60..86400";
                            }
                            default "300";
                            description "UDP mapping timeout";
                        }

                        ///nokia-conf/configure/service/nat/nat-policy/timeouts/udp/dns
                        leaf dns {
                            type types-sros:time-duration {
                                range "15..86400";
                            }
                            default "15";
                            description "Timeout applied to UDP session with destination port 53";
                        }

                        ///nokia-conf/configure/service/nat/nat-policy/timeouts/udp/initial
                        leaf initial {
                            type types-sros:time-duration {
                                range "10..300";
                            }
                            default "15";
                            description "UDP mapping timeout applied to new sessions";
                        }

                    } // container udp

                } // container timeouts

                ///nokia-conf/configure/service/nat/nat-policy/udp
                container udp {
                    description "Enter the udp context";

                    ///nokia-conf/configure/service/nat/nat-policy/udp/inbound-refresh
                    leaf inbound-refresh {
                        type boolean;
                        default "false";
                        description "Extend UDP session timeout on inbound traffic";
                    }

                } // container udp

            } // list nat-policy

            ///nokia-conf/configure/service/nat/up-nat-policy
            list up-nat-policy {
                key "name";
                max-elements 32;
                description "Enter the up-nat-policy list instance";

                ///nokia-conf/configure/service/nat/up-nat-policy/name
                leaf name {
                    type types-sros:external-named-item;
                    description "UP NAT policy name";
                }

                ///nokia-conf/configure/service/nat/up-nat-policy/description
                leaf description {
                    type types-sros:description;
                    description "Text description";
                }

                ///nokia-conf/configure/service/nat/up-nat-policy/block-limit
                leaf block-limit {
                    type uint16 {
                        range "1..10";
                    }
                    default "1";
                    description "Maximum number of port blocks per NAT subscriber";
                }

                ///nokia-conf/configure/service/nat/up-nat-policy/icmp-echo-reply
                leaf icmp-echo-reply {
                    type boolean;
                    default "false";
                    description "Enable replies to ICMP Echo Request messages";
                }

                ///nokia-conf/configure/service/nat/up-nat-policy/filtering
                leaf filtering {
                    type types-nat:filtering;
                    description "Filtering method for inbound traffic for the policy";
                }

                ///nokia-conf/configure/service/nat/up-nat-policy/apply-groups
                leaf-list apply-groups {
                    type leafref {
                        path "../../../../groups/group/name";
                    }
                    max-elements 8;
                    ordered-by user;
                    description "Apply a configuration group at this level";
                }

                ///nokia-conf/configure/service/nat/up-nat-policy/apply-groups-exclude
                leaf-list apply-groups-exclude {
                    type leafref {
                        path "../../../../groups/group/name";
                    }
                    max-elements 8;
                    ordered-by user;
                    description "Exclude a configuration group at this level";
                }

                ///nokia-conf/configure/service/nat/up-nat-policy/alg
                container alg {
                    description "Enter the alg context";

                    ///nokia-conf/configure/service/nat/up-nat-policy/alg/ftp
                    leaf ftp {
                        type boolean;
                        default "true";
                        description "Use FTP ALG for the policy";
                    }

                    ///nokia-conf/configure/service/nat/up-nat-policy/alg/pptp
                    leaf pptp {
                        type boolean;
                        default "false";
                        description "Use PPTP ALG for the policy";
                    }

                    ///nokia-conf/configure/service/nat/up-nat-policy/alg/rtsp
                    leaf rtsp {
                        type boolean;
                        default "false";
                        description "Use RTSP ALG for the policy";
                    }

                    ///nokia-conf/configure/service/nat/up-nat-policy/alg/sip
                    leaf sip {
                        type boolean;
                        default "false";
                        description "Use SIP ALG for the policy";
                    }

                } // container alg

                ///nokia-conf/configure/service/nat/up-nat-policy/default-host
                container default-host {
                    presence "Enable the default-host context";
                    description "Enable the default-host context";

                    ///nokia-conf/configure/service/nat/up-nat-policy/default-host/ip-address
                    leaf ip-address {
                        type types-sros:ipv4-unicast-address;
                        description "IP address of the default DMZ host";
                    }

                    ///nokia-conf/configure/service/nat/up-nat-policy/default-host/inside-router-instance
                    leaf inside-router-instance {
                        type string;
                        description "Router instance of the DMZ";
                    }

                    ///nokia-conf/configure/service/nat/up-nat-policy/default-host/rate-limit
                    leaf rate-limit {
                        type int32 {
                            range "1..10000";
                        }
                        units "megabps";
                        default "10";
                        description "Rate limit for unknown traffic sent to default DMZ host";
                    }

                } // container default-host

                ///nokia-conf/configure/service/nat/up-nat-policy/port-block-extension
                container port-block-extension {
                    presence "Enable the port-block-extension context";
                    description "Enable the port-block-extension context";

                    ///nokia-conf/configure/service/nat/up-nat-policy/port-block-extension/ports
                    leaf ports {
                        type uint32 {
                            range "10..5000";
                        }
                        mandatory true;
                        description "Number of ports per dynamic port block";
                    }

                    ///nokia-conf/configure/service/nat/up-nat-policy/port-block-extension/watermarks
                    container watermarks {
                        presence "Enable the watermarks context";
                        description "Enable the watermarks context";

                        ///nokia-conf/configure/service/nat/up-nat-policy/port-block-extension/watermarks/high
                        leaf high {
                            type types-sros:percent;
                            mandatory true;
                            description "High watermark percentage";
                        }

                        ///nokia-conf/configure/service/nat/up-nat-policy/port-block-extension/watermarks/low
                        leaf low {
                            type types-sros:percent;
                            mandatory true;
                            description "Low watermark percentage";
                        }

                    } // container watermarks

                } // container port-block-extension

                ///nokia-conf/configure/service/nat/up-nat-policy/flow-log-policy
                container flow-log-policy {
                    description "Enter the flow-log-policy context";

                    ///nokia-conf/configure/service/nat/up-nat-policy/flow-log-policy/ipfix
                    leaf ipfix {
                        type leafref {
                            path "../../../../ipfix/export-policy/name";
                        }
                        description "IPFIX export policy";
                    }

                } // container flow-log-policy

                ///nokia-conf/configure/service/nat/up-nat-policy/port-limits
                container port-limits {
                    description "Enter the port-limits context";

                    ///nokia-conf/configure/service/nat/up-nat-policy/port-limits/reserved
                    leaf reserved {
                        type uint16 {
                            range "1..65534";
                        }
                        description "Number of ports reserved for prioritized sessions";
                    }

                    ///nokia-conf/configure/service/nat/up-nat-policy/port-limits/watermarks
                    container watermarks {
                        presence "Enable the watermarks context";
                        description "Enable the watermarks context";

                        ///nokia-conf/configure/service/nat/up-nat-policy/port-limits/watermarks/high
                        leaf high {
                            type types-sros:percent;
                            mandatory true;
                            description "High watermark percentage";
                        }

                        ///nokia-conf/configure/service/nat/up-nat-policy/port-limits/watermarks/low
                        leaf low {
                            type types-sros:percent;
                            mandatory true;
                            description "Low watermark percentage";
                        }

                    } // container watermarks

                } // container port-limits

                ///nokia-conf/configure/service/nat/up-nat-policy/priority-sessions
                container priority-sessions {
                    description "Enter the priority-sessions context";

                    ///nokia-conf/configure/service/nat/up-nat-policy/priority-sessions/fc
                    container fc {
                        description "Enter the fc context";

                        ///nokia-conf/configure/service/nat/up-nat-policy/priority-sessions/fc/be
                        leaf be {
                            type boolean;
                            default "false";
                            description "Prioritize traffic from BE forwarding classes";
                        }

                        ///nokia-conf/configure/service/nat/up-nat-policy/priority-sessions/fc/l2
                        leaf l2 {
                            type boolean;
                            default "false";
                            description "Prioritize traffic from L2 forwarding classes";
                        }

                        ///nokia-conf/configure/service/nat/up-nat-policy/priority-sessions/fc/af
                        leaf af {
                            type boolean;
                            default "false";
                            description "Prioritize traffic from AF forwarding classes";
                        }

                        ///nokia-conf/configure/service/nat/up-nat-policy/priority-sessions/fc/l1
                        leaf l1 {
                            type boolean;
                            default "false";
                            description "Prioritize traffic from L1 forwarding classes";
                        }

                        ///nokia-conf/configure/service/nat/up-nat-policy/priority-sessions/fc/h2
                        leaf h2 {
                            type boolean;
                            default "false";
                            description "Prioritize traffic from H2 forwarding classes";
                        }

                        ///nokia-conf/configure/service/nat/up-nat-policy/priority-sessions/fc/ef
                        leaf ef {
                            type boolean;
                            default "false";
                            description "Prioritize traffic from EF forwarding classes";
                        }

                        ///nokia-conf/configure/service/nat/up-nat-policy/priority-sessions/fc/h1
                        leaf h1 {
                            type boolean;
                            default "false";
                            description "Prioritize traffic from H1 forwarding classes";
                        }

                        ///nokia-conf/configure/service/nat/up-nat-policy/priority-sessions/fc/nc
                        leaf nc {
                            type boolean;
                            default "false";
                            description "Prioritize traffic from NC forwarding classes";
                        }

                    } // container fc

                } // container priority-sessions

                ///nokia-conf/configure/service/nat/up-nat-policy/session-limits
                container session-limits {
                    description "Enter the session-limits context";

                    ///nokia-conf/configure/service/nat/up-nat-policy/session-limits/max
                    leaf max {
                        type uint16 {
                            range "1..65535";
                        }
                        default "65535";
                        description "Maximum number of sessions per subscriber";
                    }

                    ///nokia-conf/configure/service/nat/up-nat-policy/session-limits/reserved
                    leaf reserved {
                        type uint16 {
                            range "1..65534";
                        }
                        description "Number of sessions reserved for prioritized sessions";
                    }

                    ///nokia-conf/configure/service/nat/up-nat-policy/session-limits/watermarks
                    container watermarks {
                        presence "Enable the watermarks context";
                        description "Enable the watermarks context";

                        ///nokia-conf/configure/service/nat/up-nat-policy/session-limits/watermarks/high
                        leaf high {
                            type types-sros:percent;
                            mandatory true;
                            description "High watermark percentage";
                        }

                        ///nokia-conf/configure/service/nat/up-nat-policy/session-limits/watermarks/low
                        leaf low {
                            type types-sros:percent;
                            mandatory true;
                            description "Low watermark percentage";
                        }

                    } // container watermarks

                } // container session-limits

                ///nokia-conf/configure/service/nat/up-nat-policy/tcp
                container tcp {
                    description "Enter the tcp context";

                    ///nokia-conf/configure/service/nat/up-nat-policy/tcp/reset-unknown
                    leaf reset-unknown {
                        type boolean;
                        default "false";
                        description "Generate TCP reset for packets from unknown flows";
                    }

                    ///nokia-conf/configure/service/nat/up-nat-policy/tcp/mss-adjust
                    leaf mss-adjust {
                        type uint32 {
                            range "160..10240";
                        }
                        description "TCP MSS adjustment value";
                    }

                } // container tcp

                ///nokia-conf/configure/service/nat/up-nat-policy/timeouts
                container timeouts {
                    description "Enter the timeouts context";

                    ///nokia-conf/configure/service/nat/up-nat-policy/timeouts/icmp-query
                    leaf icmp-query {
                        type types-sros:time-duration {
                            range "60..240";
                        }
                        default "60";
                        description "Timeout applied to an ICMP Query session";
                    }

                    ///nokia-conf/configure/service/nat/up-nat-policy/timeouts/sip
                    leaf sip {
                        type types-sros:time-duration {
                            range "10..7200";
                        }
                        default "120";
                        description "SIP inactive media timeout";
                    }

                    ///nokia-conf/configure/service/nat/up-nat-policy/timeouts/subscriber-retention
                    leaf subscriber-retention {
                        type types-sros:time-duration {
                            range "0..1440";
                        }
                        units "minutes";
                        default "0";
                        description "IP address hold time after host and port blocks expire";
                    }

                    ///nokia-conf/configure/service/nat/up-nat-policy/timeouts/tcp
                    container tcp {
                        description "Enter the tcp context";

                        ///nokia-conf/configure/service/nat/up-nat-policy/timeouts/tcp/established
                        leaf established {
                            type types-sros:time-duration {
                                range "60..86400";
                            }
                            default "7440";
                            description "Idle timeout for TCP session in established state";
                        }

                        ///nokia-conf/configure/service/nat/up-nat-policy/timeouts/tcp/rst
                        leaf rst {
                            type types-sros:time-duration {
                                range "0..240";
                            }
                            default "0";
                            description "Suspend time for TCP connection ports closed by RST";
                        }

                        ///nokia-conf/configure/service/nat/up-nat-policy/timeouts/tcp/syn
                        leaf syn {
                            type types-sros:time-duration {
                                range "6..86400";
                            }
                            default "15";
                            description "TCP session timeout when synchronizing initial sequence";
                        }

                        ///nokia-conf/configure/service/nat/up-nat-policy/timeouts/tcp/time-wait
                        leaf time-wait {
                            type types-sros:time-duration {
                                range "0..240";
                            }
                            default "0";
                            description "Timeout applied to a TCP session in the time-wait state";
                        }

                        ///nokia-conf/configure/service/nat/up-nat-policy/timeouts/tcp/transitory
                        leaf transitory {
                            type types-sros:time-duration {
                                range "60..86400";
                            }
                            default "240";
                            description "Idle timeout for TCP session in transitory state";
                        }

                    } // container tcp

                    ///nokia-conf/configure/service/nat/up-nat-policy/timeouts/udp
                    container udp {
                        description "Enter the udp context";

                        ///nokia-conf/configure/service/nat/up-nat-policy/timeouts/udp/normal
                        leaf normal {
                            type types-sros:time-duration {
                                range "60..86400";
                            }
                            default "300";
                            description "UDP mapping timeout";
                        }

                        ///nokia-conf/configure/service/nat/up-nat-policy/timeouts/udp/dns
                        leaf dns {
                            type types-sros:time-duration {
                                range "15..86400";
                            }
                            default "15";
                            description "Timeout applied to UDP session with destination port 53";
                        }

                        ///nokia-conf/configure/service/nat/up-nat-policy/timeouts/udp/initial
                        leaf initial {
                            type types-sros:time-duration {
                                range "10..300";
                            }
                            default "15";
                            description "UDP mapping timeout applied to new sessions";
                        }

                    } // container udp

                } // container timeouts

                ///nokia-conf/configure/service/nat/up-nat-policy/udp
                container udp {
                    description "Enter the udp context";

                    ///nokia-conf/configure/service/nat/up-nat-policy/udp/inbound-refresh
                    leaf inbound-refresh {
                        type boolean;
                        default "false";
                        description "Extend UDP session timeout on inbound traffic";
                    }

                } // container udp

            } // list up-nat-policy

            ///nokia-conf/configure/service/nat/deterministic-script
            container deterministic-script {
                description "Enter the deterministic-script context";

                ///nokia-conf/configure/service/nat/deterministic-script/location
                leaf location {
                    type types-sros:ftp-tftp-url {
                        length "1..180";
                    }
                    description "Remote location where Python script is exported";
                }

            } // container deterministic-script

            ///nokia-conf/configure/service/nat/map-t
            container map-t {
                description "Enter the map-t context";

                ///nokia-conf/configure/service/nat/map-t/domain
                list domain {
                    key "name";
                    max-elements 63;
                    description "Enter the domain list instance";

                    ///nokia-conf/configure/service/nat/map-t/domain/name
                    leaf name {
                        type types-sros:named-item;
                        description "MAP domain name";
                    }

                    ///nokia-conf/configure/service/nat/map-t/domain/description
                    leaf description {
                        type types-sros:description;
                        description "Text description";
                    }

                    ///nokia-conf/configure/service/nat/map-t/domain/dmr-prefix
                    leaf dmr-prefix {
                        type types-sros:ipv6-prefix;
                        sros-ext:auto-restart-to-modify;
                        description "The Default Mapping Rule prefix";
                    }

                    ///nokia-conf/configure/service/nat/map-t/domain/mtu
                    leaf mtu {
                        type uint32 {
                            range "160..8686";
                        }
                        default "8686";
                        description "Configure the MTU";
                    }

                    ///nokia-conf/configure/service/nat/map-t/domain/admin-state
                    leaf admin-state {
                        type types-sros:admin-state;
                        default "disable";
                        description "Administrative state of the MAP domain";
                    }

                    ///nokia-conf/configure/service/nat/map-t/domain/tcp-mss-adjust
                    leaf tcp-mss-adjust {
                        type uint32 {
                            range "0 | 160..8626";
                        }
                        default "0";
                        description "The value to adjust the TCP Maximum Segment Size (MSS) option";
                    }

                    ///nokia-conf/configure/service/nat/map-t/domain/apply-groups
                    leaf-list apply-groups {
                        type leafref {
                            path "../../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        description "Apply a configuration group at this level";
                    }

                    ///nokia-conf/configure/service/nat/map-t/domain/apply-groups-exclude
                    leaf-list apply-groups-exclude {
                        type leafref {
                            path "../../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        description "Exclude a configuration group at this level";
                    }

                    ///nokia-conf/configure/service/nat/map-t/domain/ip-fragmentation
                    container ip-fragmentation {
                        description "Enter the ip-fragmentation context";

                        ///nokia-conf/configure/service/nat/map-t/domain/ip-fragmentation/v6-frag-header
                        leaf v6-frag-header {
                            type boolean;
                            default "false";
                            description "Enable insertion of fragmentation header in IPv6 packet";
                        }

                    } // container ip-fragmentation

                    ///nokia-conf/configure/service/nat/map-t/domain/mapping-rule
                    list mapping-rule {
                        key "rule-name";
                        max-elements 16383;
                        description "Enter the mapping-rule list instance";

                        ///nokia-conf/configure/service/nat/map-t/domain/mapping-rule/rule-name
                        leaf rule-name {
                            type types-sros:named-item;
                            description "The name that identifies this mapping rule";
                        }

                        ///nokia-conf/configure/service/nat/map-t/domain/mapping-rule/description
                        leaf description {
                            type types-sros:description;
                            description "Text description";
                        }

                        ///nokia-conf/configure/service/nat/map-t/domain/mapping-rule/ipv4-prefix
                        leaf ipv4-prefix {
                            type types-sros:ipv4-prefix;
                            sros-ext:auto-restart-to-modify;
                            description "The IPv4 prefix";
                        }

                        ///nokia-conf/configure/service/nat/map-t/domain/mapping-rule/ea-length
                        leaf ea-length {
                            type uint32 {
                                range "0..48";
                            }
                            sros-ext:auto-restart-to-modify;
                            default "0";
                            description "The length of the EA bits field in the End-user IPv6 prefix part of the IPv6 Map Address";
                        }

                        ///nokia-conf/configure/service/nat/map-t/domain/mapping-rule/psid-offset
                        leaf psid-offset {
                            type uint32 {
                                range "0..16";
                            }
                            sros-ext:auto-restart-to-modify;
                            default "6";
                            description "The offset of the Port Set ID (PSID) within a 16 bits wide port space";
                        }

                        ///nokia-conf/configure/service/nat/map-t/domain/mapping-rule/rule-prefix
                        leaf rule-prefix {
                            type types-sros:ipv6-prefix;
                            sros-ext:auto-restart-to-modify;
                            description "The IPv6 prefix";
                        }

                        ///nokia-conf/configure/service/nat/map-t/domain/mapping-rule/admin-state
                        leaf admin-state {
                            type types-sros:admin-state;
                            default "disable";
                            description "Administrative state of the MAP rule";
                        }

                        ///nokia-conf/configure/service/nat/map-t/domain/mapping-rule/apply-groups
                        leaf-list apply-groups {
                            type leafref {
                                path "../../../../../../groups/group/name";
                            }
                            max-elements 8;
                            ordered-by user;
                            sros-ext:auto-restart-to-modify;
                            description "Apply a configuration group at this level";
                        }

                        ///nokia-conf/configure/service/nat/map-t/domain/mapping-rule/apply-groups-exclude
                        leaf-list apply-groups-exclude {
                            type leafref {
                                path "../../../../../../groups/group/name";
                            }
                            max-elements 8;
                            ordered-by user;
                            sros-ext:auto-restart-to-modify;
                            description "Exclude a configuration group at this level";
                        }

                    } // list mapping-rule

                } // list domain

            } // container map-t

        } // container nat

    } // grouping conf-svc-nat

}
