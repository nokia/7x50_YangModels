submodule nokia-conf-routing-options {

    yang-version "1.1";

    belongs-to nokia-conf { prefix "conf"; }

    import nokia-sros-yang-extensions     { prefix "sros-ext"; }
    import nokia-types-sros               { prefix "types-sros"; }

    include nokia-conf-groups;

    sros-ext:sros-major-release "rel23";
    organization "Nokia";
    contact
        "Nokia SR OS Support
         Web: <http://www.nokia.com>";
    description
        "Nokia YANG Data model to configure routing options attributes on SR OS based routers.

         Copyright 2016 Nokia. All rights reserved. Reproduction of this document
         is authorized on the condition that the foregoing copyright notice is included.

         This nokia-conf-routing-options YANG module embodies Nokia's proprietary
         intellectual property. Nokia retains all title and ownership in the
         specification, including any revisions.

         Nokia grants all interested parties a non-exclusive license to use
         and distribute an unmodified copy of this specification in connection with
         management of Nokia products, and without fee, provided this
         copyright notice and license appear on all copies.

         This specification is supplied `as is', and Nokia makes no warranty,
         either express or implied, as to the use, operation, condition, or performance
         of the specification.";
    revision "2022-12-16";

    grouping conf-routing-options {
        ///nokia-conf/configure/routing-options
        container routing-options {
            description "Enable the routing-options context";

            ///nokia-conf/configure/routing-options/ip-fast-reroute
            leaf ip-fast-reroute {
                type boolean;
                default "false";
                description "Enable IP fast reroute capability";
            }

            ///nokia-conf/configure/routing-options/apply-groups
            leaf-list apply-groups {
                type leafref {
                    path "../../groups/group/name";
                }
                max-elements 8;
                ordered-by user;
                description "Apply a configuration group at this level";
            }

            ///nokia-conf/configure/routing-options/apply-groups-exclude
            leaf-list apply-groups-exclude {
                type leafref {
                    path "../../groups/group/name";
                }
                max-elements 8;
                ordered-by user;
                description "Exclude a configuration group at this level";
            }

            ///nokia-conf/configure/routing-options/flexible-algorithm-definitions
            container flexible-algorithm-definitions {
                description "Enter the flexible-algorithm-definitions context";

                ///nokia-conf/configure/routing-options/flexible-algorithm-definitions/apply-groups
                leaf-list apply-groups {
                    type leafref {
                        path "../../../groups/group/name";
                    }
                    max-elements 8;
                    ordered-by user;
                    description "Apply a configuration group at this level";
                }

                ///nokia-conf/configure/routing-options/flexible-algorithm-definitions/apply-groups-exclude
                leaf-list apply-groups-exclude {
                    type leafref {
                        path "../../../groups/group/name";
                    }
                    max-elements 8;
                    ordered-by user;
                    description "Exclude a configuration group at this level";
                }

                ///nokia-conf/configure/routing-options/flexible-algorithm-definitions/flex-algo
                list flex-algo {
                    key "flex-algo-name";
                    max-elements 256;
                    description "Enter the flex-algo list instance";

                    ///nokia-conf/configure/routing-options/flexible-algorithm-definitions/flex-algo/flex-algo-name
                    leaf flex-algo-name {
                        type types-sros:named-item;
                        description "Flexible Algorithm Definition (FAD) name";
                    }

                    ///nokia-conf/configure/routing-options/flexible-algorithm-definitions/flex-algo/admin-state
                    leaf admin-state {
                        type types-sros:admin-state;
                        default "disable";
                        description "Administrative state of the FAD";
                    }

                    ///nokia-conf/configure/routing-options/flexible-algorithm-definitions/flex-algo/description
                    leaf description {
                        type types-sros:description;
                        description "Text description";
                    }

                    ///nokia-conf/configure/routing-options/flexible-algorithm-definitions/flex-algo/flags-tlv
                    leaf flags-tlv {
                        type boolean;
                        sros-ext:auto-restart-to-modify;
                        default "true";
                        description "Advertise the FAD Flags TLV";
                    }

                    ///nokia-conf/configure/routing-options/flexible-algorithm-definitions/flex-algo/metric-type
                    leaf metric-type {
                        type enumeration {
                            enum igp                            { value 0; }
                            enum delay                          { value 1; }
                            enum te-metric                      { value 2; }
                        }
                        sros-ext:auto-restart-to-modify;
                        default "igp";
                        description "FAD metric type";
                    }

                    ///nokia-conf/configure/routing-options/flexible-algorithm-definitions/flex-algo/priority
                    leaf priority {
                        type int32 {
                            range "0..255";
                        }
                        sros-ext:auto-restart-to-modify;
                        default "100";
                        description "FAD priority";
                    }

                    ///nokia-conf/configure/routing-options/flexible-algorithm-definitions/flex-algo/apply-groups
                    leaf-list apply-groups {
                        type leafref {
                            path "../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        sros-ext:auto-restart-to-modify;
                        description "Apply a configuration group at this level";
                    }

                    ///nokia-conf/configure/routing-options/flexible-algorithm-definitions/flex-algo/apply-groups-exclude
                    leaf-list apply-groups-exclude {
                        type leafref {
                            path "../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        sros-ext:auto-restart-to-modify;
                        description "Exclude a configuration group at this level";
                    }

                    ///nokia-conf/configure/routing-options/flexible-algorithm-definitions/flex-algo/exclude
                    container exclude {
                        sros-ext:auto-restart-to-modify;
                        description "Enter the exclude context";

                        ///nokia-conf/configure/routing-options/flexible-algorithm-definitions/flex-algo/exclude/admin-group
                        list admin-group {
                            key "group-name";
                            description "Add a list entry for admin-group";

                            ///nokia-conf/configure/routing-options/flexible-algorithm-definitions/flex-algo/exclude/admin-group/group-name
                            leaf group-name {
                                type leafref {
                                    path "../../../../../if-attribute/admin-group/group-name";
                                }
                                description "Administrative group name";
                            }

                        } // list admin-group

                    } // container exclude

                    ///nokia-conf/configure/routing-options/flexible-algorithm-definitions/flex-algo/include-any
                    container include-any {
                        sros-ext:auto-restart-to-modify;
                        description "Enter the include-any context";

                        ///nokia-conf/configure/routing-options/flexible-algorithm-definitions/flex-algo/include-any/admin-group
                        list admin-group {
                            key "group-name";
                            description "Add a list entry for admin-group";

                            ///nokia-conf/configure/routing-options/flexible-algorithm-definitions/flex-algo/include-any/admin-group/group-name
                            leaf group-name {
                                type leafref {
                                    path "../../../../../if-attribute/admin-group/group-name";
                                }
                                description "Administrative group name";
                            }

                        } // list admin-group

                    } // container include-any

                    ///nokia-conf/configure/routing-options/flexible-algorithm-definitions/flex-algo/include-all
                    container include-all {
                        sros-ext:auto-restart-to-modify;
                        description "Enter the include-all context";

                        ///nokia-conf/configure/routing-options/flexible-algorithm-definitions/flex-algo/include-all/admin-group
                        list admin-group {
                            key "group-name";
                            description "Add a list entry for admin-group";

                            ///nokia-conf/configure/routing-options/flexible-algorithm-definitions/flex-algo/include-all/admin-group/group-name
                            leaf group-name {
                                type leafref {
                                    path "../../../../../if-attribute/admin-group/group-name";
                                }
                                description "Administrative group name";
                            }

                        } // list admin-group

                    } // container include-all


                } // list flex-algo

            } // container flexible-algorithm-definitions

            ///nokia-conf/configure/routing-options/if-attribute
            container if-attribute {
                description "Enter the if-attribute context";

                ///nokia-conf/configure/routing-options/if-attribute/apply-groups
                leaf-list apply-groups {
                    type leafref {
                        path "../../../groups/group/name";
                    }
                    max-elements 8;
                    ordered-by user;
                    description "Apply a configuration group at this level";
                }

                ///nokia-conf/configure/routing-options/if-attribute/apply-groups-exclude
                leaf-list apply-groups-exclude {
                    type leafref {
                        path "../../../groups/group/name";
                    }
                    max-elements 8;
                    ordered-by user;
                    description "Exclude a configuration group at this level";
                }

                ///nokia-conf/configure/routing-options/if-attribute/admin-group
                list admin-group {
                    key "group-name";
                    max-elements 256;
                    description "Enter the admin-group list instance";

                    ///nokia-conf/configure/routing-options/if-attribute/admin-group/group-name
                    leaf group-name {
                        type types-sros:named-item;
                        description "Interface group name";
                    }

                    ///nokia-conf/configure/routing-options/if-attribute/admin-group/value
                    leaf value {
                        type uint32 {
                            range "0..255";
                        }
                        sros-ext:immutable;
                        mandatory true;
                        description "Integer value associated with the group";
                    }

                    ///nokia-conf/configure/routing-options/if-attribute/admin-group/apply-groups
                    leaf-list apply-groups {
                        type leafref {
                            path "../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        description "Apply a configuration group at this level";
                    }

                    ///nokia-conf/configure/routing-options/if-attribute/admin-group/apply-groups-exclude
                    leaf-list apply-groups-exclude {
                        type leafref {
                            path "../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        description "Exclude a configuration group at this level";
                    }

                } // list admin-group

                ///nokia-conf/configure/routing-options/if-attribute/srlg-group
                list srlg-group {
                    key "name";
                    max-elements 1024;
                    description "Enter the srlg-group list instance";

                    ///nokia-conf/configure/routing-options/if-attribute/srlg-group/name
                    leaf name {
                        type types-sros:named-item;
                        description "SRLG name";
                    }

                    ///nokia-conf/configure/routing-options/if-attribute/srlg-group/value
                    leaf value {
                        type int64 {
                            range "0..4294967295";
                        }
                        sros-ext:immutable;
                        mandatory true;
                        description "Integer value associated with the SRLG";
                    }

                    ///nokia-conf/configure/routing-options/if-attribute/srlg-group/penalty-weight
                    leaf penalty-weight {
                        type uint32 {
                            range "0..65535";
                        }
                        default "0";
                        description "Integer value of the penalty weight assigned to SRLG";
                    }

                    ///nokia-conf/configure/routing-options/if-attribute/srlg-group/apply-groups
                    leaf-list apply-groups {
                        type leafref {
                            path "../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        description "Apply a configuration group at this level";
                    }

                    ///nokia-conf/configure/routing-options/if-attribute/srlg-group/apply-groups-exclude
                    leaf-list apply-groups-exclude {
                        type leafref {
                            path "../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        description "Exclude a configuration group at this level";
                    }

                } // list srlg-group

            } // container if-attribute

            ///nokia-conf/configure/routing-options/policy-accounting
            container policy-accounting {
                description "Enable the policy-accounting context";

                ///nokia-conf/configure/routing-options/policy-accounting/apply-groups
                leaf-list apply-groups {
                    type leafref {
                        path "../../../groups/group/name";
                    }
                    max-elements 8;
                    ordered-by user;
                    description "Apply a configuration group at this level";
                }

                ///nokia-conf/configure/routing-options/policy-accounting/apply-groups-exclude
                leaf-list apply-groups-exclude {
                    type leafref {
                        path "../../../groups/group/name";
                    }
                    max-elements 8;
                    ordered-by user;
                    description "Exclude a configuration group at this level";
                }

                ///nokia-conf/configure/routing-options/policy-accounting/policy-acct-template
                list policy-acct-template {
                    key "name";
                    max-elements 1024;
                    description "Enter the policy-acct-template list instance";

                    ///nokia-conf/configure/routing-options/policy-accounting/policy-acct-template/name
                    leaf name {
                        type types-sros:named-item;
                        description "Policy accounting template name";
                    }

                    ///nokia-conf/configure/routing-options/policy-accounting/policy-acct-template/apply-groups
                    leaf-list apply-groups {
                        type leafref {
                            path "../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        description "Apply a configuration group at this level";
                    }

                    ///nokia-conf/configure/routing-options/policy-accounting/policy-acct-template/apply-groups-exclude
                    leaf-list apply-groups-exclude {
                        type leafref {
                            path "../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        description "Exclude a configuration group at this level";
                    }

                    ///nokia-conf/configure/routing-options/policy-accounting/policy-acct-template/source-class
                    list source-class {
                        key "index";
                        max-elements 255;
                        description "Add a list entry for source-class";

                        ///nokia-conf/configure/routing-options/policy-accounting/policy-acct-template/source-class/index
                        leaf index {
                            type types-sros:class-index;
                            description "Source-class index";
                        }

                    } // list source-class

                    ///nokia-conf/configure/routing-options/policy-accounting/policy-acct-template/dest-class
                    list dest-class {
                        status obsolete;
                        key "index";
                        max-elements 255;
                        description "Enter the dest-class list instance";

                        ///nokia-conf/configure/routing-options/policy-accounting/policy-acct-template/dest-class/index
                        leaf index {
                            status obsolete;
                            type types-sros:class-index;
                            description "Dest-class index to use with the template";
                        }

                        ///nokia-conf/configure/routing-options/policy-accounting/policy-acct-template/dest-class/policer
                        leaf policer {
                            status obsolete;
                            type leafref {
                                path "../../policer/policer-id";
                            }
                            description "Policer index to use with the template";
                        }

                        ///nokia-conf/configure/routing-options/policy-accounting/policy-acct-template/dest-class/apply-groups
                        leaf-list apply-groups {
                            status obsolete;
                            type leafref {
                                path "../../../../../groups/group/name";
                            }
                            max-elements 8;
                            ordered-by user;
                            description "Apply a configuration group at this level";
                        }

                        ///nokia-conf/configure/routing-options/policy-accounting/policy-acct-template/dest-class/apply-groups-exclude
                        leaf-list apply-groups-exclude {
                            status obsolete;
                            type leafref {
                                path "../../../../../groups/group/name";
                            }
                            max-elements 8;
                            ordered-by user;
                            description "Exclude a configuration group at this level";
                        }

                    } // list dest-class

                    ///nokia-conf/configure/routing-options/policy-accounting/policy-acct-template/destination-class
                    list destination-class {
                        key "index";
                        max-elements 255;
                        description "Enter the destination-class list instance";

                        ///nokia-conf/configure/routing-options/policy-accounting/policy-acct-template/destination-class/index
                        leaf index {
                            type types-sros:class-index;
                            description "Destination class index";
                        }

                        ///nokia-conf/configure/routing-options/policy-accounting/policy-acct-template/destination-class/policer
                        leaf policer {
                            type leafref {
                                path "../../policer/policer-id";
                            }
                            description "Policer ID";
                        }

                        ///nokia-conf/configure/routing-options/policy-accounting/policy-acct-template/destination-class/apply-groups
                        leaf-list apply-groups {
                            type leafref {
                                path "../../../../../groups/group/name";
                            }
                            max-elements 8;
                            ordered-by user;
                            description "Apply a configuration group at this level";
                        }

                        ///nokia-conf/configure/routing-options/policy-accounting/policy-acct-template/destination-class/apply-groups-exclude
                        leaf-list apply-groups-exclude {
                            type leafref {
                                path "../../../../../groups/group/name";
                            }
                            max-elements 8;
                            ordered-by user;
                            description "Exclude a configuration group at this level";
                        }

                    } // list destination-class

                    ///nokia-conf/configure/routing-options/policy-accounting/policy-acct-template/policer
                    list policer {
                        key "policer-id";
                        description "Enter the policer list instance";

                        ///nokia-conf/configure/routing-options/policy-accounting/policy-acct-template/policer/policer-id
                        leaf policer-id {
                            type uint32 {
                                range "1..63";
                            }
                            description "Policer ID";
                        }

                        ///nokia-conf/configure/routing-options/policy-accounting/policy-acct-template/policer/peak-rate
                        leaf peak-rate {
                            type union {
                                type int64 {
                                    range "1..6400000000";
                                }
                                type enumeration {
                                    enum max                            { value -1; }
                                }
                            }
                            default "max";
                            description "Peak rate of the policy accounting policer";
                        }

                        ///nokia-conf/configure/routing-options/policy-accounting/policy-acct-template/policer/max-burst-size
                        leaf max-burst-size {
                            type union {
                                type int32 {
                                    range "0..16777216";
                                }
                                type enumeration {
                                    enum auto                           { value -1; }
                                }
                            }
                            units "bytes";
                            default "auto";
                            description "Exceed threshold to drop packets from PIR leaky bucket";
                        }

                        ///nokia-conf/configure/routing-options/policy-accounting/policy-acct-template/policer/apply-groups
                        leaf-list apply-groups {
                            type leafref {
                                path "../../../../../groups/group/name";
                            }
                            max-elements 8;
                            ordered-by user;
                            description "Apply a configuration group at this level";
                        }

                        ///nokia-conf/configure/routing-options/policy-accounting/policy-acct-template/policer/apply-groups-exclude
                        leaf-list apply-groups-exclude {
                            type leafref {
                                path "../../../../../groups/group/name";
                            }
                            max-elements 8;
                            ordered-by user;
                            description "Exclude a configuration group at this level";
                        }

                    } // list policer

                } // list policy-acct-template

            } // container policy-accounting

            ///nokia-conf/configure/routing-options/admin-tags
            container admin-tags {
                description "Enter the admin-tags context";

                ///nokia-conf/configure/routing-options/admin-tags/admin-tag
                list admin-tag {
                    key "tag";
                    max-elements 256;
                    description "Add a list entry for admin-tag";

                    ///nokia-conf/configure/routing-options/admin-tags/admin-tag/tag
                    leaf tag {
                        type string {
                            length "1..32";
                        }
                        description "Administrative tag value";
                    }

                } // list admin-tag

                ///nokia-conf/configure/routing-options/admin-tags/route-admin-tag-policy
                list route-admin-tag-policy {
                    key "policy-name";
                    max-elements 2048;
                    description "Enter the route-admin-tag-policy list instance";

                    ///nokia-conf/configure/routing-options/admin-tags/route-admin-tag-policy/policy-name
                    leaf policy-name {
                        type string {
                            length "1..64";
                        }
                        description "Name of the route admin tag policy";
                    }

                    ///nokia-conf/configure/routing-options/admin-tags/route-admin-tag-policy/apply-groups
                    leaf-list apply-groups {
                        type leafref {
                            path "../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        description "Apply a configuration group at this level";
                    }

                    ///nokia-conf/configure/routing-options/admin-tags/route-admin-tag-policy/apply-groups-exclude
                    leaf-list apply-groups-exclude {
                        type leafref {
                            path "../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        description "Exclude a configuration group at this level";
                    }

                    ///nokia-conf/configure/routing-options/admin-tags/route-admin-tag-policy/exclude
                    list exclude {
                        key "tag";
                        max-elements 8;
                        description "Add a list entry for exclude";

                        ///nokia-conf/configure/routing-options/admin-tags/route-admin-tag-policy/exclude/tag
                        leaf tag {
                            type leafref {
                                path "../../../admin-tag/tag";
                            }
                            description "Administrative tag value";
                        }

                    } // list exclude

                    ///nokia-conf/configure/routing-options/admin-tags/route-admin-tag-policy/include
                    list include {
                        key "tag";
                        max-elements 8;
                        description "Add a list entry for include";

                        ///nokia-conf/configure/routing-options/admin-tags/route-admin-tag-policy/include/tag
                        leaf tag {
                            type leafref {
                                path "../../../admin-tag/tag";
                            }
                            description "Administrative tag value";
                        }

                    } // list include

                } // list route-admin-tag-policy

            } // container admin-tags

            ///nokia-conf/configure/routing-options/route-next-hop-policy
            container route-next-hop-policy {
                description "Enter the route-next-hop-policy context";

                ///nokia-conf/configure/routing-options/route-next-hop-policy/apply-groups
                leaf-list apply-groups {
                    type leafref {
                        path "../../../groups/group/name";
                    }
                    max-elements 8;
                    ordered-by user;
                    description "Apply a configuration group at this level";
                }

                ///nokia-conf/configure/routing-options/route-next-hop-policy/apply-groups-exclude
                leaf-list apply-groups-exclude {
                    type leafref {
                        path "../../../groups/group/name";
                    }
                    max-elements 8;
                    ordered-by user;
                    description "Exclude a configuration group at this level";
                }

                ///nokia-conf/configure/routing-options/route-next-hop-policy/template
                list template {
                    key "template-name";
                    description "Enter the template list instance";

                    ///nokia-conf/configure/routing-options/route-next-hop-policy/template/template-name
                    leaf template-name {
                        type types-sros:named-item;
                        description "Template name";
                    }

                    ///nokia-conf/configure/routing-options/route-next-hop-policy/template/description
                    leaf description {
                        type types-sros:description;
                        description "Text description";
                    }

                    ///nokia-conf/configure/routing-options/route-next-hop-policy/template/srlg
                    leaf srlg {
                        type boolean;
                        default "false";
                        description "Select next hops from the SRLG";
                    }

                    ///nokia-conf/configure/routing-options/route-next-hop-policy/template/nh-type
                    leaf nh-type {
                        type enumeration {
                            enum ip                             { value 1; }
                            enum tunnel                         { value 2; }
                        }
                        default "ip";
                        description "Preferred next hop";
                    }

                    ///nokia-conf/configure/routing-options/route-next-hop-policy/template/protection-type
                    leaf protection-type {
                        type enumeration {
                            enum link                           { value 1; }
                            enum node                           { value 2; }
                        }
                        default "node";
                        description "Protection type used";
                    }

                    ///nokia-conf/configure/routing-options/route-next-hop-policy/template/apply-groups
                    leaf-list apply-groups {
                        type leafref {
                            path "../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        description "Apply a configuration group at this level";
                    }

                    ///nokia-conf/configure/routing-options/route-next-hop-policy/template/apply-groups-exclude
                    leaf-list apply-groups-exclude {
                        type leafref {
                            path "../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        description "Exclude a configuration group at this level";
                    }

                    ///nokia-conf/configure/routing-options/route-next-hop-policy/template/exclude-group
                    list exclude-group {
                        key "group-name";
                        max-elements 32;
                        description "Add a list entry for exclude-group";

                        ///nokia-conf/configure/routing-options/route-next-hop-policy/template/exclude-group/group-name
                        leaf group-name {
                            type leafref {
                                path "../../../../if-attribute/admin-group/group-name";
                            }
                            description "Administrative group name";
                        }

                    } // list exclude-group

                    ///nokia-conf/configure/routing-options/route-next-hop-policy/template/include-group
                    list include-group {
                        key "group-name";
                        max-elements 32;
                        description "Enter the include-group list instance";

                        ///nokia-conf/configure/routing-options/route-next-hop-policy/template/include-group/group-name
                        leaf group-name {
                            type leafref {
                                path "../../../../if-attribute/admin-group/group-name";
                            }
                            description "Administrative group name";
                        }

                        ///nokia-conf/configure/routing-options/route-next-hop-policy/template/include-group/preference
                        leaf preference {
                            type int32 {
                                range "1..255";
                            }
                            default "255";
                            description "Preference number for configured admin-group.";
                        }

                        ///nokia-conf/configure/routing-options/route-next-hop-policy/template/include-group/apply-groups
                        leaf-list apply-groups {
                            type leafref {
                                path "../../../../../groups/group/name";
                            }
                            max-elements 8;
                            ordered-by user;
                            description "Apply a configuration group at this level";
                        }

                        ///nokia-conf/configure/routing-options/route-next-hop-policy/template/include-group/apply-groups-exclude
                        leaf-list apply-groups-exclude {
                            type leafref {
                                path "../../../../../groups/group/name";
                            }
                            max-elements 8;
                            ordered-by user;
                            description "Exclude a configuration group at this level";
                        }

                    } // list include-group

                } // list template

            } // container route-next-hop-policy

        } // container routing-options

    } // grouping conf-routing-options

}
