submodule nokia-conf-router-pim {

    yang-version "1.1";

    belongs-to nokia-conf { prefix "conf"; }

    import nokia-sros-yang-extensions     { prefix "sros-ext"; }
    import nokia-types-mcast-cac          { prefix "types-mcast-cac"; }
    import nokia-types-sros               { prefix "types-sros"; }

    include nokia-conf-groups;
    include nokia-conf-mcast-cac;
    include nokia-conf-policy-options;
    include nokia-conf-service;

    sros-ext:sros-major-release "rel23";
    organization "Nokia";
    contact
        "Nokia SR OS Support
         Web: <http://www.nokia.com>";
    description
        "Nokia YANG Data model to configure Base router PIM protocol on SR OS based routers.

         Copyright 2016 Nokia. All rights reserved. Reproduction of this document
         is authorized on the condition that the foregoing copyright notice is included.

         This nokia-conf-router-pim YANG module embodies Nokia's proprietary
         intellectual property. Nokia retains all title and ownership in the
         specification, including any revisions.

         Nokia grants all interested parties a non-exclusive license to use
         and distribute an unmodified copy of this specification in connection with
         management of Nokia products, and without fee, provided this
         copyright notice and license appear on all copies.

         This specification is supplied `as is', and Nokia makes no warranty,
         either express or implied, as to the use, operation, condition, or performance
         of the specification.";
    revision "2022-11-08";

    grouping conf-router-pim {
        ///nokia-conf/configure/router/pim
        container pim {
            presence "Enable the pim context";
            description "Enable the pim context";

            ///nokia-conf/configure/router/pim/admin-state
            leaf admin-state {
                type types-sros:admin-state;
                default "enable";
                description "Administrative state of PIM";
            }

            ///nokia-conf/configure/router/pim/apply-to
            leaf apply-to {
                type enumeration {
                    enum ies                            { value 1; }
                    enum non-ies                        { value 2; }
                    enum all                            { value 3; }
                    enum none                           { value 4; }
                }
                default "none";
                description "IES and non-IES interfaces to create in PIM";
            }

            ///nokia-conf/configure/router/pim/mdt-spt
            leaf mdt-spt {
                type boolean;
                default "false";
                description "Use SPT switchover for default MDT";
            }

            ///nokia-conf/configure/router/pim/lag-usage-optimization
            leaf lag-usage-optimization {
                type boolean;
                default "false";
                description "Optimize LAG usage";
            }

            ///nokia-conf/configure/router/pim/mc-ecmp-balance
            leaf mc-ecmp-balance {
                type boolean;
                default "true";
                description "Enable multicast balancing of traffic over ECMP links";
            }

            ///nokia-conf/configure/router/pim/mc-ecmp-balance-hold
            leaf mc-ecmp-balance-hold {
                type uint32 {
                    range "2..600";
                }
                units "minutes";
                description "Hold time for multicast balancing over ECMP links";
            }

            ///nokia-conf/configure/router/pim/non-dr-attract-traffic
            leaf non-dr-attract-traffic {
                type boolean;
                default "false";
                description "Attract traffic when the router is not the designated one";
            }

            ///nokia-conf/configure/router/pim/pim-ssm-scaling
            leaf pim-ssm-scaling {
                type boolean;
                sros-ext:auto-restart-to-modify;
                default "false";
                description "Enable PIM-SSM scaling";
            }

            ///nokia-conf/configure/router/pim/apply-groups
            leaf-list apply-groups {
                type leafref {
                    path "../../../groups/group/name";
                }
                max-elements 8;
                ordered-by user;
                description "Apply a configuration group at this level";
            }

            ///nokia-conf/configure/router/pim/apply-groups-exclude
            leaf-list apply-groups-exclude {
                type leafref {
                    path "../../../groups/group/name";
                }
                max-elements 8;
                ordered-by user;
                description "Exclude a configuration group at this level";
            }

            ///nokia-conf/configure/router/pim/ipv4
            container ipv4 {
                description "Enter the ipv4 context";

                ///nokia-conf/configure/router/pim/ipv4/ssm-assert-compatible-mode
                leaf ssm-assert-compatible-mode {
                    type boolean;
                    default "false";
                    description "Enable SSM assert compatible mode";
                }

                ///nokia-conf/configure/router/pim/ipv4/admin-state
                leaf admin-state {
                    type types-sros:admin-state;
                    default "enable";
                    description "Administrative state of PIM operation for IPv4";
                }

                ///nokia-conf/configure/router/pim/ipv4/multicast-fast-failover
                leaf multicast-fast-failover {
                    type boolean;
                    default "false";
                    description "Use Multicast-Only Fast Reroute (MoFRR) functionality";
                }

                ///nokia-conf/configure/router/pim/ipv4/rpf-table
                leaf rpf-table {
                    type enumeration {
                        enum rtable-m                       { value 0; }
                        enum rtable-u                       { value 1; }
                        enum both                           { value 2; }
                    }
                    default "rtable-u";
                    description "Route tables for RPF lookup";
                }

                ///nokia-conf/configure/router/pim/ipv4/ssm-default-range
                leaf ssm-default-range {
                    type boolean;
                    default "true";
                    description "SSM default range";
                }

                ///nokia-conf/configure/router/pim/ipv4/gtm
                container gtm {
                    description "Enter the gtm context";

                    ///nokia-conf/configure/router/pim/ipv4/gtm/auto-discovery
                    leaf auto-discovery {
                        type enumeration {
                            enum bgp                            { value 1; }
                        }
                        description "Method for multicast VPN membership auto-discovery";
                    }

                } // container gtm

                ///nokia-conf/configure/router/pim/ipv4/source-address
                container source-address {
                    description "Enter the source-address context";

                    ///nokia-conf/configure/router/pim/ipv4/source-address/register-message
                    leaf register-message {
                        type types-sros:ipv4-unicast-address;
                        description "Source IPv4 address for PIM register messages";
                    }

                } // container source-address

            } // container ipv4

            ///nokia-conf/configure/router/pim/ipv6
            container ipv6 {
                description "Enter the ipv6 context";

                ///nokia-conf/configure/router/pim/ipv6/admin-state
                leaf admin-state {
                    type types-sros:admin-state;
                    default "disable";
                    description "Administrative state of PIM operation for IPv6";
                }

                ///nokia-conf/configure/router/pim/ipv6/multicast-fast-failover
                leaf multicast-fast-failover {
                    type boolean;
                    default "false";
                    description "Use Multicast-Only Fast Reroute (MoFRR) functionality";
                }

                ///nokia-conf/configure/router/pim/ipv6/rpf-table
                leaf rpf-table {
                    type enumeration {
                        enum rtable-m                       { value 0; }
                        enum rtable-u                       { value 1; }
                        enum both                           { value 2; }
                    }
                    default "rtable-u";
                    description "Route tables for RPF lookup";
                }

                ///nokia-conf/configure/router/pim/ipv6/ssm-default-range
                leaf ssm-default-range {
                    type boolean;
                    default "true";
                    description "SSM default range";
                }

                ///nokia-conf/configure/router/pim/ipv6/source-address
                container source-address {
                    description "Enter the source-address context";

                    ///nokia-conf/configure/router/pim/ipv6/source-address/register-message
                    leaf register-message {
                        type types-sros:ipv6-unicast-address;
                        description "Source IPv6 address for PIM register messages";
                    }

                } // container source-address

            } // container ipv6

            ///nokia-conf/configure/router/pim/mc-ecmp-hashing
            container mc-ecmp-hashing {
                presence "Enable the mc-ecmp-hashing context";
                description "Enable the mc-ecmp-hashing context";

                ///nokia-conf/configure/router/pim/mc-ecmp-hashing/rebalance
                leaf rebalance {
                    type boolean;
                    default "false";
                    description "Rebalance flows to newly added links immediately instead of waiting until they are pruned";
                }

            } // container mc-ecmp-hashing

            ///nokia-conf/configure/router/pim/import
            container import {
                description "Enter the import context";

                ///nokia-conf/configure/router/pim/import/join-policy
                leaf-list join-policy {
                    type leafref {
                        path "../../../../policy-options/policy-statement/name";
                    }
                    max-elements 5;
                    ordered-by user;
                    description "Character limit for policy name";
                }

                ///nokia-conf/configure/router/pim/import/register-policy
                leaf-list register-policy {
                    type leafref {
                        path "../../../../policy-options/policy-statement/name";
                    }
                    max-elements 5;
                    ordered-by user;
                    description "Character limit for policy name";
                }

            } // container import

            ///nokia-conf/configure/router/pim/interface
            list interface {
                key "interface-name";
                description "Enter the interface list instance";

                ///nokia-conf/configure/router/pim/interface/interface-name
                leaf interface-name {
                    type types-sros:interface-name;
                    description "Router interface name";
                }

                ///nokia-conf/configure/router/pim/interface/admin-state
                leaf admin-state {
                    type types-sros:admin-state;
                    default "enable";
                    description "Administrative state of the PIM interface";
                }

                ///nokia-conf/configure/router/pim/interface/assert-period
                leaf assert-period {
                    type int32 {
                        range "1..300";
                    }
                    default "60";
                    description "Time for periodic refreshes of PIM Assert messages on an interface";
                }

                ///nokia-conf/configure/router/pim/interface/hello-interval
                leaf hello-interval {
                    type int32 {
                        range "0..255";
                    }
                    default "30";
                    description "Frequency at which PIM Hello messages are sent over this interface";
                }

                ///nokia-conf/configure/router/pim/interface/hello-multiplier
                leaf hello-multiplier {
                    type uint32 {
                        range "20..100";
                    }
                    default "35";
                    description "Multiplier to determine the hold time for PIM neighbor";
                }

                ///nokia-conf/configure/router/pim/interface/instant-prune-echo
                leaf instant-prune-echo {
                    type boolean;
                    default "false";
                    description "Allow PIM to send an instant prune echo when router starts the prune pending timer for PIM interface";
                }

                ///nokia-conf/configure/router/pim/interface/max-groups
                leaf max-groups {
                    type uint32 {
                        range "0|1..16000";
                    }
                    default "0";
                    description "Maximum number of groups for the interface";
                }

                ///nokia-conf/configure/router/pim/interface/priority
                leaf priority {
                    type uint32 {
                        range "1..max";
                    }
                    default "1";
                    description "DR election priority for this interface";
                }

                ///nokia-conf/configure/router/pim/interface/three-way-hello
                leaf three-way-hello {
                    type boolean;
                    default "false";
                    description "Allow three-way hello compatibility mode";
                }

                ///nokia-conf/configure/router/pim/interface/tracking-support
                leaf tracking-support {
                    type boolean;
                    default "false";
                    description "Allow upstream routers to explicitly track join membership";
                }

                ///nokia-conf/configure/router/pim/interface/bsm-check-rtr-alert
                leaf bsm-check-rtr-alert {
                    type boolean;
                    default "false";
                    description "Check router alert option in bootstrap messages received";
                }

                ///nokia-conf/configure/router/pim/interface/improved-assert
                leaf improved-assert {
                    type boolean;
                    default "true";
                    description "Allow improved assert processing on interface";
                }

                ///nokia-conf/configure/router/pim/interface/multicast-senders
                leaf multicast-senders {
                    type enumeration {
                        enum auto                           { value 0; }
                        enum always                         { value 1; }
                        enum never                          { value 2; }
                    }
                    default "auto";
                    description "Subnet matching for the incoming data packets";
                }

                ///nokia-conf/configure/router/pim/interface/apply-groups
                leaf-list apply-groups {
                    type leafref {
                        path "../../../../groups/group/name";
                    }
                    max-elements 8;
                    ordered-by user;
                    description "Apply a configuration group at this level";
                }

                ///nokia-conf/configure/router/pim/interface/apply-groups-exclude
                leaf-list apply-groups-exclude {
                    type leafref {
                        path "../../../../groups/group/name";
                    }
                    max-elements 8;
                    ordered-by user;
                    description "Exclude a configuration group at this level";
                }

                ///nokia-conf/configure/router/pim/interface/p2mp-ldp-tree-join
                container p2mp-ldp-tree-join {
                    description "Enter the p2mp-ldp-tree-join context";

                    ///nokia-conf/configure/router/pim/interface/p2mp-ldp-tree-join/ipv4
                    leaf ipv4 {
                        type boolean;
                        default "false";
                        description "Allow dynamic mLDP in-band signaling for IPv4 PIM joins";
                    }

                    ///nokia-conf/configure/router/pim/interface/p2mp-ldp-tree-join/ipv6
                    leaf ipv6 {
                        type boolean;
                        default "false";
                        description "Allow dynamic mLDP in-band signaling for IPv6 PIM joins";
                    }

                } // container p2mp-ldp-tree-join

                ///nokia-conf/configure/router/pim/interface/bfd-liveness
                container bfd-liveness {
                    description "Enter the bfd-liveness context";

                    ///nokia-conf/configure/router/pim/interface/bfd-liveness/ipv4
                    leaf ipv4 {
                        type boolean;
                        default "false";
                        description "Use Bidirectional Forwarding Detection for IPv4 on PIM interface";
                    }

                    ///nokia-conf/configure/router/pim/interface/bfd-liveness/ipv6
                    leaf ipv6 {
                        type boolean;
                        default "false";
                        description "Use Bidirectional Forwarding Detection for IPv6 on PIM interface";
                    }

                } // container bfd-liveness

                ///nokia-conf/configure/router/pim/interface/ipv4
                container ipv4 {
                    description "Enter the ipv4 context";

                    ///nokia-conf/configure/router/pim/interface/ipv4/multicast
                    leaf multicast {
                        type boolean;
                        default "true";
                        description "Enable PIM interface operation";
                    }

                    ///nokia-conf/configure/router/pim/interface/ipv4/apply-groups
                    leaf-list apply-groups {
                        type leafref {
                            path "../../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        description "Apply a configuration group at this level";
                    }

                    ///nokia-conf/configure/router/pim/interface/ipv4/apply-groups-exclude
                    leaf-list apply-groups-exclude {
                        type leafref {
                            path "../../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        description "Exclude a configuration group at this level";
                    }

                    ///nokia-conf/configure/router/pim/interface/ipv4/monitor-oper-group
                    container monitor-oper-group {
                        description "Enter the monitor-oper-group context";

                        ///nokia-conf/configure/router/pim/interface/ipv4/monitor-oper-group/name
                        leaf name {
                            type leafref {
                                path "../../../../../../service/oper-group/name";
                            }
                            description "Operational group identifier";
                        }

                        ///nokia-conf/configure/router/pim/interface/ipv4/monitor-oper-group/operation
                        leaf operation {
                            type enumeration {
                                enum add                            { value 1; }
                                enum subtract                       { value 2; }
                                enum set                            { value 3; }
                            }
                            description "Operation performed when operational group is active";
                        }

                        ///nokia-conf/configure/router/pim/interface/ipv4/monitor-oper-group/priority-delta
                        leaf priority-delta {
                            type uint32 {
                                range "1..4294967295";
                            }
                            description "Delta priority with operation when operational group is active";
                        }

                    } // container monitor-oper-group

                } // container ipv4

                ///nokia-conf/configure/router/pim/interface/ipv6
                container ipv6 {
                    description "Enable the ipv6 context";

                    ///nokia-conf/configure/router/pim/interface/ipv6/multicast
                    leaf multicast {
                        type boolean;
                        default "true";
                        description "Enable PIM interface operation";
                    }

                    ///nokia-conf/configure/router/pim/interface/ipv6/apply-groups
                    leaf-list apply-groups {
                        type leafref {
                            path "../../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        description "Apply a configuration group at this level";
                    }

                    ///nokia-conf/configure/router/pim/interface/ipv6/apply-groups-exclude
                    leaf-list apply-groups-exclude {
                        type leafref {
                            path "../../../../../groups/group/name";
                        }
                        max-elements 8;
                        ordered-by user;
                        description "Exclude a configuration group at this level";
                    }

                    ///nokia-conf/configure/router/pim/interface/ipv6/monitor-oper-group
                    container monitor-oper-group {
                        description "Enter the monitor-oper-group context";

                        ///nokia-conf/configure/router/pim/interface/ipv6/monitor-oper-group/name
                        leaf name {
                            type leafref {
                                path "../../../../../../service/oper-group/name";
                            }
                            description "Operational group identifier";
                        }

                        ///nokia-conf/configure/router/pim/interface/ipv6/monitor-oper-group/operation
                        leaf operation {
                            type enumeration {
                                enum add                            { value 1; }
                                enum subtract                       { value 2; }
                                enum set                            { value 3; }
                            }
                            description "Operation performed when operational group is active";
                        }

                        ///nokia-conf/configure/router/pim/interface/ipv6/monitor-oper-group/priority-delta
                        leaf priority-delta {
                            type uint32 {
                                range "1..4294967295";
                            }
                            description "Delta priority with operation when operational group is active";
                        }

                    } // container monitor-oper-group

                } // container ipv6

                ///nokia-conf/configure/router/pim/interface/sticky-dr
                container sticky-dr {
                    presence "Enable the sticky-dr context";
                    description "Enable the sticky-dr context";

                    ///nokia-conf/configure/router/pim/interface/sticky-dr/priority
                    leaf priority {
                        type uint32 {
                            range "1..max";
                        }
                        default "1024";
                        description "DR election priority for this interface";
                    }

                } // container sticky-dr

                ///nokia-conf/configure/router/pim/interface/mcac
                container mcac {
                    description "Enter the mcac context";

                    ///nokia-conf/configure/router/pim/interface/mcac/interface-policy
                    leaf interface-policy {
                        type leafref {
                            path "../../../../../mcac/interface-policy/policy-name";
                        }
                        description "Name of multicast CAC interface policy";
                    }

                    ///nokia-conf/configure/router/pim/interface/mcac/policy
                    leaf policy {
                        type leafref {
                            path "../../../../../mcac/policy/policy-name";
                        }
                        description "Multicast CAC policy name";
                    }

                    ///nokia-conf/configure/router/pim/interface/mcac/bandwidth
                    container bandwidth {
                        description "Enter the bandwidth context";

                        ///nokia-conf/configure/router/pim/interface/mcac/bandwidth/total
                        leaf total {
                            type types-mcast-cac:bandwidth-limit;
                            description "Maximum allowed bandwidth";
                        }

                        ///nokia-conf/configure/router/pim/interface/mcac/bandwidth/mandatory
                        leaf mandatory {
                            type types-mcast-cac:bandwidth-limit;
                            description "Pre-reserved bandwidth for all mandatory channels";
                        }

                    } // container bandwidth

                    ///nokia-conf/configure/router/pim/interface/mcac/mc-constraints
                    container mc-constraints {
                        description "Enter the mc-constraints context";

                        ///nokia-conf/configure/router/pim/interface/mcac/mc-constraints/use-lag-port-weight
                        leaf use-lag-port-weight {
                            type boolean;
                            default "false";
                            description "Use LAG port weight in calculating MCAC constraints";
                        }

                        ///nokia-conf/configure/router/pim/interface/mcac/mc-constraints/admin-state
                        leaf admin-state {
                            type types-sros:admin-state;
                            default "enable";
                            description "Administrative state of the multicast CAC constraints";
                        }

                        ///nokia-conf/configure/router/pim/interface/mcac/mc-constraints/level
                        list level {
                            key "level-id";
                            description "Enter the level list instance";

                            ///nokia-conf/configure/router/pim/interface/mcac/mc-constraints/level/level-id
                            leaf level-id {
                                type types-mcast-cac:constraints-level;
                                description "Bandwidth level ID for an MCAC constraint";
                            }

                            ///nokia-conf/configure/router/pim/interface/mcac/mc-constraints/level/bandwidth
                            leaf bandwidth {
                                type types-mcast-cac:bandwidth {
                                    range "0..2147483647";
                                }
                                mandatory true;
                                description "Bandwidth available for this level";
                            }

                            ///nokia-conf/configure/router/pim/interface/mcac/mc-constraints/level/apply-groups
                            leaf-list apply-groups {
                                type leafref {
                                    path "../../../../../../../groups/group/name";
                                }
                                max-elements 8;
                                ordered-by user;
                                description "Apply a configuration group at this level";
                            }

                            ///nokia-conf/configure/router/pim/interface/mcac/mc-constraints/level/apply-groups-exclude
                            leaf-list apply-groups-exclude {
                                type leafref {
                                    path "../../../../../../../groups/group/name";
                                }
                                max-elements 8;
                                ordered-by user;
                                description "Exclude a configuration group at this level";
                            }

                        } // list level

                        ///nokia-conf/configure/router/pim/interface/mcac/mc-constraints/number-down
                        list number-down {
                            key "number-lag-port-down";
                            description "Enter the number-down list instance";

                            ///nokia-conf/configure/router/pim/interface/mcac/mc-constraints/number-down/number-lag-port-down
                            leaf number-lag-port-down {
                                type uint32 {
                                    range "1..64";
                                }
                                description "Number of ports that are down in this LAG link";
                            }

                            ///nokia-conf/configure/router/pim/interface/mcac/mc-constraints/number-down/level
                            leaf level {
                                type types-mcast-cac:constraints-level;
                                mandatory true;
                                description "Level ID to associate with number of down LAG ports";
                            }

                            ///nokia-conf/configure/router/pim/interface/mcac/mc-constraints/number-down/apply-groups
                            leaf-list apply-groups {
                                type leafref {
                                    path "../../../../../../../groups/group/name";
                                }
                                max-elements 8;
                                ordered-by user;
                                description "Apply a configuration group at this level";
                            }

                            ///nokia-conf/configure/router/pim/interface/mcac/mc-constraints/number-down/apply-groups-exclude
                            leaf-list apply-groups-exclude {
                                type leafref {
                                    path "../../../../../../../groups/group/name";
                                }
                                max-elements 8;
                                ordered-by user;
                                description "Exclude a configuration group at this level";
                            }

                        } // list number-down

                    } // container mc-constraints

                } // container mcac

                ///nokia-conf/configure/router/pim/interface/bier-signaling-type
                container bier-signaling-type {
                    description "Enter the bier-signaling-type context";

                    ///nokia-conf/configure/router/pim/interface/bier-signaling-type/ipv4
                    leaf ipv4 {
                        type boolean;
                        default "false";
                        description "Enable PIM IPv4 signaling through a BIER domain";
                    }

                    ///nokia-conf/configure/router/pim/interface/bier-signaling-type/ipv6
                    leaf ipv6 {
                        type boolean;
                        default "false";
                        description "Enable PIM IPv6 signaling through a BIER domain";
                    }

                } // container bier-signaling-type

            } // list interface

            ///nokia-conf/configure/router/pim/rp
            container rp {
                description "Enter the rp context";

                ///nokia-conf/configure/router/pim/rp/bootstrap
                container bootstrap {
                    description "Enter the bootstrap context";

                    ///nokia-conf/configure/router/pim/rp/bootstrap/import
                    leaf-list import {
                        type leafref {
                            path "../../../../../policy-options/policy-statement/name";
                        }
                        max-elements 5;
                        ordered-by user;
                        description "Character limit for policy name";
                    }

                    ///nokia-conf/configure/router/pim/rp/bootstrap/export
                    leaf-list export {
                        type leafref {
                            path "../../../../../policy-options/policy-statement/name";
                        }
                        max-elements 5;
                        ordered-by user;
                        description "Character limit for policy name";
                    }

                } // container bootstrap

                ///nokia-conf/configure/router/pim/rp/ipv4
                container ipv4 {
                    description "Enter the ipv4 context";

                    ///nokia-conf/configure/router/pim/rp/ipv4/auto-rp-discovery
                    leaf auto-rp-discovery {
                        type boolean;
                        default "false";
                        description "Enable auto RP discovery";
                    }

                    ///nokia-conf/configure/router/pim/rp/ipv4/candidate
                    leaf candidate {
                        type boolean;
                        default "false";
                        description "Enable auto-RP to advertise candidate RP information";
                    }

                    ///nokia-conf/configure/router/pim/rp/ipv4/mapping-agent
                    leaf mapping-agent {
                        type boolean;
                        default "false";
                        description "Enable the mapping agent on the node";
                    }

                    ///nokia-conf/configure/router/pim/rp/ipv4/anycast
                    list anycast {
                        key "ipv4-address rp-set-peer";
                        description "Add a list entry for anycast";

                        ///nokia-conf/configure/router/pim/rp/ipv4/anycast/ipv4-address
                        leaf ipv4-address {
                            type types-sros:ipv4-unicast-address;
                            description "Loopback IP address shared by routes in RP set";
                        }

                        ///nokia-conf/configure/router/pim/rp/ipv4/anycast/rp-set-peer
                        leaf rp-set-peer {
                            type types-sros:ipv4-unicast-address;
                            description "Configure a peer in the anycast rp-set.";
                        }

                    } // list anycast

                    ///nokia-conf/configure/router/pim/rp/ipv4/bsr-candidate
                    container bsr-candidate {
                        description "Enter the bsr-candidate context";

                        ///nokia-conf/configure/router/pim/rp/ipv4/bsr-candidate/admin-state
                        leaf admin-state {
                            type types-sros:admin-state;
                            default "disable";
                            description "Administrative state of the Candidate BSR";
                        }

                        ///nokia-conf/configure/router/pim/rp/ipv4/bsr-candidate/priority
                        leaf priority {
                            type int32 {
                                range "0..255";
                            }
                            default "0";
                            description "Bootstrap priority of the router";
                        }

                        ///nokia-conf/configure/router/pim/rp/ipv4/bsr-candidate/address
                        leaf address {
                            type types-sros:ipv4-unicast-address;
                            description "Candidate BSR IP address for Bootstrap Router election";
                        }

                        ///nokia-conf/configure/router/pim/rp/ipv4/bsr-candidate/hash-mask-len
                        leaf hash-mask-len {
                            type int32 {
                                range "0..32";
                            }
                            default "30";
                            description "Length for bootstrap hash mask";
                        }

                    } // container bsr-candidate

                    ///nokia-conf/configure/router/pim/rp/ipv4/rp-candidate
                    container rp-candidate {
                        description "Enter the rp-candidate context";

                        ///nokia-conf/configure/router/pim/rp/ipv4/rp-candidate/admin-state
                        leaf admin-state {
                            type types-sros:admin-state;
                            default "disable";
                            description "Administrative state of the Candidate RP";
                        }

                        ///nokia-conf/configure/router/pim/rp/ipv4/rp-candidate/holdtime
                        leaf holdtime {
                            type int32 {
                                range "5..255";
                            }
                            units "seconds";
                            default "150";
                            description "Time during which the neighboring router considers this router to be up";
                        }

                        ///nokia-conf/configure/router/pim/rp/ipv4/rp-candidate/priority
                        leaf priority {
                            type int32 {
                                range "0..255";
                            }
                            default "192";
                            description "Candidate RP priority";
                        }

                        ///nokia-conf/configure/router/pim/rp/ipv4/rp-candidate/address
                        leaf address {
                            type types-sros:ipv4-unicast-address;
                            description "Local RP address";
                        }

                        ///nokia-conf/configure/router/pim/rp/ipv4/rp-candidate/group-range
                        list group-range {
                            key "ipv4-prefix";
                            description "Add a list entry for group-range";

                            ///nokia-conf/configure/router/pim/rp/ipv4/rp-candidate/group-range/ipv4-prefix
                            leaf ipv4-prefix {
                                type types-sros:ipv4-multicast-prefix;
                                description "IPv4 address and prefix length";
                            }

                        } // list group-range

                    } // container rp-candidate

                    ///nokia-conf/configure/router/pim/rp/ipv4/static
                    container static {
                        description "Enter the static context";

                        ///nokia-conf/configure/router/pim/rp/ipv4/static/address
                        list address {
                            key "ipv4-address";
                            description "Enter the address list instance";

                            ///nokia-conf/configure/router/pim/rp/ipv4/static/address/ipv4-address
                            leaf ipv4-address {
                                type types-sros:ipv4-unicast-address;
                                description "IPv4 address for the static RP";
                            }

                            ///nokia-conf/configure/router/pim/rp/ipv4/static/address/override
                            leaf override {
                                type boolean;
                                default "false";
                                description "Change the precedence for static RP over dynamically learnt RP";
                            }

                            ///nokia-conf/configure/router/pim/rp/ipv4/static/address/apply-groups
                            leaf-list apply-groups {
                                type leafref {
                                    path "../../../../../../../groups/group/name";
                                }
                                max-elements 8;
                                ordered-by user;
                                description "Apply a configuration group at this level";
                            }

                            ///nokia-conf/configure/router/pim/rp/ipv4/static/address/apply-groups-exclude
                            leaf-list apply-groups-exclude {
                                type leafref {
                                    path "../../../../../../../groups/group/name";
                                }
                                max-elements 8;
                                ordered-by user;
                                description "Exclude a configuration group at this level";
                            }

                            ///nokia-conf/configure/router/pim/rp/ipv4/static/address/group-prefix
                            list group-prefix {
                                key "ipv4-prefix";
                                description "Add a list entry for group-prefix";

                                ///nokia-conf/configure/router/pim/rp/ipv4/static/address/group-prefix/ipv4-prefix
                                leaf ipv4-prefix {
                                    type types-sros:ipv4-multicast-prefix;
                                    description "IPv4 address and prefix length";
                                }

                            } // list group-prefix

                        } // list address

                    } // container static

                } // container ipv4

                ///nokia-conf/configure/router/pim/rp/ipv6
                container ipv6 {
                    description "Enter the ipv6 context";

                    ///nokia-conf/configure/router/pim/rp/ipv6/anycast
                    list anycast {
                        key "ipv6-address rp-set-peer";
                        description "Add a list entry for anycast";

                        ///nokia-conf/configure/router/pim/rp/ipv6/anycast/ipv6-address
                        leaf ipv6-address {
                            type types-sros:ipv6-unicast-address;
                            description "Loopback IP address shared by routes in RP set";
                        }

                        ///nokia-conf/configure/router/pim/rp/ipv6/anycast/rp-set-peer
                        leaf rp-set-peer {
                            type types-sros:ipv6-unicast-address;
                            description "Peer in the anycast RP set";
                        }

                    } // list anycast

                    ///nokia-conf/configure/router/pim/rp/ipv6/bsr-candidate
                    container bsr-candidate {
                        description "Enter the bsr-candidate context";

                        ///nokia-conf/configure/router/pim/rp/ipv6/bsr-candidate/admin-state
                        leaf admin-state {
                            type types-sros:admin-state;
                            default "disable";
                            description "Administrative state of the Candidate BSR";
                        }

                        ///nokia-conf/configure/router/pim/rp/ipv6/bsr-candidate/priority
                        leaf priority {
                            type int32 {
                                range "0..255";
                            }
                            default "0";
                            description "Bootstrap priority of the router";
                        }

                        ///nokia-conf/configure/router/pim/rp/ipv6/bsr-candidate/address
                        leaf address {
                            type types-sros:ipv6-unicast-address;
                            description "Candidate BSR IP address for Bootstrap Router election";
                        }

                        ///nokia-conf/configure/router/pim/rp/ipv6/bsr-candidate/hash-mask-len
                        leaf hash-mask-len {
                            type int32 {
                                range "0..128";
                            }
                            default "126";
                            description "Length for bootstrap hash mask";
                        }

                    } // container bsr-candidate

                    ///nokia-conf/configure/router/pim/rp/ipv6/embedded-rp
                    container embedded-rp {
                        presence "Enable the embedded-rp context";
                        description "Enable the embedded-rp context";

                        ///nokia-conf/configure/router/pim/rp/ipv6/embedded-rp/admin-state
                        leaf admin-state {
                            type types-sros:admin-state;
                            default "disable";
                            description "Administrative state of embedded RP";
                        }

                        ///nokia-conf/configure/router/pim/rp/ipv6/embedded-rp/group-range
                        list group-range {
                            key "ipv6-prefix";
                            description "Add a list entry for group-range";

                            ///nokia-conf/configure/router/pim/rp/ipv6/embedded-rp/group-range/ipv6-prefix
                            leaf ipv6-prefix {
                                type types-sros:ipv6-multicast-prefix;
                                description "IPv6 address and prefix length";
                            }

                        } // list group-range

                    } // container embedded-rp

                    ///nokia-conf/configure/router/pim/rp/ipv6/rp-candidate
                    container rp-candidate {
                        description "Enter the rp-candidate context";

                        ///nokia-conf/configure/router/pim/rp/ipv6/rp-candidate/admin-state
                        leaf admin-state {
                            type types-sros:admin-state;
                            default "disable";
                            description "Administrative state of the Candidate RP";
                        }

                        ///nokia-conf/configure/router/pim/rp/ipv6/rp-candidate/holdtime
                        leaf holdtime {
                            type int32 {
                                range "5..255";
                            }
                            units "seconds";
                            default "150";
                            description "Time during which the neighboring router considers this router to be up";
                        }

                        ///nokia-conf/configure/router/pim/rp/ipv6/rp-candidate/priority
                        leaf priority {
                            type int32 {
                                range "0..255";
                            }
                            default "192";
                            description "Candidate RP priority";
                        }

                        ///nokia-conf/configure/router/pim/rp/ipv6/rp-candidate/address
                        leaf address {
                            type types-sros:ipv6-unicast-address;
                            description "Local RP address";
                        }

                        ///nokia-conf/configure/router/pim/rp/ipv6/rp-candidate/group-range
                        list group-range {
                            key "ipv6-prefix";
                            description "Add a list entry for group-range";

                            ///nokia-conf/configure/router/pim/rp/ipv6/rp-candidate/group-range/ipv6-prefix
                            leaf ipv6-prefix {
                                type types-sros:ipv6-multicast-prefix;
                                description "IPv6 address and prefix length";
                            }

                        } // list group-range

                    } // container rp-candidate

                    ///nokia-conf/configure/router/pim/rp/ipv6/static
                    container static {
                        description "Enter the static context";

                        ///nokia-conf/configure/router/pim/rp/ipv6/static/address
                        list address {
                            key "ipv6-address";
                            description "Enter the address list instance";

                            ///nokia-conf/configure/router/pim/rp/ipv6/static/address/ipv6-address
                            leaf ipv6-address {
                                type types-sros:ipv6-unicast-address;
                                description "Static IP address of the RP";
                            }

                            ///nokia-conf/configure/router/pim/rp/ipv6/static/address/override
                            leaf override {
                                type boolean;
                                default "false";
                                description "Change the precedence for static RP over dynamically learnt RP";
                            }

                            ///nokia-conf/configure/router/pim/rp/ipv6/static/address/apply-groups
                            leaf-list apply-groups {
                                type leafref {
                                    path "../../../../../../../groups/group/name";
                                }
                                max-elements 8;
                                ordered-by user;
                                description "Apply a configuration group at this level";
                            }

                            ///nokia-conf/configure/router/pim/rp/ipv6/static/address/apply-groups-exclude
                            leaf-list apply-groups-exclude {
                                type leafref {
                                    path "../../../../../../../groups/group/name";
                                }
                                max-elements 8;
                                ordered-by user;
                                description "Exclude a configuration group at this level";
                            }

                            ///nokia-conf/configure/router/pim/rp/ipv6/static/address/group-prefix
                            list group-prefix {
                                key "ipv6-prefix";
                                description "Add a list entry for group-prefix";

                                ///nokia-conf/configure/router/pim/rp/ipv6/static/address/group-prefix/ipv6-prefix
                                leaf ipv6-prefix {
                                    type types-sros:ipv6-multicast-prefix;
                                    description "IPv6 address and prefix length";
                                }

                            } // list group-prefix

                        } // list address

                    } // container static

                } // container ipv6

            } // container rp

            ///nokia-conf/configure/router/pim/rpfv
            container rpfv {
                description "Enter the rpfv context";

                ///nokia-conf/configure/router/pim/rpfv/mvpn
                leaf mvpn {
                    type boolean;
                    default "false";
                    description "Include proxy RPF vector for Inter-AS Rosen MVPN";
                }

                ///nokia-conf/configure/router/pim/rpfv/core
                leaf core {
                    type boolean;
                    default "false";
                    description "Include proxy RPF vector for core";
                }

            } // container rpfv

            ///nokia-conf/configure/router/pim/spt-switchover
            list spt-switchover {
                key "ip-prefix";
                description "Enter the spt-switchover list instance";

                ///nokia-conf/configure/router/pim/spt-switchover/ip-prefix
                leaf ip-prefix {
                    type types-sros:ip-multicast-prefix;
                    description "IP address and mask length";
                }

                ///nokia-conf/configure/router/pim/spt-switchover/threshold
                leaf threshold {
                    type union {
                        type uint32 {
                            range "1..4294967294";
                        }
                        type enumeration {
                            enum infinity                       { value -1; }
                        }
                    }
                    units "kilobps";
                    mandatory true;
                    description "SPT switchover threshold";
                }

                ///nokia-conf/configure/router/pim/spt-switchover/apply-groups
                leaf-list apply-groups {
                    type leafref {
                        path "../../../../groups/group/name";
                    }
                    max-elements 8;
                    ordered-by user;
                    description "Apply a configuration group at this level";
                }

                ///nokia-conf/configure/router/pim/spt-switchover/apply-groups-exclude
                leaf-list apply-groups-exclude {
                    type leafref {
                        path "../../../../groups/group/name";
                    }
                    max-elements 8;
                    ordered-by user;
                    description "Exclude a configuration group at this level";
                }

            } // list spt-switchover

            ///nokia-conf/configure/router/pim/ssm-groups
            container ssm-groups {
                description "Enter the ssm-groups context";

                ///nokia-conf/configure/router/pim/ssm-groups/group-range
                list group-range {
                    key "ip-prefix";
                    description "Add a list entry for group-range";

                    ///nokia-conf/configure/router/pim/ssm-groups/group-range/ip-prefix
                    leaf ip-prefix {
                        type types-sros:ip-multicast-prefix;
                        description "IP address and mask length";
                    }

                } // list group-range

            } // container ssm-groups

        } // container pim

    } // grouping conf-router-pim

}
