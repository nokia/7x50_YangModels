submodule nokia-conf-port-otu {

    yang-version "1.1";

    belongs-to nokia-conf { prefix "conf"; }

    import nokia-sros-yang-extensions     { prefix "sros-ext"; }
    import nokia-types-port               { prefix "types-port"; }

    include nokia-conf-groups;

    sros-ext:sros-major-release "rel23";
    organization "Nokia";
    contact
        "Nokia SR OS Support
         Web: <http://www.nokia.com>";
    description
        "Nokia YANG Data model to configure optical transport unit ports on SR OS based routers.

         Copyright 2016 Nokia. All rights reserved. Reproduction of this document
         is authorized on the condition that the foregoing copyright notice is included.

         This nokia-conf-port-otu YANG module embodies Nokia's proprietary
         intellectual property. Nokia retains all title and ownership in the
         specification, including any revisions.

         Nokia grants all interested parties a non-exclusive license to use
         and distribute an unmodified copy of this specification in connection with
         management of Nokia products, and without fee, provided this
         copyright notice and license appear on all copies.

         This specification is supplied `as is', and Nokia makes no warranty,
         either express or implied, as to the use, operation, condition, or performance
         of the specification.";
    revision "2022-09-06";

    grouping conf-port-otu {
        ///nokia-conf/configure/port/otu
        container otu {
            presence "Enable the otu context";
            description "Enable the otu context";

            ///nokia-conf/configure/port/otu/async-mapping
            leaf async-mapping {
                type boolean;
                description "Allow asynchoronous mapping of the payload inside OTU";
            }

            ///nokia-conf/configure/port/otu/fec
            leaf fec {
                type types-port:otu-fec-mode;
                description "Forwarding Error Correction (FEC) encapsulation on port";
            }

            ///nokia-conf/configure/port/otu/otu2-lan-data-rate
            leaf otu2-lan-data-rate {
                type types-port:otu2-lan-data-rate;
                units "gigabps";
                description "Data rate for 10GE LAN OTU2 on the port";
            }

            ///nokia-conf/configure/port/otu/sd-threshold
            leaf sd-threshold {
                type uint32 {
                    range "5..9";
                }
                default "7";
                description "Error rate at which to declare signal degrade condition";
            }

            ///nokia-conf/configure/port/otu/sf-threshold
            leaf sf-threshold {
                type uint32 {
                    range "3..6";
                }
                default "5";
                description "Error rate at which to declare signal fail condition";
            }

            ///nokia-conf/configure/port/otu/sf-sd-method
            leaf sf-sd-method {
                type types-port:otu-sf-sd-method;
                default "fec";
                description "Method used to determine the SF and SD alarms";
            }

            ///nokia-conf/configure/port/otu/apply-groups
            leaf-list apply-groups {
                type leafref {
                    path "../../../groups/group/name";
                }
                max-elements 8;
                ordered-by user;
                description "Apply a configuration group at this level";
            }

            ///nokia-conf/configure/port/otu/apply-groups-exclude
            leaf-list apply-groups-exclude {
                type leafref {
                    path "../../../groups/group/name";
                }
                max-elements 8;
                ordered-by user;
                description "Exclude a configuration group at this level";
            }

            ///nokia-conf/configure/port/otu/report-alarm
            container report-alarm {
                description "Enter the report-alarm context";

                ///nokia-conf/configure/port/otu/report-alarm/loc
                leaf loc {
                    type boolean;
                    default "true";
                    description "Report OTU alarm for loss of clock";
                }

                ///nokia-conf/configure/port/otu/report-alarm/los
                leaf los {
                    type boolean;
                    default "true";
                    description "Report alarm for the loss of signal transitions on data";
                }

                ///nokia-conf/configure/port/otu/report-alarm/lof
                leaf lof {
                    type boolean;
                    default "true";
                    description "Report alarm for the loss of OTU framing";
                }

                ///nokia-conf/configure/port/otu/report-alarm/lom
                leaf lom {
                    type boolean;
                    default "true";
                    description "Report alarm for the loss of multi-frame";
                }

                ///nokia-conf/configure/port/otu/report-alarm/otu-ais
                leaf otu-ais {
                    type boolean;
                    default "false";
                    description "Report OTU Alarm Indication Signal alarm";
                }

                ///nokia-conf/configure/port/otu/report-alarm/otu-ber-sf
                leaf otu-ber-sf {
                    type boolean;
                    default "true";
                    description "Report SM Signal Fail alarm";
                }

                ///nokia-conf/configure/port/otu/report-alarm/otu-ber-sd
                leaf otu-ber-sd {
                    type boolean;
                    default "false";
                    description "Report SM Signal Degrade alarm";
                }

                ///nokia-conf/configure/port/otu/report-alarm/otu-bdi
                leaf otu-bdi {
                    type boolean;
                    default "true";
                    description "Report SM Backward Defect Indication alarm";
                }

                ///nokia-conf/configure/port/otu/report-alarm/otu-tim
                leaf otu-tim {
                    type boolean;
                    default "false";
                    description "Report SM Trace ID Mismatch alarm";
                }

                ///nokia-conf/configure/port/otu/report-alarm/otu-iae
                leaf otu-iae {
                    type boolean;
                    default "false";
                    description "Report SM Incoming Alignment Error alarm";
                }

                ///nokia-conf/configure/port/otu/report-alarm/otu-biae
                leaf otu-biae {
                    type boolean;
                    default "false";
                    description "Report SM Backward Incoming Alignment Error alarm";
                }

                ///nokia-conf/configure/port/otu/report-alarm/fec-sf
                leaf fec-sf {
                    type boolean;
                    default "true";
                    description "Report Signal Fail alarm";
                }

                ///nokia-conf/configure/port/otu/report-alarm/fec-sd
                leaf fec-sd {
                    type boolean;
                    default "false";
                    description "Report Signal Degrade alarm";
                }

                ///nokia-conf/configure/port/otu/report-alarm/fec-fail
                leaf fec-fail {
                    type boolean;
                    default "false";
                    description "Report FEC mode mismatch alarm";
                }

                ///nokia-conf/configure/port/otu/report-alarm/fec-uncorr
                leaf fec-uncorr {
                    type boolean;
                    default "false";
                    description "Report one or more Uncorrectable FEC errors alarm";
                }

                ///nokia-conf/configure/port/otu/report-alarm/odu-ais
                leaf odu-ais {
                    type boolean;
                    default "false";
                    description "Report ODU Alarm Indication Signal alarm";
                }

                ///nokia-conf/configure/port/otu/report-alarm/odu-oci
                leaf odu-oci {
                    type boolean;
                    default "false";
                    description "Report ODU Open Connection Indication alarm";
                }

                ///nokia-conf/configure/port/otu/report-alarm/odu-lck
                leaf odu-lck {
                    type boolean;
                    default "false";
                    description "Report ODU Locked alarm";
                }

                ///nokia-conf/configure/port/otu/report-alarm/odu-bdi
                leaf odu-bdi {
                    type boolean;
                    default "false";
                    description "Report PM Backward Defect Indication alarm";
                }

                ///nokia-conf/configure/port/otu/report-alarm/odu-tim
                leaf odu-tim {
                    type boolean;
                    default "false";
                    description "Report PM Trace ID Mismatch alarm";
                }

                ///nokia-conf/configure/port/otu/report-alarm/opu-plm
                leaf opu-plm {
                    type boolean;
                    default "false";
                    description "Report PSI Payload Type Mismatch alarm";
                }

            } // container report-alarm

            ///nokia-conf/configure/port/otu/fine-granularity-ber
            container fine-granularity-ber {
                description "Enter the fine-granularity-ber context";

                ///nokia-conf/configure/port/otu/fine-granularity-ber/signal-degrade
                container signal-degrade {
                    description "Enter the signal-degrade context";

                    ///nokia-conf/configure/port/otu/fine-granularity-ber/signal-degrade/raise
                    container raise {
                        description "Enter the raise context";

                        ///nokia-conf/configure/port/otu/fine-granularity-ber/signal-degrade/raise/threshold
                        leaf threshold {
                            type uint32 {
                                range "3..9";
                            }
                            default "7";
                            description "SD raise threshold";
                        }

                        ///nokia-conf/configure/port/otu/fine-granularity-ber/signal-degrade/raise/multiplier
                        leaf multiplier {
                            type uint32 {
                                range "10..99";
                            }
                            default "10";
                            description "Multiplier of the SD raise threshold";
                        }

                    } // container raise

                    ///nokia-conf/configure/port/otu/fine-granularity-ber/signal-degrade/clear
                    container clear {
                        description "Enter the clear context";

                        ///nokia-conf/configure/port/otu/fine-granularity-ber/signal-degrade/clear/threshold
                        leaf threshold {
                            type uint32 {
                                range "3..10";
                            }
                            default "8";
                            description "SD clear threshold";
                        }

                        ///nokia-conf/configure/port/otu/fine-granularity-ber/signal-degrade/clear/multiplier
                        leaf multiplier {
                            type uint32 {
                                range "10..99";
                            }
                            default "10";
                            description "Multiplier of the SD clear threshold";
                        }

                    } // container clear

                } // container signal-degrade

                ///nokia-conf/configure/port/otu/fine-granularity-ber/signal-failure
                container signal-failure {
                    description "Enter the signal-failure context";

                    ///nokia-conf/configure/port/otu/fine-granularity-ber/signal-failure/raise
                    container raise {
                        description "Enter the raise context";

                        ///nokia-conf/configure/port/otu/fine-granularity-ber/signal-failure/raise/threshold
                        leaf threshold {
                            type uint32 {
                                range "3..8";
                            }
                            default "5";
                            description "SF raise threshold";
                        }

                        ///nokia-conf/configure/port/otu/fine-granularity-ber/signal-failure/raise/multiplier
                        leaf multiplier {
                            type uint32 {
                                range "10..99";
                            }
                            default "10";
                            description "SF raise threshold";
                        }

                    } // container raise

                    ///nokia-conf/configure/port/otu/fine-granularity-ber/signal-failure/clear
                    container clear {
                        description "Enter the clear context";

                        ///nokia-conf/configure/port/otu/fine-granularity-ber/signal-failure/clear/threshold
                        leaf threshold {
                            type uint32 {
                                range "3..9";
                            }
                            default "6";
                            description "Threshold for the Multiplier of SD clear";
                        }

                        ///nokia-conf/configure/port/otu/fine-granularity-ber/signal-failure/clear/multiplier
                        leaf multiplier {
                            type uint32 {
                                range "10..99";
                            }
                            default "10";
                            description "Threshold for the Multiplier of SD clear";
                        }

                    } // container clear

                } // container signal-failure

            } // container fine-granularity-ber

            ///nokia-conf/configure/port/otu/path-monitoring
            container path-monitoring {
                description "Enter the path-monitoring context";

                ///nokia-conf/configure/port/otu/path-monitoring/trail-trace-identifier
                container trail-trace-identifier {
                    description "Enter the trail-trace-identifier context";

                    ///nokia-conf/configure/port/otu/path-monitoring/trail-trace-identifier/mismatch-reaction
                    leaf mismatch-reaction {
                        type types-port:otu-tim-reaction;
                        description "Reaction to a mismatched TTI";
                    }

                    ///nokia-conf/configure/port/otu/path-monitoring/trail-trace-identifier/expected
                    container expected {
                        description "Enter the expected context";

                        ///nokia-conf/configure/port/otu/path-monitoring/trail-trace-identifier/expected/expected
                        choice expected {
                            default "auto-generated";
                            ///nokia-conf/configure/port/otu/path-monitoring/trail-trace-identifier/expected/expected/auto-generated
                            case auto-generated {

                                ///nokia-conf/configure/port/otu/path-monitoring/trail-trace-identifier/expected/expected/auto-generated/auto-generated
                                leaf auto-generated {
                                    type empty;
                                    description "Use the system generated TTI";
                                }

                            }
                            ///nokia-conf/configure/port/otu/path-monitoring/trail-trace-identifier/expected/expected/string
                            case string {

                                ///nokia-conf/configure/port/otu/path-monitoring/trail-trace-identifier/expected/expected/string/string
                                leaf string {
                                    type string {
                                        length "0..64";
                                    }
                                    description "TTI as a sequence of printable ASCII";
                                }

                            }
                            ///nokia-conf/configure/port/otu/path-monitoring/trail-trace-identifier/expected/expected/bytes
                            case bytes {

                                ///nokia-conf/configure/port/otu/path-monitoring/trail-trace-identifier/expected/expected/bytes/bytes
                                leaf bytes {
                                    type string {
                                        length "0..192";
                                    }
                                    description "TTI as a sequence of bytes";
                                }

                            }
                        }
                    } // container expected

                    ///nokia-conf/configure/port/otu/path-monitoring/trail-trace-identifier/transmit
                    container transmit {
                        description "Enter the transmit context";

                        ///nokia-conf/configure/port/otu/path-monitoring/trail-trace-identifier/transmit/transmit
                        choice transmit {
                            default "auto-generated";
                            ///nokia-conf/configure/port/otu/path-monitoring/trail-trace-identifier/transmit/transmit/auto-generated
                            case auto-generated {

                                ///nokia-conf/configure/port/otu/path-monitoring/trail-trace-identifier/transmit/transmit/auto-generated/auto-generated
                                leaf auto-generated {
                                    type empty;
                                    description "Use the system generated TTI";
                                }

                            }
                            ///nokia-conf/configure/port/otu/path-monitoring/trail-trace-identifier/transmit/transmit/string
                            case string {

                                ///nokia-conf/configure/port/otu/path-monitoring/trail-trace-identifier/transmit/transmit/string/string
                                leaf string {
                                    type string {
                                        length "0..64";
                                    }
                                    description "TTI as a sequence of printable ASCII";
                                }

                            }
                            ///nokia-conf/configure/port/otu/path-monitoring/trail-trace-identifier/transmit/transmit/bytes
                            case bytes {

                                ///nokia-conf/configure/port/otu/path-monitoring/trail-trace-identifier/transmit/transmit/bytes/bytes
                                leaf bytes {
                                    type string {
                                        length "0..192";
                                    }
                                    description "TTI as a sequence of bytes";
                                }

                            }
                        }
                    } // container transmit

                } // container trail-trace-identifier

            } // container path-monitoring

            ///nokia-conf/configure/port/otu/payload-structure-identifier
            container payload-structure-identifier {
                description "Enter the payload-structure-identifier context";

                ///nokia-conf/configure/port/otu/payload-structure-identifier/payload
                container payload {
                    description "Enter the payload context";

                    ///nokia-conf/configure/port/otu/payload-structure-identifier/payload/expected
                    leaf expected {
                        type types-port:otu-psi-payload-type;
                        default "auto";
                        description "Configure the port's PSI payload expected parameters.";
                    }

                    ///nokia-conf/configure/port/otu/payload-structure-identifier/payload/mismatch-reaction
                    leaf mismatch-reaction {
                        type types-port:otu-tim-reaction;
                        description "Reaction to a mismatched payload";
                    }

                    ///nokia-conf/configure/port/otu/payload-structure-identifier/payload/transmit
                    leaf transmit {
                        type types-port:otu-psi-payload-type;
                        default "auto";
                        description "Transmit payload type";
                    }

                } // container payload

            } // container payload-structure-identifier

            ///nokia-conf/configure/port/otu/section-monitoring
            container section-monitoring {
                description "Enter the section-monitoring context";

                ///nokia-conf/configure/port/otu/section-monitoring/trail-trace-identifier
                container trail-trace-identifier {
                    description "Enter the trail-trace-identifier context";

                    ///nokia-conf/configure/port/otu/section-monitoring/trail-trace-identifier/mismatch-reaction
                    leaf mismatch-reaction {
                        type types-port:otu-tim-reaction;
                        description "Reaction to a mismatched TTI";
                    }

                    ///nokia-conf/configure/port/otu/section-monitoring/trail-trace-identifier/expected
                    container expected {
                        description "Enter the expected context";

                        ///nokia-conf/configure/port/otu/section-monitoring/trail-trace-identifier/expected/expected
                        choice expected {
                            default "auto-generated";
                            ///nokia-conf/configure/port/otu/section-monitoring/trail-trace-identifier/expected/expected/auto-generated
                            case auto-generated {

                                ///nokia-conf/configure/port/otu/section-monitoring/trail-trace-identifier/expected/expected/auto-generated/auto-generated
                                leaf auto-generated {
                                    type empty;
                                    description "Use the system generated TTI";
                                }

                            }
                            ///nokia-conf/configure/port/otu/section-monitoring/trail-trace-identifier/expected/expected/string
                            case string {

                                ///nokia-conf/configure/port/otu/section-monitoring/trail-trace-identifier/expected/expected/string/string
                                leaf string {
                                    type string {
                                        length "0..64";
                                    }
                                    description "TTI as a sequence of printable ASCII";
                                }

                            }
                            ///nokia-conf/configure/port/otu/section-monitoring/trail-trace-identifier/expected/expected/bytes
                            case bytes {

                                ///nokia-conf/configure/port/otu/section-monitoring/trail-trace-identifier/expected/expected/bytes/bytes
                                leaf bytes {
                                    type string {
                                        length "0..192";
                                    }
                                    description "TTI as a sequence of bytes";
                                }

                            }
                        }
                    } // container expected

                    ///nokia-conf/configure/port/otu/section-monitoring/trail-trace-identifier/transmit
                    container transmit {
                        description "Enter the transmit context";

                        ///nokia-conf/configure/port/otu/section-monitoring/trail-trace-identifier/transmit/transmit
                        choice transmit {
                            default "auto-generated";
                            ///nokia-conf/configure/port/otu/section-monitoring/trail-trace-identifier/transmit/transmit/auto-generated
                            case auto-generated {

                                ///nokia-conf/configure/port/otu/section-monitoring/trail-trace-identifier/transmit/transmit/auto-generated/auto-generated
                                leaf auto-generated {
                                    type empty;
                                    description "Use the system generated TTI";
                                }

                            }
                            ///nokia-conf/configure/port/otu/section-monitoring/trail-trace-identifier/transmit/transmit/string
                            case string {

                                ///nokia-conf/configure/port/otu/section-monitoring/trail-trace-identifier/transmit/transmit/string/string
                                leaf string {
                                    type string {
                                        length "0..64";
                                    }
                                    description "TTI as a sequence of printable ASCII";
                                }

                            }
                            ///nokia-conf/configure/port/otu/section-monitoring/trail-trace-identifier/transmit/transmit/bytes
                            case bytes {

                                ///nokia-conf/configure/port/otu/section-monitoring/trail-trace-identifier/transmit/transmit/bytes/bytes
                                leaf bytes {
                                    type string {
                                        length "0..192";
                                    }
                                    description "TTI as a sequence of bytes";
                                }

                            }
                        }
                    } // container transmit

                } // container trail-trace-identifier

            } // container section-monitoring

        } // container otu

    } // grouping conf-port-otu

}
